# **Guía estudio para Azure AZ900** :smiley:
### **1.-Azure:** Es un servicio de computación en la nube :cloud: creado por Microsoft para construir, probar, desplegar y administrar aplicaciones y servicios mediante el uso de sus centros de datos. Proporciona software como servicio (SaaS), plataforma como servicio (PaaS) e infraestructura como servicio (IaaS) y es compatible con muchos lenguajes, herramientas y marcos de programación diferentes, incluidos software y sistemas específicos de Microsoft y de terceros.
![Azure logo](https://upload.wikimedia.org/wikipedia/commons/thumb/a/a8/Microsoft_Azure_Logo.svg/1280px-Microsoft_Azure_Logo.svg.png)

### **2.-TI:** Es el tratamiento, procesamiento, aplicación, difusión, recepción y salida de información por cualquier medio tecnológico. :computer:

### **3.-Programación:** Es hacer que la computadora, celular o aparato haga lo que tu quieres.
![Programacion](https://image.freepik.com/vector-gratis/lenguajes-programacion-establecen-iconos_24877-761.jpg)

### **4.-Hardware:** Se refiere a las partes físicas, tangibles, de un sistema informático, es la maquina sin programas ni nada. Pero ni hardware ni software pueden funcionar por separado. 
![Hardware](https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Personal_computer%2C_exploded_5.svg/1200px-Personal_computer%2C_exploded_5.svg.png)

### **5.-Host:** Se usa en informática para referirse a las computadoras u otros dispositivos (tabletas, móviles, portátiles) conectados a una red que proveen y utilizan servicios de ella. Los servidores deben utilizar anfitriones para tener acceso a la red y pueden, a su vez, pedir los mismos servicios a otras máquinas conectadas a la red. :house: :house:

### **6.-Configuraciones de hospedaje:** Configuraciones de hospedaje: es cuanta RAM, procesadores, Gigas de almacenamiento y tipo de almacenamiento (Disco duro mecánico o estático, siendo el estático más rápido). :computer: :computer:

### **7.-VPN o red privada virtual:** Es una tecnología de red de ordenadores que permite una extensión segura de la red de área local (LAN) sobre una red pública o no controlada como Internet. Permite que el ordenador en la red envíe y reciba datos sobre redes compartidas o públicas como si fuera una red privada, con toda la funcionalidad, seguridad y políticas de gestión de una red privada. Es una mascara para tu red que la hace más segura, privada y que puede cambiar las características del origen
![VPN](https://s1.nordcdn.com/nordvpn/media/1.772.0/images/download-hub/parent/content-de.png)

### **8.-Hipervisor:** Es una plataforma que permite aplicar diversas técnicas de control de virtualización para utilizar, al mismo tiempo, diferentes sistemas operativos  en una misma computadora. Es para que en una sola maquina virtual puedas poner 2 Windows o Windows y Linux.
### Algunos hipervisores:
![Hipervisores](https://cleformacion.com/documents/20738/55341/hipervisores1.png/096675f0-f7a2-4505-a104-af68f41eaaf4?t=1487591639503)

### **9.-Orquestador:** En la nube, se refiere a la composición de los elementos del sistema para respaldar las actividades del proveedor de la nube en la disposición, coordinación y administración de los recursos informáticos con el propósito de proporcionar los servicios para los consumidores de la nube. es algo que te ayuda a administrar los recursos que usas de manera más eficiente.
![Orquestador](https://www.interware.com.mx/hs-fs/hubfs/orquestación%20de%20servicios-2.gif?width=530&name=orquestación%20de%20servicios-2.gif)

### **10.-Interfaz:** Se utiliza en informática para nombrar a la conexión funcional entre dos sistemas, programas, dispositivos o componentes de cualquier tipo, que proporciona una comunicación de distintos niveles, permitiendo el intercambio de información. Es una conexión por cable, red inalámbrica, de programación o software para conectar dos o más cosas
![Interfaz](https://rockcontent.com/es/wp-content/uploads/sites/3/2019/02/Desenho-de-email-para-todos-os-dispositivos.png)

### **11.-Cluster:** Se aplica a los conjuntos de servidores unidos entre sí normalmente por una red de alta velocidad y que se comportan como si fuesen un único servidor. Es un conjunto de servidores que se unen para ser más poderosos.
![Cluster](https://help.qlik.com/es-ES/qlikview/November2018/Subsystems/Server/Content/Resources/Images/Clustering_servers_1.png)

### **12.-Microsoft Service Pass:** Es una promoción que lanza Microsoft por un periodo limitado de tiempo para que las personas puedan probar Azure de manera gratuita.
![Microsft Service Pass](https://i2.wp.com/unaaldia.hispasec.com/wp-content/uploads/2019/06/microsoft.jpg?fit=718%2C479&ssl=1&w=640)

### **13.-Balanceador de cargas:** Es un dispositivo de hardware o software que se pone al frente de un conjunto de servidores que atienden una aplicación y, tal como su nombre lo indica, asigna o balancea las solicitudes que llegan de los clientes a los servidores usando algún algoritmo. equilibra y distribuye el trabajo entre los servidores.
![Balanceador](https://redesteleco.com/wp-content/uploads/2019/04/load_balancer.jpg)

### **14.-Arquitectura (informática):** Es el diseño conceptual y la estructura operacional fundamental de un sistema de computadoras. Es decir, es un modelo y una descripción funcional de los requerimientos y las implementaciones de diseño para varias partes de una computadora, con especial interés en la forma en que la unidad central de proceso (CPU) trabaja internamente y accede a las direcciones de memoria. Es como está o va a estar construido el servidor, la computadora o la aplicación.
![Arquitectura](https://i.pinimg.com/originals/67/bd/24/67bd24037f2e30853f5bc1427eb84b86.jpg)

### **15.-Bot:** Es un programa informático que efectúa automáticamente tareas repetitivas a través de Internet, cuya realización por parte de una persona sería imposible o muy tediosa. Es un programa que hace cosas por ti. 
![Bot](https://http2.mlstatic.com/D_NQ_NP_943480-MLA32708746948_102019-W.jpg)

# **16.- Introducción a fundamentos de Azure**
## *¿Qué es la informática en la nube?*
### Es la entrega de servicios informáticos a través de Internet, lo que se conoce como la nube. Estos servicios incluyen servidores, almacenamiento, bases de datos, redes, software, análisis e inteligencia. La informática en la nube ofrece una innovación más rápida, recursos flexibles y economías de escala.
![nube](https://blog.educacionit.com/wp-content/uploads/2020/02/488074.jpg)
## *¿Por qué suele ser más barato usar la informática en la nube?*
### Normalmente solo se paga por los servicios en la nube que se usan, lo que permite:

<!-- UL -->
* Reducir los costos operativos.
* Ejecutar la infraestructura de forma más eficaz.
* Escalar a medida que cambien las necesidades empresariales.

### Dicho de otro modo, la informática en la nube es una forma de alquilar potencia de proceso y almacenamiento de un centro de datos de terceros. Los recursos de la nube se pueden tratar igual que los recursos de un centro de datos propio. Cuando haya terminado con ellos, solo hay que devolverlos. Únicamente se le cobrará por lo que use.

## *¿Por qué debería migrar a la nube?*
### La nube ayuda a moverse con más rapidez y a innovar de maneras que antes eran prácticamente imposibles.

### En este mundo digital cambiante, surgen dos tendencias:
<!-- UL -->
* Los equipos proporcionan nuevas características a los usuarios a velocidades récord.

* Los usuarios esperan una experiencia cada vez más amplia y envolvente con sus dispositivos y con el software.

### Las versiones de software antes se programaban en plazos de meses o incluso años. En la actualidad, los equipos publican características en lotes más pequeños que se suelen programar en días o semanas.

### Para desarrollar los servicios y ofrecer experiencias de usuario innovadoras y novedosas más rápidamente, la nube proporciona acceso a petición para:
<!-- UL -->

* Un grupo casi ilimitado de componentes de proceso, almacenamiento y redes sin procesar.
* Reconocimiento de voz y otros servicios cognitivos que ayudan a hacer que su aplicación destaque entre la multitud.
* Servicios de análisis que proporcionan datos de telemetría desde el software y los dispositivos.

## *¿Cuáles son algunas de las ventajas de la informática en la nube?*
### Las aplicaciones basadas en la nube emplean una gran cantidad de estrategias relacionadas:
<!-- UL -->

* Confiabilidad: en función del contrato de nivel de servicio que elija, las aplicaciones basadas en la nube pueden proporcionar una experiencia de usuario continua sin tiempo de inactividad perceptible aunque se produzcan errores.

* Escalabilidad: las aplicaciones en la nube se pueden escalar de dos maneras, sacando partido al mismo tiempo del escalado automático:

* Verticalmente: la capacidad informática se puede aumentar si se agrega RAM o CPU adicionales a una máquina virtual.

* Horizontalmente: la capacidad informática se puede aumentar si se agregan instancias de un recurso, como máquinas virtuales adicionales a la configuración.

* Elasticidad: las aplicaciones basadas en la nube se pueden configurar para que siempre tengan los recursos que necesitan.

* Agilidad: los recursos basados en la nube se pueden implementar y configurar rápidamente a medida que cambian los requisitos de la aplicación.

* Distribución geográfica: las aplicaciones y los datos se pueden implementar en centros de datos regionales de todo el mundo, lo que garantiza que los clientes siempre tendrán el mejor rendimiento de su región.

* Recuperación ante desastres: al usar los servicios de copia de seguridad basados en la nube, la replicación de datos y la distribución geográfica, podrá implementar las aplicaciones con la seguridad de saber que los datos están protegidos en caso de que se produzca un desastre.

## *¿Qué son los modelos de servicio en la nube?*

| Modelo informatico |          Descripción         |
| ------------------ | ---------------------------- |
|IaaS (Infraestructura como servicio	)                | Es el más parecido a la       administración de servidores físicos. Un proveedor de servicios en la nube mantiene actualizado el hardware, pero el mantenimiento del sistema operativo y la configuración de red es responsabilidad del inquilino de nube. Por ejemplo, las máquinas virtuales de Azure son dispositivos de proceso virtuales totalmente operativos que se ejecutan en centros de datos de Microsoft. Una ventaja de este modelo de servicio en la nube es la rápida implementación de nuevos dispositivos de proceso. La configuración de una máquina virtual nueva es considerablemente más rápida que la obtención, instalación y configuración de un servidor físico.
|PaaS (Plataforma como servicio	)              | Es un entorno de hospedaje administrado. El proveedor de servicios en la nube administra las máquinas virtuales y los recursos de red, y el inquilino de nube implementa sus aplicaciones en el entorno de hospedaje administrado. Por ejemplo, Azure App Services proporciona un entorno de hospedaje administrado en el que los desarrolladores pueden cargar sus aplicaciones web sin tener que preocuparse por el uso de los requisitos de hardware y software físicos.
|SaaS (Software como servicio	)              | El proveedor de servicios en la nube administra todos los aspectos del entorno de la aplicación, como las máquinas virtuales, los recursos de red, el almacenamiento de datos y las aplicaciones. El inquilino de nube solo necesita proporcionar sus datos a la aplicación administrada por el proveedor de servicios en la nube. Por ejemplo, Office 365 proporciona una versión de Office totalmente operativa que se ejecuta en la nube. Lo único que debe hacer es crear el contenido y Office 365 se encarga de todo lo demás.
### Servicios que pueden ejecutarse en cada uno de los modelos de servicio en la nube.
![Modelos de servicios](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/iaas-paas-saas.png)

### Responsabilidad entre un proveedor de servicios en la nube y un inquilino de nube.
![Responsabilidad](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/shared-responsibility.png)

## *¿Qué es la informática sin servidor?*
### Se superpone a PaaS y permite que los desarrolladores creen aplicaciones más rápidamente, ya que elimina la necesidad de administrar la infraestructura. En las aplicaciones sin servidor, el proveedor de servicios en la nube aprovisiona, escala y administra automáticamente la infraestructura necesaria para ejecutar el código. Las arquitecturas sin servidor son altamente escalables y controladas por eventos. Solo usan recursos cuando se produce una función o un desencadenador específico.

### Para comprender la definición de informática sin servidor, es importante tener en cuenta que los servidores siguen ejecutando el código. El término "sin servidor" procede del hecho de que las tareas asociadas a la administración y el aprovisionamiento de la infraestructura son invisibles para el desarrollador. Este enfoque permite a los desarrolladores centrar su atención en la lógica de negocios y ofrecer más valor al núcleo de la empresa. La informática sin servidor ayuda a los equipos a aumentar su productividad y a comercializar los productos con más rapidez. 

## *¿Qué son las nubes pública, privada e híbrida?*
|Modelo de implementación|     Descripción         |
| ------------------ | ---------------------------- |
|Nube pública	     | Los servicios se ofrecen a través de la red Internet pública y están disponibles para cualquiera que quiera comprarlos. Los recursos de nube como los servidores y el almacenamiento son propiedad de un proveedor de servicios en la nube de terceros, que los explota y distribuye a través de Internet.
|Nube privada	     | Los recursos informáticos son de uso exclusivo de los usuarios de una empresa u organización. Una nube privada puede estar ubicada físicamente en el centro de datos local de la organización. También la puede hospedar un proveedor de servicios de terceros.
|Nube híbrida	     | Este entorno informático combina una nube pública y una nube privada, lo que permite compartir datos y aplicaciones entre ellas.
### En la imagen siguiente se muestran algunos de los conceptos de informática en la nube.
![Informatica en la nube](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/cloud-computing-continuum.png)

## *¿Qué es Azure?*
### Es un conjunto de servicios en la nube en expansión constante que ayudan a la organización a cumplir los desafíos empresariales actuales y futuros. Azure le ofrece la libertad de compilar, administrar e implementar aplicaciones en una red global masiva mediante sus herramientas y plataformas favoritas.

## *¿Qué ofrece Azure?*

### Con la ayuda de Azure, tendrá todo lo que necesita para compilar su próxima gran solución.
### **Esté preparado para el futuro:** la innovación continua de Microsoft apoya el desarrollo actual y los proyectos de productos para el futuro.
![Que ofrece azure 1.1](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/future.png)

### *Cree a su ritmo:* Tiene opciones. Si mantiene un compromiso con el código abierto y admite todos los lenguajes y marcos, puede compilar como quiera e implementar donde quiera.
![Que ofrece azure 1.2](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/build.png)

### *Opere en el entorno híbrido sin problemas:** ya sea en el entorno local, en la nube o en el entorno perimetral, le apoyaremos donde esté.
![Que ofrece azure 1.3](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/hybrid.png)

### **Confíe en la nube:** Obtenga seguridad desde el principio, respaldada por un equipo de expertos, y un cumplimiento proactivo de confianza para las empresas consolidadas, los gobiernos y las nuevas empresas.
![Que ofrece azure 1.4](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/trust.png)

## *¿Qué puedo hacer con Azure?*

### Azure proporciona más de cien servicios que permiten hacer todo tipo de cosas: desde ejecutar las aplicaciones existentes en máquinas virtuales hasta explorar nuevos paradigmas de software, como bots inteligentes y realidad mixta. Azure proporciona servicios de inteligencia artificial y aprendizaje automático que pueden comunicarse naturalmente con los usuarios mediante la vista, el oído y la voz. También facilita soluciones de almacenamiento que crecen dinámicamente para dar cabida a grandes cantidades de datos. Los servicios de Azure permiten soluciones que no son factibles sin la potencia de la nube.

## *¿Qué es Azure Portal?*

### Es una consola unificada basada en web que proporciona una alternativa a las herramientas de línea de comandos.
<!-- UL -->
* Compile, administre y supervise todo, desde aplicaciones web sencillas hasta complejas implementaciones en la nube.
* Cree paneles personalizados para una vista organizada de recursos.
* Configure opciones de accesibilidad para una experiencia óptima.

### Azure Portal está diseñado para proporcionar resistencia y disponibilidad continua. Mantiene una presencia en todos los centros de datos de Azure. Esta configuración hace que Azure Portal sea resistente a los errores de centros de datos individuales y evita que se ralentice la red al estar cerca de los usuarios. 
![Azure portal](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/azure-portal.png#lightbox)

## *¿Qué es Azure Marketplace?*

### Azure Marketplace facilita la conexión entre los usuarios y los partners de Microsoft, proveedores de software independientes y nuevas empresas que ofrecen sus soluciones y servicios, optimizados para ejecutarse en Azure.
![Azure market place](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/marketplace.png)
### Azure Marketplace está diseñado para profesionales de TI y desarrolladores en la nube interesados en el software comercial y de TI. Los partners de Microsoft también lo usan como punto de inicio de todas las actividades de comercialización conjunta.

## *Servicios de Azure*
### Vista general de los servicios y características disponibles de Azure.
![Servicios](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/azure-services.png#lightbox)

### Categorías que se usan con más frecuencia:
<!-- UL -->
* Proceso
* Redes
* Almacenamiento
* Móvil
* Base de datos
* Web
* Internet de las cosas (IoT)
* Macrodatos
* Inteligencia Artificial 
* DevOps

## *Proceso*

### Azure proporciona una amplia gama de opciones para hospedar aplicaciones y servicios. Estos son algunos ejemplos de servicios de proceso en Azure.
| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Azure Virtual Machines	  |Máquinas virtuales (VM) Windows o Linux hospedadas en Azure.
|Azure Virtual Machine Scale Sets|Escalado de máquinas virtuales Windows o Linux hospedadas en Azure.
|Azure Kubernetes Service	|Administración de clústeres para máquinas virtuales que ejecutan servicios en contenedores.
|Azure Service Fabric	|Plataforma de sistemas distribuidos que se ejecuta en Azure o en el entorno local.
|Azure Batch		    |Servicio administrado para aplicaciones informáticas de alto rendimiento y paralelas.
|Azure Container Instances	|Aplicaciones en contenedores que se ejecutan en Azure sin necesidad de aprovisionar servidores ni máquinas virtuales.
|Azure Functions	|Un servicio de procesos sin servidor y controlado por eventos


## *Redes*

### La funcionalidad de red de Azure incluye una gama de opciones para conectar el mundo exterior a servicios y características de los centros de datos globales de Azure.
| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Azure Virtual Network	  |Conecta máquinas virtuales a conexiones de red privada virtual (VPN) entrantes.
|Azure Load Balancer	  |Equilibra las conexiones entrantes y salientes a aplicaciones o puntos de conexión de servicio.
|Azure Application Gateway	|	Optimiza la entrega de granjas de servidores de aplicaciones y, al mismo tiempo, aumenta la seguridad de las aplicaciones.  
|Azure VPN Gateway	|Accede a redes de Azure Virtual Network mediante puertas de enlace de VPN de alto rendimiento.
|Azure VPN Gateway	|Proporciona respuestas DNS ultrarrápidas y disponibilidad de dominio extremadamente alta.
|Azure Content Delivery Network	|Entrega contenido de gran ancho de banda a los clientes globalmente.
|Azure DDoS Protection	|Protege las aplicaciones hospedadas en Azure frente a ataques por denegación de servicio distribuido (DDoS).
|Azure Traffic Manager	|Distribuye el tráfico de red entre las regiones de Azure en todo el mundo.
|Azure ExpressRoute	|Se conecta a Azure mediante conexiones seguras de gran ancho de banda dedicadas.
|Azure Network Watcher	|Supervisa y diagnostica problemas de red mediante el análisis basado en el escenario.
|Azure Firewall	|Implementa un firewall de alta seguridad y alta disponibilidad con escalabilidad ilimitada.
|Azure Virtual WAN	|Crea una red de área extensa (WAN) unificada que conecta sitios locales y remotos.

## *Almacenamiento*

### Azure proporciona cuatro tipos principales de servicios de almacenamiento.

| Nombre del servicio      |     Función del servicio     |
| -------------------------| ---------------------------- |
|Azure Blob Storage	      |Servicio de almacenamiento para objetos muy grandes, como archivos de vídeo o mapas de bits.
|Azure File storage	      |Recursos compartidos de archivos que puede administrar como un servidor de archivos y acceder a ellos del mismo modo.
|Azure Queue Storage      |Almacén de datos para la puesta en cola y la entrega confiable de mensajes entre aplicaciones.	
|Azure Table storage      |Table Storage es un servicio que almacena datos estructurados no relacionales (también conocidos como datos NoSQL estructurados) en la nube, lo que proporciona un almacén de claves y atributos con un diseño sin esquema.
	
### Todos estos servicios comparten varias características:
<!-- UL -->
* Durabilidad y alta disponibilidad con redundancia y la replicación.
* Seguridad mediante el cifrado automático y control de acceso basado en rol.
* Escalabilidad con un almacenamiento prácticamente ilimitado.
* Administración y control del mantenimiento y de cualquier problema crítico que pueda surgir.
* Accesibilidad desde cualquier parte del mundo a través de HTTP o HTTPS.

## *Móvil*
### Con Azure, los desarrolladores pueden crear servicios de back-end móviles para aplicaciones iOS, Android y Windows de forma rápida y sencilla. Las características que solían tardar tiempo y aumentaban los riesgos del proyecto ahora se incluyen con facilidad.

### Estas son otras características de este servicio:
<!-- UL -->
* Sincronización de datos sin conexión.
* Conectividad a datos locales.
* Difusión de notificaciones de inserción.
* Escalado automático para satisfacer las necesidades del negocio.

## *Bases de datos*
### Azure proporciona varios servicios de base de datos para almacenar una gran variedad de volúmenes y tipos de datos.
| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Azure Cosmos DB	|Base de datos distribuida globalmente que admite opciones NoSQL.
|Azure SQL Database	|Base de datos relacional totalmente administrada con escalado automático, inteligencia integral y seguridad sólida.
|Azure Database for MySQL	|Base de datos relacional MySQL totalmente administrada y escalable con alta disponibilidad y seguridad.
|Azure Database for PostgreSQL	|Base de datos relacional PostgreSQL totalmente administrada y escalable con alta disponibilidad y seguridad.
|SQL Server en Azure Virtual Machines|Servicio que hospeda aplicaciones empresariales de SQL Server en la nube.	
|Azure Synapse Analytics	|Almacén de datos totalmente administrado con seguridad integral en todos los niveles de escala sin costo adicional.
|Azure Database Migration Service	|Servicio que migra bases de datos a la nube sin cambios en el código de aplicación.
|Azure Cache for Redis	|Servicio totalmente administrado que almacena en caché datos estáticos y usados con frecuencia para reducir la latencia de datos y aplicaciones.
|Azure Database for MariaDB	|Base de datos relacional MariaDB totalmente administrada y escalable con alta disponibilidad y seguridad.

## *Web*
### Azure incluye soporte técnico de primera clase para compilar y hospedar aplicaciones web y servicios web basados en HTTP. Los siguientes servicios de Azure se centran en el hospedaje web.
| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Azure App Service	      |Creación rápida de aplicaciones en la nube eficaces basadas en web.
|Azure Notification Hubs  |	Envíe notificaciones push a cualquier plataforma desde cualquier back-end.
|Azure API Management	  |Publique API para desarrolladores, asociados y empleados de forma segura y a escala.
|Azure Cognitive Search	  |Esta búsqueda completamente administrada se implementa como servicio.
|Característica Web Apps de Azure App Service|	Cree e implemente rápidamente aplicaciones web críticas a escala.
|Servicio Azure SignalR	|Agregue funcionalidades web en tiempo real con facilidad.
## *IoT*
###  Ahora, Internet permite que cualquier objeto capaz de conectarse tenga acceso a valiosa información. Esta capacidad de los dispositivos de obtener y luego retransmitir información para el análisis de datos se conoce como IoT (Internet de las cosas).
| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|IoT Central	          |Solución global de software como servicio (SaaS) de IoT totalmente administrada que facilita la conexión, la supervisión y la administración de los recursos de IoT a escala.
|Azure IoT Hub	|Centro de mensajería que proporciona comunicaciones y supervisión seguras entre millones de dispositivos de IoT.
|IoT Edge	|Servicio totalmente administrado que permite insertar los modelos de análisis de datos directamente en los dispositivos IoT, lo que les permite responder rápidamente a los cambios de estado sin necesidad de consultar modelos de IA basados en la nube.

## *Macrodatos*
### Los datos se presentan en cualquier formato y tamaño. Cuando hablamos sobre macrodatos, nos referimos a grandes volúmenes de datos. A menudo es tan grande que las formas de procesamiento y análisis tradicionales ya no son adecuadas.
### Se han desarrollado tecnologías de clúster de código abierto para tratar con estos grandes conjuntos de datos.

| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Azure Synapse Analytics|Ejecute análisis a gran escala mediante un almacenamiento de datos empresarial basado en la nube que aprovecha las ventajas del procesamiento paralelo masivo para ejecutar rápidamente consultas complejas en petabytes de datos.	
|HDInsight de Azure	|Procese grandes cantidades de datos con los clústeres administrados de Hadoop en la nube.
|Azure Databricks|	Integre este servicio de análisis colaborativo basado en Apache Spark con otros servicios de macrodatos en Azure.
## *Inteligencia Artificial*
### En el contexto de la informática en la nube, la inteligencia artificial se basa en una amplia gama de servicios, donde el principal es el aprendizaje automático, los equipos aprenden sin necesidad de programarlos explícitamente. Las previsiones o predicciones del aprendizaje automático pueden hacer que las aplicaciones y los dispositivos sean más inteligentes. 

| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Azure Machine Learning Service	|Entorno basado en la nube que puede usar para desarrollar, entrenar, probar, implementar, administrar y realizar un seguimiento de los modelos de aprendizaje automático. Puede generar y ajustar automáticamente un modelo. Le permite comenzar a entrenar en el equipo local y luego escalar horizontalmente a la nube.
|Azure ML Studio	|Área de trabajo visual colaborativa donde puede compilar, probar e implementar soluciones de aprendizaje automático mediante algoritmos de aprendizaje automático predefinidos y módulos de control de datos.

### Cognitive Services es un conjunto de productos estrechamente relacionados. Puede usar estas API precompiladas en las aplicaciones para solucionar problemas complejos.
| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Visión|Use algoritmos de procesamiento de imágenes para identificar, subtitular, indexar y moderar imágenes y vídeos.
|Voz	|Convierta voz en texto, use la voz para la comprobación o agregue reconocimiento del hablante a la aplicación.
|Asignación de conocimiento	|Asigne información y datos complejos para resolver tareas como las de recomendaciones inteligentes y búsqueda semántica.
|Bing Search	|Agregue las Bing Search API a sus aplicaciones y aproveche la capacidad de combinar miles de millones de páginas web, imágenes, vídeos y noticias con una sola llamada API.
|Procesamiento de lenguaje natural	|Permita que las aplicaciones procesen lenguaje natural con scripts precompilados, evalúen opiniones y aprendan a reconocer lo que quieren los usuarios.

## *DevOps*
### Con Azure DevOps puede crear, compilar y publicar canalizaciones que proporcionan integración, entrega e implementación continuas a las aplicaciones. Puede integrar los repositorios y las pruebas de aplicaciones, realizar la supervisión de aplicaciones y trabajar con artefactos de compilación. También puede trabajar con elementos de trabajo pendiente para realizar el seguimiento, automatizar la implementación de la infraestructura e integrar una gama de herramientas y servicios de terceros como Jenkins y Chef. 

| Nombre del servicio     |     Función del servicio     |
| ----------------------- | ---------------------------- |
|Azure DevOps	          |Use herramientas de colaboración de desarrollo como canalizaciones de alto rendimiento, repositorios Git privados gratuitos, paneles Kanban configurables y completas pruebas de carga basadas en la nube y automatizadas. 
|Azure DevTest Labs	|Cree rápidamente entornos de Windows y Linux a petición para probar o realizar demostraciones de las aplicaciones directamente desde canalizaciones de implementación.

## *Introducción a las cuentas de Azure*
### Para crear y usar los servicios de Azure, necesita una suscripción de Azure.  Cuando trabaje con aplicaciones y necesidades empresariales propias, tendrá que crear una cuenta de Azure y se creará una suscripción de forma automática, puede crear suscripciones adicionales. Por ejemplo, es posible que la empresa use una única cuenta de Azure para el negocio y suscripciones independientes para los departamentos de desarrollo, marketing y ventas. 

![Cuentas](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/intro-to-azure-fundamentals/media/scope-levels.png)
## *¿Qué es la cuenta gratuita de Azure?*
<!-- UL -->
* Acceso gratuito a productos populares de Azure durante 12 meses.

* Crédito para gastar durante los primeros 30 días.

* Acceso a más de 25 productos que siempre son gratuitos.
## *¿Qué es el espacio aislado de Azure?*
### En muchos de los ejercicios de Learn se usa una tecnología denominada espacio aislado, que crea una suscripción temporal que se agrega a la cuenta de Azure. Esta suscripción temporal le permite crear recursos de Azure para la duración de un módulo de Learn. Learn limpia de forma automática los recursos temporales una vez que haya completado el módulo. 

### Cuando complete un módulo de Learn, puede usar la suscripción personal para finalizar los ejercicios que incluye. Pero el espacio aislado es el método preferido para usar, ya que permite crear y probar recursos de Azure sin costo alguno.

# **17.-Conceptos fundamentales de Azure**

## *¿Cuáles son algunas de las ventajas de la informática en la nube?*
### Los entornos en la nube ofrecen varias ventajas en comparación con los entornos físicos. 
<!-- UL -->
* Alta disponibilidad: en función del contrato de nivel de servicio (SLA) que elija, las aplicaciones basadas en la nube pueden proporcionar una experiencia de usuario continua sin tiempo de inactividad perceptible, aunque se produzcan errores.
* Escalabilidad: las aplicaciones en la nube se pueden escalar verticalmente y horizontalmente:

  * Escale verticalmente para aumentar la capacidad de proceso mediante la incorporación de RAM o CPU adicionales a una máquina virtual.
  * El escalado horizontal aumenta la capacidad de proceso mediante la adición de instancias de recursos, como la incorporación de máquinas virtuales a la configuración.

* Elasticidad: puede configurar aplicaciones basadas en la nube para aprovechar el escalado automático, de forma que las aplicaciones siempre dispondrán de los recursos que necesitan.


* Agilidad: implemente y configure rápidamente los recursos basados en la nube a medida que cambian los requisitos de la aplicación.


* Distribución geográfica: puede implementar aplicaciones y datos en centros de datos regionales de todo el mundo.

* Recuperación ante desastres: Podrá implementar las aplicaciones con la seguridad de saber que los datos están protegidos en caso de que se produzca un desastre.

## *La informática en la nube es un modelo basado en el consumo* 
### Los proveedores de servicios en la nube operan en un modelo basado en el consumo, lo que significa que los usuarios finales solo pagan por los recursos que usan.
### Los modelos basados en el consumo aportan muchas ventajas, por ejemplo:
<!-- UL -->
* Sin costes por adelantado.

* No es necesario comprar ni administrar infraestructuras costosas que es posible que los usuarios no aprovechen del todo.

* Se puede pagar para obtener recursos adicionales cuando se necesiten.

* Se puede dejar de pagar por los recursos que ya no se necesiten.

## *Gastos de capital en comparación con los gastos operativos*
<!-- UL -->
* Los gastos de capital (CapEx) hacen referencia a la inversión previa de dinero en infraestructura física, que se podrá deducir a lo largo del tiempo. El costo previo de CapEx tiene un valor que disminuye con el tiempo.

* Los gastos operativos (OpEx) son dinero que se invierte en servicios o productos y se factura al instante. Este gasto se puede deducir el mismo año que se produce. No hay ningún costo previo, ya que se paga por un servicio o producto a medida que se usa.

## *Descripción de las distintas categorías de servicios en la nube*

## *IaaS*

### IaaS es la categoría más flexible de servicios en la nube. Su objetivo es ofrecer un control completo sobre el hardware que ejecuta la aplicación. En vez de comprar hardware, con IaaS, se alquila.

### *Ventajas* 
<!-- UL -->
* Sin gastos de capital (CapEx). Los usuarios no tienen costos iniciales.

* Agilidad. Se pueden configurar las aplicaciones con rapidez para que sean accesibles y desaprovisionarlas cuando sea necesario.

* Administración. El usuario administra y mantiene los servicios que ha aprovisionado, y el proveedor de nube administra y mantiene la infraestructura en la nube.

* Modelo basado en el consumo. Las organizaciones solo pagan por lo que usan y operan en un modelo de gastos operativos (OpEx).

* Aptitudes. No se requieren conocimientos técnicos avanzados para implementar y usar una nube pública u obtener las ventajas que esta ofrece. Las organizaciones pueden utilizar las aptitudes y la experiencia del proveedor de nube para asegurarse de que las cargas de trabajo sean seguras, estén protegidas y tengan alta disponibilidad.

* Ventajas que ofrece la nube. Las organizaciones pueden utilizar las aptitudes y la experiencia del proveedor de nube para asegurarse de que las cargas de trabajo se configuren de forma que sean seguras y tengan alta disponibilidad.

* Flexibilidad. IaaS es el servicio en la nube más flexible, ya que se dispone de control para configurar y administrar el hardware que ejecuta una aplicación.

## *PaaS*
### Proporciona las mismas ventajas y consideraciones que IaaS, pero ofrece algunas ventajas adicionales que es importante conocer.

### *Ventajas*
<!-- UL -->

* Sin gastos de capital (CapEx). Los usuarios no tienen costos iniciales.

* Agilidad. PaaS es más ágil que IaaS, y no es necesario que los usuarios configuren servidores para ejecutar aplicaciones.

* Modelo basado en el consumo. Los usuarios solo pagan por lo que usan y operan bajo un modelo OpEx.

* Aptitudes. No se requieren conocimientos técnicos avanzados para implementar y usar una plataforma PaaS u obtener las ventajas que esta ofrece.

* Ventajas que ofrece la nube. Los usuarios pueden aprovechar las aptitudes y la experiencia del proveedor de nube para asegurarse de que sus cargas de trabajo sean seguras y tengan alta disponibilidad. Además, los usuarios pueden obtener acceso a más herramientas de desarrollo punteras. Entonces, las podrán aplicar al ciclo de vida de una aplicación.

* Productividad. Los usuarios se pueden centrar únicamente en el desarrollo de aplicaciones, ya que el proveedor de nube lleva a cabo toda la administración de plataformas. Trabajar con equipos distribuidos como servicios es más fácil, ya que se accede a la plataforma a través de Internet.

### *Desventaja*
<!-- UL -->

* Limitaciones de la plataforma. Es posible que en las plataformas en la nube haya una serie de limitaciones que pueden afectar al modo en el que una aplicación se ejecuta. Al evaluar qué plataforma PaaS es más adecuada para una carga de trabajo, debe tener en cuenta las limitaciones de esta área.

## *SaaS*

### Es software que se hospeda y administra de forma centralizada para usted y sus usuarios o clientes. 

### SaaS proporciona las mismas ventajas que IaaS, pero también ofrece algunas ventajas adicionales que es importante conocer

### *Ventajas*
<!-- UL -->
* Sin gastos de capital (CapEx). Los usuarios no tienen costos iniciales.

* Agilidad. Los usuarios pueden proporcionar al personal acceso al software más reciente de forma fácil y rápida.

* Modelo de precio de pago por uso. Los usuarios pagan por el software que usan mediante un modelo de suscripción, independientemente de cuánto usen el software.

* Aptitudes. No se requieren conocimientos técnicos avanzados para implementar y usar software SaaS u obtener las ventajas que este ofrece.

* Flexibilidad. Los usuarios pueden acceder a los mismos datos de la aplicación desde cualquier lugar.

### *Desventaja*

* Limitaciones de software. Es posible que en las aplicaciones de software haya una serie de limitaciones que pueden afectar al modo en el que los usuarios trabajan. Como está usando el software tal cual, no tiene un control directo de las características. Al evaluar qué plataforma SaaS es más adecuada para una carga de trabajo, debe tener en cuenta cualquier necesidad empresarial y las limitaciones de software.

## *¿Qué es la informática sin servidor?*

### Igual que PaaS, la informática sin servidor permite que los desarrolladores creen aplicaciones más rápidamente, ya que elimina la necesidad de administrar la infraestructura. En las aplicaciones sin servidor, el proveedor de servicios en la nube aprovisiona, escala y administra automáticamente la infraestructura necesaria para ejecutar el código. Las arquitecturas sin servidor son muy escalables y controladas por eventos, y solo usan recursos cuando se produce una función o un desencadenador concretos.

### El término "sin servidor" es porque las tareas asociadas a la administración y el aprovisionamiento de la infraestructura son invisibles para el desarrollador. Este enfoque permite a los desarrolladores centrar su atención en la lógica de negocios y ofrecer más valor al núcleo de la empresa. La informática sin servidor ayuda a los equipos a aumentar su productividad y a llevar los productos al mercado con más rapidez, optimizar recursos y seguir centrándose en la innovación.

## *Descripción de los distintos tipos de informática en la nube*
## *¿Qué son las nubes pública, privada e híbrida?*

### En la imagen siguiente se muestran algunos de los conceptos de informática en la nube que se presentan en esta unidad. En este ejemplo, se muestran varios factores cuando se está pensando en implementar un servidor de base de datos en un entorno de nube híbrida: a medida que los recursos se mueven del entorno local al entorno de nube, se reducen los costos y los requisitos de administración.
![nube hibrida](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/fundamental-azure-concepts/media/cloud-computing-continuum.png)

# 18.-Descripción de los componentes principales de la arquitectura de Azure

## *Introducción a las suscripciones, los grupos de administración y los recursos de Azure*

###  La estructura organizativa de los recursos en Azure, consta de cuatro niveles: grupos de administración, suscripciones, grupos de recursos y recursos.

![grupos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/hierarchy.png)

* Recursos: Los recursos son instancias de servicios que puede crear, como máquinas virtuales, almacenamiento o bases de datos SQL.

* Grupos de recursos: Los recursos se combinan en grupos de recursos, que actúan como contenedor lógico en el que se implementan y administran recursos de Azure como aplicaciones web, bases de datos y cuentas de almacenamiento.

* Suscripciones: Una suscripción agrupa las cuentas de usuario y los recursos que han creado esas cuentas de usuario. Las organizaciones pueden usar las suscripciones para administrar los costos y los recursos creados por los usuarios, equipos o proyectos.

* Grupos de administración: Estos grupos le ayudan a administrar el acceso, las directivas y el cumplimiento de varias suscripciones.

## *Suscripciones y grupos de administración de Azure*

### *Suscripciones de Azure*

###  Una suscripción le proporciona acceso autenticado y autorizado a los servicios y productos de Azure. Es una unidad lógica de servicios de Azure que está vinculada a una cuenta de Azure, que es una identidad en Azure Active Directory (Azure AD) o en un directorio en el que confía Azure AD.

![suscripcion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/subscriptions.png)

### Hay dos tipos de límites de suscripción que puede utilizar:

* Límite de facturación: Este tipo de suscripción determina cómo se factura una cuenta de Azure por el uso de Azure.

* Azure aplica las directivas de administración de acceso en el nivel de suscripción, por lo que puede crear suscripciones independientes para reflejar distintas estructuras organizativas. Por ejemplo, dentro de una empresa hay diferentes departamentos a los que se pueden aplicar directivas de suscripción de Azure distintas.

## *Creación de una suscripción de Azure adicional*

### Puede optar por crear suscripciones adicionales para separar lo siguiente:

* Entornos: cuando administra sus recursos, puede optar por crear suscripciones con el fin de configurar entornos independientes para el desarrollo y las pruebas, para seguridad o para aislar los datos por motivos de cumplimiento.

* Estructuras organizativas: puede crear suscripciones para reflejar las distintas estructuras organizativas. Por ejemplo, podría limitar un equipo a recursos de bajo costo, al tiempo que permite que el departamento de TI tenga un alcance completo. 

* Facturación: es posible que también quiera crear suscripciones adicionales para fines de facturación. Dado que los costos se agregan primero en el nivel de suscripción, es posible que quiera crear suscripciones para administrar y realizar un seguimiento de los costos en función de sus necesidades.

* Límites de suscripción: las suscripciones se enlazan a algunas limitaciones de hardware. Por ejemplo, el número máximo de circuitos de Azure ExpressRoute por cada suscripción es de 10. Esos límites se deben tener en consideración al crear suscripciones en la cuenta. Si en escenarios concretos hay que superar esos límites, es posible que se necesiten suscripciones adicionales.

## *Personalización de la facturación para satisfacer sus necesidades*

### En función de sus necesidades, se pueden configurar varias facturas dentro de la misma cuenta de facturación. Para ello, cree perfiles de facturación adicionales. Cada perfil de facturación contiene su propia factura mensual y método de pago.

![facturacion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/billing-structure-overview.png)

## *Grupos de administración de Azure*

### Las suscripciones se organizan en contenedores llamados grupos de administración y las condiciones de gobernanza se aplican a los grupos de administración. Todas las suscripciones dentro de un grupo de administración heredan automáticamente las condiciones que se aplican al grupo de administración. Los grupos de administración proporcionan capacidad de administración de nivel empresarial a gran escala con independencia del tipo de suscripciones que tenga.

## *Jerarquía de los grupos de administración y las suscripciones*

### El diagrama siguiente muestra un ejemplo de creación de una jerarquía para la gobernanza mediante grupos de administración.

![jerarquia](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/management-groups-and-subscriptions.png)

### Puede crear una jerarquía que aplique una directiva. Por ejemplo, puede limitar las ubicaciones de las máquinas virtuales a la región oeste de EE. UU. en un grupo denominado Producción.

### El propietario de los recursos o las suscripciones no puede modificar esta directiva de seguridad, lo que permite una gobernanza mejorada.

### Otro escenario en el que se usarían grupos de administración es para proporcionar acceso de usuario a varias suscripciones. Al mover muchas suscripciones bajo ese grupo de administración, puede crear una asignación de control de acceso basado en rol (RBAC) en el grupo de administración que heredará ese acceso en todas las suscripciones. 

## *Hechos importantes acerca de los grupos de administración*

* Se admiten 10 000 grupos de administración en un único directorio.

* Un árbol de grupo de administración puede admitir hasta seis niveles de profundidad. Este límite no incluye el nivel raíz ni el nivel de suscripción.

* Cada grupo de administración y suscripción solo puede admitir un elemento primario.

* Cada grupo de administración puede tener muchos elementos secundarios.

* Todas las suscripciones y grupos de administración están dentro de una única jerarquía en cada directorio.

## *Agrupación lógica*

### Al colocar recursos de uso, tipo o ubicación similar en un grupo de recursos, puede proporcionar orden y organización a los recursos que cree en Azure. La agrupación lógica es el aspecto que más le interesa, ya que, entre los recursos, el desorden es elevado.

![logica](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/resource-group.png)

## *Ciclo de vida*

### Si elimina un grupo de recursos, también se eliminarán todos los recursos que contenga. La organización de los recursos por ciclo de vida puede ser útil en entornos que no sean de producción, en los que puede probar un experimento y después descartarlo. 

## *Autorización*

### Al aplicar permisos RBAC a un grupo de recursos, puede facilitar la administración y limitar el acceso para permitir solo lo que sea necesario.

* RBAC : Control de acceso basado en roles

## *Azure Resource Manager*

### Proporciona una capa de administración que le permite crear, actualizar y eliminar recursos de la cuenta de Azure. Puede usar características de administración como el control de acceso, los bloqueos y las etiquetas para proteger y organizar los recursos después de la implementación.

### Cuando un usuario envía una solicitud de cualquiera de las herramientas, las API o los SDK de Azure, Resource Manager recibe la solicitud. 

### Dado que todas las solicitudes se controlan mediante la misma API, verá resultados y funcionalidades coherentes en todas las distintas herramientas.

![adm_recursos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/consistent-management-layer.png)


## *Ventajas de usar Administrador de recursos*

* Administrar la infraestructura mediante plantillas declarativas en lugar de scripts. Una plantilla de Resource Manager es un archivo JSON que define lo que quiere implementar en Azure.

* Implementar, administrar y supervisar todos los recursos de la solución en grupo, en lugar de controlarlos individualmente.

* Vuelva a implementar la solución a lo largo del ciclo de vida de desarrollo y tenga la seguridad de que los recursos se implementan en un estado coherente.

* Definir las dependencias entre recursos de modo que se implementen en el orden correcto.

* Aplique control de acceso a todos los servicios, puesto que RBAC se integra de forma nativa en la plataforma de administración.

* Aplicar etiquetas a los recursos para organizar de manera lógica todos los recursos de la suscripción.

* Comprenda la facturación de la organización viendo los costos de un grupo de recursos que comparten la misma etiqueta.

## *Zonas de disponibilidad, pares de regiones y regiones de Azure*

### Los recursos se crean en regiones, que son diferentes ubicaciones geográficas de todo el mundo.

### Al usar un servicio o crear un recurso como una máquina virtual (VM) o una base de datos SQL, usa equipamiento físico en una o varias de estas ubicaciones. 

## *Regiones de Azure*

### Una región es un área geográfica del planeta que contiene al menos un centro de datos, aunque podrían ser varios centros de datos cercanos y conectados mediante una red de baja latencia.

### Al implementar un recurso en Azure, es habitual tener que elegir la región en la que quiere que se implemente el recurso.

### **Algunos servicios o características de las máquinas virtuales solo están disponibles en determinadas regiones, como, por ejemplo, tipos de almacenamiento o tamaños de VM específicos. También hay algunos servicios globales de Azure que no requieren que seleccione una región concreta, como Azure Active Directory, Azure Traffic Manager o Azure DNS.**

![regiones](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/regions-small.png)

## *¿Por qué son importantes las regiones?*

### Estas regiones le dan la flexibilidad necesaria para acercar las aplicaciones a los usuarios estén donde estén. Las regiones globales proporcionan una mejor escalabilidad y redundancia, y conservan la residencia de datos para los servicios.

## *Regiones de Azure especiales*

### Azure tiene regiones especializadas que se pueden usar al crear las aplicaciones.

* US DoD (centro), US Gov Virginia, US Gov Iowa y más: Estas regiones son instancias físicas y lógicas con aislamiento de red de Azure para asociados y agencias de la administración pública de EE. UU. 

* Este de China, Norte de China y más: Estas regiones están disponibles gracias a una asociación exclusiva entre Microsoft y 21Vianet, por la cual Microsoft no mantiene directamente los centros de datos.

### Hay otros dos términos que también debe conocer: zonas geográficas y zonas de disponibilidad.

## *Zonas de disponibilidad de Azure*

### A fin de proteger la información en caso de error, deberá asegurarse de que los servicios y datos son redundantes. Si hospeda su infraestructura, configurar su propia redundancia requiere la creación de entornos de hardware duplicados. Azure puede ayudar a que la aplicación tenga alta disponibilidad a través de zonas de disponibilidad.

## *¿Qué es una zona de disponibilidad?*

### Son centros de datos separados físicamente dentro de una región de Azure. Cada zona de disponibilidad consta de uno o varios centros de datos equipados con alimentación, refrigeración y redes independientes. Una zona de disponibilidad se configura para constituir un *límite de aislamiento*. 

![zona_disponibilidad](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/availability-zones.png)

## *Regiones admitidas*

No todas las regiones son compatibles con las zonas de disponibilidad. Para obtener una lista actualizada, es necesario consultar: https://docs.microsoft.com/es-es/azure/availability-zones/az-region

## *Uso de las zonas de disponibilidad en sus aplicaciones*

### Si quiere usar zonas de disponibilidad para ejecutar aplicaciones críticas y conseguir una alta disponibilidad en la arquitectura de sus aplicaciones, coloque sus recursos de proceso, almacenamiento, red y datos dentro de una zona y replíquelos en otras. Esto puede suponer un costo

### Los servicios de Azure que admiten zonas de disponibilidad se dividen en dos categorías:

* Servicios de zona: ancle el recurso a una zona específica (por ejemplo, máquinas virtuales, discos administrados, direcciones IP).
* Servicios de redundancia de zona: la plataforma se replica automáticamente entre zonas (por ejemplo, almacenamiento con redundancia de zona, SQL Database).

## *Pares de regiones de Azure*

### Es posible que un desastre grande pueda provocar una interrupción tan grave como para afectar incluso a dos centros de datos. Por eso Azure también crea pares de regiones.

## *¿Qué es un par de regiones?*

### Cada región de Azure se empareja siempre con otra región de la misma zona geográfica (por ejemplo, EE. UU., Europa o Asia) que se encuentre como mínimo a 500 km de distancia. 

### Este enfoque permite la replicación de recursos. Si una región de un par se ve afectada por un desastre natural, por ejemplo, los servicios conmutarán por error automáticamente a la otra región de su par de regiones.

![par_regiones](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/region-pairs.png)

### Puesto que las dos regiones están directamente conectadas y lo suficientemente lejos como para estar aisladas contra desastres regionales, puede usarlas para proporcionar redundancia de datos y servicios de confianza.

### Ventajas adicionales de los pares de región:

* Si se produce una gran interrupción de Azure, se da prioridad a una región de cada par para asegurarse de que al menos una se restaure lo más rápido posible para las aplicaciones hospedadas en ese par de regiones.

* Las actualizaciones planeadas de Azure se implementan una a una en regiones emparejadas para minimizar el tiempo de inactividad y el riesgo de interrupción de la aplicación.

* Los datos siguen residiendo en la misma zona geográfica que su pareja (excepto Sur de Brasil) con fines de jurisdicción fiscal y de aplicación de la ley.


## *Creación de un sitio web hospedado en Azure*

## *¿Qué es App Service?*

### App Service es un servicio basado en HTTP que permite crear y hospedar muchos tipos de soluciones basadas en la Web sin necesidad de administrar la infraestructura. 

## *¿Qué es Azure Marketplace?*

### Azure Marketplace es una tienda en línea que hospeda aplicaciones certificadas y optimizadas para ejecutarse en Azure. Existen muchos tipos de aplicaciones disponibles, que van desde la inteligencia artificial y Machine Learning a las aplicaciones web. 

## *Creación de recursos en Azure*

### Lo primero que se suele hacer es crear un grupo de recursos que contendrá todo lo que necesitamos crear.

### Podemos usar Azure Portal para crear y administrar los grupos de recursos de la solución, pero también puede administrar recursos a través de una línea de comandos con la CLI de Azure. La CLI de Azure es una opción útil si hay que automatizar el proceso en el futuro.

## *Selección de una ubicación*

### El espacio aislado gratuito permite crear recursos en un subconjunto de las regiones globales de Azure. Seleccione una región de la lista al crear los recursos

## *Creación de un sitio web de WordPress*

### 1.-Si todavía no lo ha hecho, compruebe que ha activado el espacio aislado. Al activar el espacio aislado, se asignarán la suscripción y el grupo de recursos que usará en este ejercicio.

### 2.- Inicie sesión en Azure Portal con la misma cuenta que ha usado para activar el espacio aislado.

### 3.-En la parte superior izquierda del panel de Azure Portal, seleccione Crear un recurso.

![azure_portal](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/create-resource.png)

### Esta opción le llevará a Azure Marketplace.
![azure_market](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/azure-marketplace.png)

### 4.-Sabemos que queremos instalar WordPress, así que podemos realizar una búsqueda rápida para encontrarlo. En el cuadro Buscar en el marketplace con las opciones de aplicaciones que aparecen, escriba WordPress. 

### 5.-Seleccione Crear para iniciar el proceso de creación de una aplicación de WordPress. Aparece el panel WordPress/Crear.

### 6.-Aparecerán varias opciones para configurar la implementación. Escriba los valores siguientes para cada opción.
![azure_wordpress1](https://i.ibb.co/2KcsYtq/Captura.png
)

### *Comprobación de que el sitio web se está ejecutando*

### 1.- Seleccione el icono de la campana de notificación situado en la parte superior del portal. Si el ancho de la ventana del explorador es menor, se puede mostrar al hacer clic en el icono de puntos suspensivos (...) de la esquina superior derecha.

![azure_wordpress2](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/notification-bell.png
)

### 2.- Seleccione Implementación en curso para ver los detalles de todos los recursos que se han creado.
### 3.-Cuando el mensaje de estado de la implementación cambie a Se completó la implementación, verá que el estado del cuadro de diálogo Notificaciones cambiará a Implementación correcta. Seleccione Ir al recurso para ir a la información general de App Service.

(https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/deployment-complete.png
)

### 4.-Busque la dirección URL en la sección Información general.

![azure_wordpress3](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/website-url.png)

### 5.-Abra una pestaña nueva en el explorador, pegue esta dirección URL y presione Entrar para ir al nuevo sitio de WordPress. Ya puede configurar el sitio de WordPress y agregarle contenido.
![wordpress_listo](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-architecture-fundamentals/media/configure-wordpress.png)

# **19.-Exploración de los servicios de análisis y bases de datos de Azure**

## *Exploración de Azure Cosmos DB*

### Azure Cosmos DB es un servicio de base de datos de varios modelos distribuido globalmente. Puede escalar de forma elástica e independiente el rendimiento y el almacenamiento en cualquier número de regiones de Azure de todo el mundo. 

### Azure Cosmos DB es compatible con los datos sin esquema, lo que le permite compilar aplicaciones "Always On" con una gran capacidad de respuesta para admitir datos en continuo cambio.

### En la siguiente ilustración se muestra una base de datos de ejemplo de Azure Cosmos DB que se usa para almacenar datos para el sitio web del portal de aprendizaje

![cosmos_DB](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/azure-cosmos-db.png)

### Azure Cosmos DB es flexible. En el nivel más bajo, Azure Cosmos DB almacena los datos en formato de secuencia de registro de átomos (ARS). Después, los datos se abstraen y se proyectan como una API, que se especifica al crear la base de datos. Entre las opciones se incluyen SQL, MongoDB, Cassandra, Tables y Gremlin. Este nivel de flexibilidad implica que, al migrar las bases de datos de la empresa a Azure Cosmos DB, los desarrolladores pueden seguir con la API con la que se encuentren más cómodos.

## *Exploración de Azure SQL Database*

### Azure SQL Database es una base de datos relacional basada en la última versión estable del motor de base de datos de Microsoft SQL Server. Es un motor de base de datos de plataforma como servicio (PaaS). Controla la mayoría de las funciones de administración de bases de datos, como las actualizaciones, las aplicaciones de revisiones, las copias de seguridad y la supervisión, sin intervención del usuario. SQL Database proporciona disponibilidad del 99,99 %. Las capacidades de PaaS que están integradas en SQL Database permiten centrarse en las actividades de administración y optimización de bases de datos específicas del dominio que son críticas para el negocio. 

### Microsoft controla todas las actualizaciones del código del sistema operativo y SQL. No hace falta administrar la infraestructura subyacente.
### SQL Database puede ser la opción adecuada para una variedad de aplicaciones modernas en la nube, porque le permite procesar tanto datos relacionales como estructuras no relacionales, por ejemplo, grafos, JSON, elementos espaciales y XML.

### De hecho, las funcionalidades más recientes de SQL Server se publican primero en SQL Database y, después, en el propio SQL Server. Las funcionalidades de SQL Server más recientes se obtienen sin costo alguno mediante actualizaciones o mejoras, y se han probado en millones de bases de datos.

## *Migración*

### En la ilustración siguiente se muestran los tipos de datos que su empresa puede almacenar en el sitio web del portal de aprendizaje de Azure SQL Database.
![Azure_SQL](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/azure-sql.png)

### Puede migrar las bases de datos existentes de SQL Server con un tiempo de inactividad mínimo mediante Azure Database Migration Service. Microsoft Data Migration Assistant puede generar informes de evaluación que proporcionan recomendaciones para ayudarlo a través de los cambios necesarios anteriores a la ejecución de una migración.

## *Tarea 1: Creación de la base de datos*

![sql](https://i.ibb.co/rtSH6xD/Captura.png)

![sql1](https://i.ibb.co/hdg0XXR/cap1.png)

![sql1.1](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/server-pane-expanded.png#lightbox)

### 4.-Seleccione Aceptar cuando haya terminado.

### 5.- Seleccione Siguiente: Redes y configure las siguientes opciones (deje los valores predeterminados del resto de campos).
![sql2](https://i.ibb.co/tPwtYqD/cap2.png)

### 6.-Seleccione Siguiente: Seguridad y, junto a Habilitar Azure Defender para SQL, elija Ahora no.

### 7.- Seleccione Siguiente: Configuración adicional y configure las siguientes opciones.

![sql3](https://i.ibb.co/tmk7jR7/cap3.png)

### 8.- Seleccione Revisar + crear.

### 9.- Cuando la validación sea correcta, en la ventana Crear base de datos SQL, seleccione Crear para implementar el servidor y la base de datos. La creación del servidor y la implementación de la base de datos de ejemplo pueden tardar aproximadamente entre dos y cinco minutos.

### 10.-Haga clic en Go to resource (Ir al recurso).

### 11.-Seleccione Establecer el firewall del servidor y luego seleccione Sí en la opción Allow Azure services and resources to access this server (Permitir que los servicios y recursos de Azure accedan a este servidor).

### 12.-Seleccione Guardar.

### 13.-Seleccione Aceptar.

## *Tarea 2: Probar base de datos*

### 1.-En el panel Todos los recursos, busque y seleccione Bases de datos SQL y asegúrese de que se ha creado la nueva base de datos. Es posible que tenga que actualizar la página.

![bd1](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/sql-database.png)

### 2.-Seleccione la entrada db1 que representa la base de datos SQL que ha creado y, después, seleccione Editor de consultas (versión preliminar) en la barra de navegación.
![bd2](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/query-editor-preview.png)

### 3.-Inicie sesión como sqluser con la contraseña 

### 4.-No podrá iniciar sesión.

### Lea atentamente el error y tome nota de la dirección IP que debe permitirse a través del firewall.

![inicio_sesion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/query-editor-login.png)

### 5.-Seleccione Información general > Establecer el firewall del servidor.

### 6.-En la sección Dirección IP del cliente, se mostrará la dirección IP; compruebe que se trata de la misma dirección IP del cliente del error anterior. Haga clic en + Agregar IP del cliente, que agregará un Nombre de regla y colocará la dirección IP en los campos IP inicial e IP final y, a continuación, seleccione Guardar.

![ip](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/sql-server-firewall-settings.png)

### 7.-Vuelva a la base de datos SQL y a la página de inicio de sesión del Editor de consultas. Intente volver a iniciar sesión como sqluser con la contraseña Pa$$w0rd1234. Esta vez debería poder hacerlo. La nueva regla de firewall podría tardar un par de minutos en implementarse. Si espera y sigue apareciendo un error, compruebe la dirección IP del cliente en el error e intente seleccionar Configuración del firewall > y agregue de nuevo la dirección IP correcta del cliente.

### 8.-Después de iniciar sesión correctamente, aparece el panel de consulta. Escriba la consulta siguiente en el panel del editor.
# -----------------------------------
### SELECT TOP 20 pc.Name as CategoryName, p.name as ProductName
### FROM SalesLT.ProductCategory pc
### JOIN SalesLT.Product p
### ON pc.productcategoryid = p.productcategoryid;

# -----------------------------------
![ejec](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/query-editor.png)

### 9.-Seleccione Ejecutar y examine los resultados de la consulta en el panel Resultados. La consulta debería ejecutarse correctamente.

![examinar](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/database-query-editor-pane.png)

## *Exploración de Azure SQL Managed Instance*

### Azure SQL Managed Instance es un servicio de datos en la nube escalable que proporciona la mayor compatibilidad con el motor de base de datos de SQL Server con todas las ventajas de una plataforma como servicio totalmente administrada. En función de su escenario, Azure SQL Managed Instance podría ofrecer más opciones para sus necesidades de base de datos.

### Al igual que Azure SQL Database, Azure SQL Managed Instance es un motor de base de datos de plataforma como servicio (PaaS), lo que significa que su empresa podrá aprovechar las mejores características de mover los datos a la nube en un entorno totalmente administrado. Su empresa ya no necesitará comprar y administrar hardware caro, se beneficiará de las características de aprovisionamiento rápido y escalado de servicio de Azure, junto con la aplicación automatizada de revisiones y las actualizaciones de versiones. Además, podrá estar seguro de que los datos siempre estarán allí cuando los necesite a través de características de alta disponibilidad integradas y un acuerdo de nivel de servicio (SLA) del 99,99 % de tiempo de actividad.

### Azure SQL Database y Azure SQL Managed Instance ofrecen muchas características iguales, pero Azure SQL Managed Instance proporciona varias opciones que puede que no estén disponibles en Azure SQL Database. 
### Para obtener una lista detallada de las diferencias entre Azure SQL Database y Azure SQL Managed Instance, vea

### https://docs.microsoft.com/es-es/azure/azure-sql/database/features-comparison

### Azure SQL Managed Instance facilita la migración de los datos locales en SQL Server a la nube con Azure Database Migration Service (DMS) o copias de seguridad y restauración nativas. Una vez que haya descubierto todas las características que usa la empresa, deberá evaluar qué instancias locales de SQL Server puede migrar a Azure SQL Managed Instance para ver si tiene algún problema de bloqueo.

![migracion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/migration-process-flow-small.png)

### Para obtener una descripción detallada del proceso de migración, vea

### https://docs.microsoft.com/es-es/azure/azure-sql/migration-guides/managed-instance/sql-server-to-managed-instance-guide

## *Exploración de Azure Database for MySQL*

### Azure Database for MySQL es un servicio de bases de datos relacionales en la nube, y se basa en el motor de base de datos de MySQL Community Edition, versiones 5.6, 5.7 y 8.0. Con él, tiene un contrato de nivel de servicio de disponibilidad del 99,99 % de Azure.

### Con cada servidor de Azure Database for MySQL, se saca provecho de las ventajas de la seguridad integrada, la tolerancia a errores y la protección de datos, algo que de lo contrario tendría que adquirir o diseñar, compilar y administrar. Con Azure Database for MySQL puede usar la restauración a un momento dado para recuperar un servidor a un estado anterior, con un plazo máximo de 35 días.

### Ofrece lo siguiente:

* Alta disponibilidad integrada sin coste adicional.

* Rendimiento predecible y precios de pago por uso inclusivos.

* Escalado según sea necesario, en cuestión de segundos.

* Capacidad de protección de información confidencial en reposo y en movimiento.

* Copias de seguridad automáticas.

* Seguridad y cumplimiento de nivel empresarial.

### Estas funcionalidades no requieren casi ninguna tarea de administración y todas se proporcionan sin ningún costo adicional. 

### Además, puede migrar las bases de datos existentes de MySQL con un tiempo de inactividad mínimo mediante Azure Database Migration Service. Después de completar la migración, puede seguir desarrollando la aplicación con las herramientas de código abierto y en la plataforma que prefiera. No tiene que adquirir nuevos conocimientos.

![mysql](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-database-fundamentals/media/azure-db-for-mysql-conceptual-diagram-expanded.png#lightbox)

### Azure Database for MySQL ofrece varios niveles de servicio, y cada uno de ellos aporta un rendimiento y una funcionalidad diferentes para admitir cargas de trabajo de bases de datos ligeras y pesadas. Puede compilar su primera aplicación en una base de datos pequeña por poco dinero al mes y, después, ajustar la escala para satisfacer las necesidades de la solución.

## *Exploración de Azure Database for PostgreSQL*

### Azure Database for PostgreSQL es un servicio de base de datos relacional en la nube. El software de servidor se basa en la versión de la comunidad del motor de base de datos de PostgreSQL de código abierto.

###  Ofrece las siguientes ventajas:

* Alta disponibilidad integrada en comparación con los recursos locales. No hay ninguna configuración, replicación o costo adicionales que sean necesarios para asegurarse de que las aplicaciones están siempre disponibles.

* Precios sencillos y flexibles. Tiene un rendimiento predecible en función de un plan de tarifa seleccionado que incluye copias de seguridad automáticas, aplicación de revisiones de software, supervisión y seguridad.

* Escalado o reducción vertical según sea necesario, en cuestión de segundos. Puede escalar procesos o almacenamiento por separado según sea necesario para asegurarse de que adapta su servicio para que coincida con el uso.

* Copias de seguridad automáticas ajustables y restauración a un momento dado durante un máximo de 35 días.

* Seguridad y cumplimiento de nivel empresarial para proteger la información confidencial en reposo y en movimiento. Esta seguridad abarca el cifrado de datos en el disco y el cifrado SSL entre la comunicación entre cliente y servidor.

### Azure Database for PostgreSQL está disponible en dos opciones de implementación:

### **Servidor único**

### La opción de implementación Un solo servidor ofrece:

* Alta disponibilidad integrada sin coste adicional (contrato de nivel de servicio del 99,99 %).

* Rendimiento predecible y precios de pago por uso inclusivos.

* Escalado vertical según sea necesario, en cuestión de segundos.

* Supervisión y alertas para evaluar el servidor.

* Seguridad y cumplimiento de nivel empresarial.

* Capacidad de protección de información confidencial en reposo y en movimiento.

* Copias de seguridad automáticas y restauración a un momento dado durante un máximo de 35 días.

### Todas estas funcionalidades apenas requieren tareas de administración y todas se proporcionan sin costo adicional. Se puede centrar en el desarrollo rápido de aplicaciones y en reducir el plazo de comercialización, en lugar de tener que administrar las máquinas virtuales y la infraestructura.

### Ofrece tres planes de tarifa: Básico, De uso general y Optimizado para memoria. Cada plan ofrece capacidades de recursos diferente para admitir sus cargas de trabajo de la base de datos. Puede compilar su primera aplicación en una base de datos pequeña por poco dinero al mes y, después, ajustar la escala para satisfacer las necesidades de la solución. 

### **Hiperescala (Citus)**

###  escala horizontalmente las consultas entre varias máquinas mediante el particionamiento. Su motor de consultas paraleliza las consultas SQL entrantes en estos servidores para agilizar las respuestas en conjuntos de datos grandes. Proporciona servicios a las aplicaciones que requieren mayor escala y mejor rendimiento, por lo general las cargas de trabajo que se aproximan a los 100 GB de datos (o que ya los superan).

### La opción de implementación de Hiperescala (Citus) admite aplicaciones multiinquilino, análisis operativos en tiempo real y cargas de trabajo transaccionales de alto rendimiento. 

## *Exploración de análisis y macrodatos*

### La forma y el formato de los datos son muy variados. Cuando hablamos sobre macrodatos, nos referimos a grandes volúmenes de datos.

### Con tal cantidad de datos, es cada vez más difícil comprenderlos y tomar decisiones basándose en ellos. Estos volúmenes son tan grandes que las formas de procesamiento y análisis tradicionales ya no son adecuadas.

### A lo largo del tiempo, se han desarrollado tecnologías de clúster de código abierto para tratar con estos grandes conjuntos de datos. Microsoft Azure admite una amplia gama de tecnologías y servicios para proporcionar soluciones de macrodatos y análisis, como Azure Synapse Analytics, Azure HDInsight, Azure Databricks y Azure Data Lake Analytics.

## *Azure Synapse Analytics*

### Azure Synapse Analytics (anteriormente Azure SQL Data Warehouse) es un servicio de análisis ilimitado que reúne el almacenamiento de datos empresariales y el análisis de macrodatos. Puede consultar los datos como prefiera mediante recursos sin servidor o aprovisionados a escala. 

![synapse](https://docs.microsoft.com/en-gb/learn/azure-fundamentals/azure-database-fundamentals/media/icon-service-azure-synapse-analytics-ccf35fef.png)

## *HDInsight de Azure*

### Azure HDInsight es un servicio de análisis de código abierto totalmente administrado para empresas. Es un servicio en la nube que hace que sea más fácil, rápido y rentable procesar grandes cantidades de datos. Puede ejecutar marcos de código abierto populares y crear tipos de clúster, como Apache Spark, Apache Hadoop, Apache Kafka, Apache HBase, Apache Storm y Machine Learning Services. HDInsight también admite una amplia gama de escenarios, como la extracción, la transformación y la carga de datos (ETL), el almacenamiento de datos, el aprendizaje automático e IoT.
![HDINSIGHT](https://docs.microsoft.com/en-gb/learn/azure-fundamentals/azure-database-fundamentals/media/icon-service-hd-insight-22e60b81.png)

## *Azure Databricks*

### Azure Databricks le ayuda a descubrir información de todos los datos y a crear soluciones de inteligencia artificial. Puede configurar el entorno de Apache Spark en minutos y, después, escalar automáticamente y colaborar en proyectos compartidos en un área de trabajo interactiva. Azure Databricks admite Python, Scala, R, Java y SQL, así como marcos y bibliotecas de ciencia de datos, como TensorFlow, PyTorch y Scikit-learn.
![databricks](https://docs.microsoft.com/en-gb/learn/azure-fundamentals/azure-database-fundamentals/media/icon-service-azure-databricks-d9d1140b.png)

## *Análisis con Azure Data Lake*

### Azure Data Lake Analytics es un servicio de trabajos de análisis a petición que simplifica los macrodatos. En lugar de implementar, configurar y ajustar el hardware, escribirá consultas para transformar los datos y extraer ideas valiosas
![data_lake](https://docs.microsoft.com/en-gb/learn/azure-fundamentals/azure-database-fundamentals/media/icon-service-data-lake-analytics-e0c86f7c.png)

### Solo paga por su trabajo cuando se está ejecutando, lo que hace que sea más rentable.

### *1. El equipo de desarrollo está interesado en escribir aplicaciones basadas en Graph que se aprovechen de las ventajas de la API de Gremlin. ¿Qué opción sería la más adecuada para ese escenario?*

### -Azure Cosmos DB

### *2. Una empresa usa la pila LAMP para varios de sus sitios web. ¿Qué opción sería la más adecuada para la migración?* 
### -Azure Database for MySQL

### 3. Tailwind Traders tiene millones de entradas de registro que quiere analizar. ¿Qué opción sería la más adecuada para el análisis?*

### -Azure Synapse Analytics

# **20.- Exploración de los servicios de Azure Compute**

### Azure Compute es un servicio de informática a petición para ejecutar aplicaciones basadas en la nube. Se proporcionan recursos informáticos como discos, procesadores, memoria, redes y sistemas operativos. Solo se paga por los recursos que se usan y solo durante el tiempo que se usan.

### El servicio es compatible con Linux, Windows Server, SQL Server, Oracle, IBM y SAP. Azure también tiene muchos servicios que pueden ejecutar máquinas virtuales (VM). Cada servicio proporciona opciones distintas en función de los requisitos. Algunos de los servicios más destacados son los siguientes:

* Azure Virtual Machines
* Azure Container Instances
* Azure App Service
* Azure Functions (o informática sin servidor)

![servicios](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-compute-fundamentals/media/compute-services.png)

## *Máquinas virtuales*

### Las máquinas virtuales son emulaciones de software de equipos físicos. Incluyen un procesador virtual, memoria, almacenamiento y recursos de red. Hospedan un sistema operativo, y se puede instalar y ejecutar software, al igual que en un equipo físico. 

### Virtual Machines proporciona infraestructura como servicio (IaaS) y se puede usar de maneras diferentes. Cuando necesite un control total sobre el entorno y el sistema operativo, las máquinas virtuales son la opción idónea. Al igual que sucede en un equipo físico, se puede personalizar todo el software que se ejecuta en la máquina virtual. 

## *Conjuntos de escalado de máquinas virtuales*

### Los conjuntos de escalado de máquinas virtuales son un recurso de Azure Compute que puede usar para implementar y administrar un conjunto de máquinas virtuales idénticas. Con todas las máquinas virtuales configuradas de la misma manera, los conjuntos de escalado de máquinas virtuales están diseñados para admitir el escalado automático verdadero. No es necesario el aprovisionamiento previo de las máquinas virtuales. Por este motivo, es más sencillo compilar servicios a gran escala cuyo destino sean las cargas de trabajo en contenedores, de macroproceso y macrodatos. A medida que la demanda aumente, se pueden agregar más instancias de máquina virtual. A medida que la demanda disminuya, se pueden quitar más instancias de máquina virtual.

## *Containers y Kubernetes*

### Los contenedores son entornos de aplicación ligeros y virtualizados. Están diseñados para crearse, escalarse horizontalmente y detenerse dinámicamente de forma rápida. Puede ejecutar varias instancias de una aplicación en contenedores en un único equipo host.

## *App Service*

### Con Azure App Service puede compilar, implementar y escalar de forma rápida aplicaciones de API, móviles y web de nivel empresarial que se pueden ejecutar en cualquier plataforma.App Service es una oferta de plataforma como servicio (PaaS).

## *Functions*

### Es una opción ideal si le preocupa solo el código que ejecuta el servicio y no la infraestructura o la plataforma subyacente. Se usan normalmente cuando se debe realizar un trabajo en respuesta a un evento (a menudo a través de una solicitud REST), un temporizador o un mensaje de otro servicio de Azure, y cuando ese trabajo puede completarse rápidamente, en segundos o en menos tiempo.

## *Cuándo usar Microsoft Azure Virtual Machines*

### Las máquinas virtuales son una opción ideal cuando se necesita lo siguiente:

* Control total sobre el sistema operativo (SO).
* Capacidad de ejecutar software personalizado.
* Usar configuraciones de hospedaje personalizadas.

### Una máquina virtual de Azure le ofrece la flexibilidad de la virtualización sin necesidad de adquirir y mantener el hardware físico que ejecuta la máquina virtual. Todavía se necesita configurar, actualizar y mantener el software que se ejecuta en la máquina virtual.

## *Ejemplos de cuándo usar máquinas virtuales*
* Durante las pruebas y el desarrollo. Las máquinas virtuales proporcionan una manera rápida y sencilla de crear distintas configuraciones de sistema operativo y de aplicación. El personal encargado de las pruebas y del desarrollo puede eliminar fácilmente las máquinas virtuales cuando ya no las necesite.

* Al ejecutar aplicaciones en la nube. La capacidad de ejecutar determinadas aplicaciones en la nube pública, en lugar de crear una infraestructura tradicional para ejecutarlas, puede proporcionar importantes beneficios económicos. Por ejemplo, es posible que una aplicación necesite controlar las fluctuaciones en la demanda. Apagar las máquinas virtuales cuando no las necesite o iniciarlas rápidamente para satisfacer un aumento repentino de la demanda significa que solo paga por los recursos que se usan.

* A la hora de extender el centro de recursos a la nube. Una organización puede extender las capacidades de su propia red local mediante la creación de una red virtual en Azure y al agregar máquinas virtuales a esa red virtual.

* Durante la recuperación ante desastres. Se puede obtener un ahorro considerable en costos mediante el uso de un enfoque basado en IaaS para la recuperación ante desastres. Si se produce un error en un centro de datos principal, puede crear máquinas virtuales que se ejecuten en Azure para ejecutar las aplicaciones críticas y, después, puede apagarlas cuando el centro de datos principal vuelva a estar operativo.

## *Traslado a la nube con máquinas virtuales*

### Las máquinas virtuales también son una opción excelente cuando se mueve de un servidor físico a la nube (también conocido como Lift-and-shift). Puede crear una imagen del servidor físico y hospedarla en una máquina virtual con pocos o ningún cambio. Al igual que un servidor físico local, las máquinas virtuales requieren mantenimiento.

## *Escalado de máquinas virtuales en Azure*
### Se pueden ejecutar máquinas virtuales únicas para pruebas, desarrollo o tareas secundarias. También se pueden agrupar las máquinas virtuales para proporcionar alta disponibilidad, escalabilidad y redundancia. Con independencia de cuáles sean los requisitos de tiempo de actividad, Azure cuenta con varias características para que pueda cumplirlos. Estas características son:

* Conjuntos de escalado de máquinas virtuales
* Azure Batch

## *¿Qué son los conjuntos de escalado de máquinas virtuales?*

### Permiten crear y administrar un grupo de máquinas virtuales idénticas, de carga equilibrada. Imagine que está ejecutando un sitio web que permite a los científicos cargar imágenes de astronomía que deben procesarse. Si ha duplicado la máquina virtual, normalmente necesitará configurar un servicio adicional para enrutar las solicitudes entre varias instancias del sitio web. Los conjuntos de escalado de máquinas virtuales pueden encargarse de ello.

### Los conjuntos de escalado le permiten administrar, configurar y actualizar de forma centralizada un gran número de máquinas virtuales en cuestión de minutos para proporcionar aplicaciones altamente disponibles. El número de instancias de máquina virtual puede aumentar o disminuir automáticamente según la demanda, o de acuerdo con una programación definida.

### Puede crear servicios a gran escala para áreas como proceso, macrodatos y cargas de trabajo de contenedor.

## *¿Qué es Azure Batch?*

### Permite trabajo por lotes paralelos a gran escala y de informática de alto rendimiento (HPC) con la capacidad de escalar a decenas, cientos o miles de máquinas virtuales.

### Cuando esté listo para ejecutar un trabajo, Batch:

* Iniciará un grupo de máquinas virtuales de proceso de forma automática.
* Instalará aplicaciones y datos de almacenamiento provisional.
* Ejecutará trabajos con tantas tareas como tenga.
* Identificará errores.
* Reordenará la cola de trabajo.
* Reducirá verticalmente el grupo a medida que se complete el trabajo.
### Puede haber situaciones en las que se necesite potencia informática sin procesar o potencia de cálculo a nivel de superequipo. Azure proporciona estas capacidades.


## *Cuándo usar Azure Container Instances o Azure Kubernetes Service*

### Los contenedores son una excelente opción si quiere ejecutar varias instancias de una aplicación en un solo equipo host.

## *¿Qué son los contenedores?*

### Los contenedores son un entorno de virtualización. Al igual que la ejecución de varias máquinas virtuales en un solo host físico, se pueden ejecutar varios contenedores en un solo host físico o virtual. A diferencia de las máquinas virtuales, no se administra el sistema operativo de un contenedor. Los contenedores son ligeros y están diseñados para crearse, escalarse horizontalmente y detenerse de forma dinámica. 

###  Los contenedores están diseñados para permitirle responder a los cambios a petición. Con los contenedores, puede reiniciar rápidamente en caso de bloqueo o interrupción del hardware. Uno de los motores de contenedor más populares es Docker, que es compatible con Azure.

## *Administrar contenedores*

### Los contenedores se administran a través de un orquestador de contenedores, que puede iniciar, detener y escalar horizontalmente las instancias de la aplicación, según sea necesario. Hay dos maneras de administrar los contenedores basados en Microsoft y Docker en Azure: Azure Container Instances y Azure Kubernetes Service (AKS).

## *Azure Container Instances*

### Azure Container Instances ofrece la forma más rápida y sencilla de ejecutar un contenedor en Azure, sin tener que administrar ninguna máquina virtual o adoptar ningún servicio adicional. Es una oferta de plataforma como servicio (PaaS).

![azure container instances](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-compute-fundamentals/media/icon-container-instance.png)

## *Azure Kubernetes Service*

### La tarea de automatizar y administrar una gran cantidad de contenedores (y de interactuar con ellos) se conoce como orquestación. Azure Kubernetes Service es un servicio completo de orquestación para contenedores con arquitecturas distribuidas y grandes volúmenes de contenedores. La orquestación es la tarea de automatizar y administrar una gran cantidad de contenedores y la manera en que interactúan.

![kubernetes](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-compute-fundamentals/media/icon-kubernetes.png)

## *Uso de contenedores en las soluciones*

### Los contenedores se usan normalmente para crear soluciones mediante una arquitectura de microservicios. Esta arquitectura es donde se dividen las soluciones en partes más pequeñas e independientes. Por ejemplo, se puede dividir un sitio web en un contenedor que hospeda el front-end, otro que hospeda el back-end y un tercero para el almacenamiento.

### Imagine que el back-end de su sitio web ha alcanzado el límite de su capacidad, pero el front-end y el almacenamiento no están sobrecargados. Podría:

* Escalar el back-end por separado para mejorar el rendimiento.
* Decidir utilizar un servicio de almacenamiento diferente.
* Reemplazar el contenedor de almacenamiento sin que ello afecte al resto de la aplicación.

## *¿Qué es un microservicio?*

### Es un servicio web que tiene un ámbito reducido y bien definido y que está acoplado de forma flexible con otros servicios web.

### Los microservicios pueden comunicarse entre si mediante API's.

## *Cuándo usar Azure App Service*

### App Service es compatible con Windows y Linux, y permite implementaciones automatizadas desde GitHub, Azure DevOps o cualquier repositorio Git para admitir un modelo de implementación continua.

![app service](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-compute-fundamentals/media/appservice.png)

## *Costos de Azure App Service*

### Se paga por los recursos de Azure Compute que la aplicación usa mientras procesa las solicitudes según el plan de App Service que elija. El plan de App Service determina la cantidad de hardware dedicado al host. Por ejemplo, el plan determina si el hardware es dedicado o compartido y cuánta memoria se le reserva. Incluso hay un nivel gratuito que puede usar para hospedar sitios pequeños y con poco tráfico.

## *Tipos de servicios de aplicaciones*

### Con App Service, puede hospedar la mayoría de los estilos de servicio de aplicación más comunes, como los siguientes:

* Aplicaciones web
* Aplicaciones de API
* Trabajos web
* Aplicaciones móviles

### App Service controla la mayoría de las decisiones sobre la infraestructura que se tratan en el hospedaje de aplicaciones accesibles desde la web:

* La implementación y administración se integran en la plataforma.
* Los puntos de conexión se pueden proteger.
* Los sitios se pueden escalar rápidamente para controlar cargas de tráfico elevado.
* El equilibrio de carga integrado y el administrador de tráfico proporcionan alta disponibilidad.

## *Aplicaciones web*

### App Service incluye compatibilidad completa para hospedar aplicaciones web mediante ASP.NET, ASP.NET Core, Java, Ruby, Node.js, PHP o Python.

## *Aplicaciones de API*
### Al igual que al hospedar un sitio web, puede compilar API web basadas en REST mediante el lenguaje y el marco que prefiera. Se obtiene compatibilidad completa con Swagger y la posibilidad de empaquetar y publicar la API en Azure Marketplace. Las aplicaciones producidas se pueden consumir desde cualquier cliente basado en HTTP o HTTPS.

## *Trabajos web*
### Se puede usar la característica WebJobs para ejecutar un programa (.exe, Java, PHP, Python o Node.js) o un script (.cmd, .bat, PowerShell o Bash) en el mismo contexto que una aplicación web, aplicación de API o aplicación móvil. Los puede programar o ejecutar un desencadenador. 

## *Aplicaciones móviles*

### Use la característica Mobile Apps de App Service a fin de compilar rápidamente un back-end para aplicaciones iOS y Android. Con unos pocos clics en Azure Portal, puede realizar lo siguiente:

* Almacenar los datos de aplicaciones móviles en una base de datos SQL basada en la nube.
*Autenticar a clientes con proveedores sociales comunes, como MSA, Google, Twitter y Facebook.
* Enviar notificaciones de inserción.
* Ejecutar lógica de back-end personalizada en C# o Node.js.
### En el lado de la aplicación móvil, hay compatibilidad con el SDK para aplicaciones nativas de iOS y Android, Xamarin y React.

## *Cuándo usar Azure Functions*

### La informática sin servidor es la abstracción de los servidores, la infraestructura y los sistemas operativos. Con la informática sin servidor, Azure se encarga de administrar la infraestructura de servidor, así como de la asignación y desasignación de recursos según la demanda. La infraestructura no es responsabilidad del usuario. 

![functions](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-compute-fundamentals/media/serverless.png)
### La informática sin servidor incluye la abstracción de servidores, un escalado controlado por eventos y la microfacturación:

* Abstracción de servidores: la informática sin servidor abstrae los servidores en los que se ejecuta. Nunca se reservan instancias de servidor de forma explícita. La plataforma las administra de forma automática. Cada ejecución de función puede ejecutarse en una instancia de proceso diferente. Con la arquitectura sin servidor, se implementa el código, el cual se ejecuta con alta disponibilidad.

* Escalado controlado por eventos: la informática sin servidor es una opción excelente para las cargas de trabajo que responden a eventos entrantes. Los eventos incluyen desencadenadores mediante lo siguiente:

* * Temporizadores, por ejemplo, si una función tiene que ejecutarse todos los días a las 10:00 UTC.
* * HTTP, por ejemplo, escenarios de API y webhook.
* * Colas, por ejemplo, con procesamiento de pedidos.
* * Y mucho más.

### En lugar de escribir una aplicación completa, el desarrollador crea una función, la cual contiene código y metadatos sobre sus desencadenadores y enlaces. La plataforma programa automáticamente la función para que se ejecute y escala el número de instancias de proceso según la tasa de eventos de entrada. 

* Microfacturación: la informática tradicional factura para un bloque de tiempo, como el pago de una tarifa mensual o anual, para el hospedaje de sitios web. Este método de facturación es práctico, pero no siempre es rentable. Incluso si el sitio web de un cliente solo recibe una visita al día, este sigue pagando por tenerlo disponible durante todo el día. Con la informática sin servidor, solo se paga por el tiempo durante el que se ejecuta el código. Si no se produce ninguna ejecución de función activa, no se cobra al cliente. 


### Azure tiene dos implementaciones de proceso sin servidor:

* Azure Functions: las funciones pueden ejecutar código en prácticamente cualquier lenguaje moderno.
* Azure Logic Apps: las aplicaciones lógicas están diseñadas en web y pueden ejecutar lógica desencadenada mediante servicios de Azure sin escribir código.

## *Azure Functions*

### El uso de Azure Functions es ideal si le preocupa solo el código que ejecuta el servicio, pero no la infraestructura o la plataforma subyacentes. Las funciones se usan normalmente cuando se debe realizar un trabajo en respuesta a un evento (a menudo a través de una solicitud REST), un temporizador o un mensaje de otro servicio de Azure.

### Las funciones escalan automáticamente según la demanda, para que sean una opción sólida cuando la demanda es variable. Por ejemplo, podría recibir mensajes de una solución de IoT que se usa para supervisar una flota de vehículos de entrega. Probablemente llegarán más datos durante el horario comercial.

### Mediante el uso de un enfoque basado en máquinas virtuales, incurrirá en costos incluso cuando la máquina virtual esté inactiva. Con Functions, Azure ejecuta el código cuando se desencadena y desasigna recursos automáticamente cuando la función finaliza. 

### Las funciones pueden ser sin estado o con estado. Cuando son sin estado (valor predeterminado), se comportan como si se reiniciaran cada vez que responden a un evento. Cuando son con estado (denominado Durable Functions), se pasa un contexto a través de la función para realizar el seguimiento antes de la actividad.

### Las funciones son un componente clave de la informática sin servidor. También son una plataforma de proceso general para ejecutar cualquier tipo de código. Si cambian las necesidades de la aplicación del desarrollador, se puede implementar el proyecto en un entorno que no sea sin servidor. Esta flexibilidad permite administrar el escalado, ejecutar en redes virtuales e incluso aislar por completo las funciones.

## *Azure Logic Apps*

### Las aplicaciones lógicas son similares a las funciones. Ambas permiten desencadenar lógica basada en un evento. Cuando las funciones ejecutan código, las aplicaciones lógicas ejecutan flujos de trabajo diseñados para automatizar escenarios empresariales y compilados a partir de bloques lógicos predefinidos.

### Todos los flujos de trabajo de aplicación lógica de Azure comienza con un desencadenador, que se activa cuando se produce un evento específico o cuando hay nuevos datos disponibles que cumplen determinados criterios. 

### Cada vez que el desencadenador se activa, el motor de Logic Apps crea una instancia de aplicación lógica que ejecuta las acciones del flujo de trabajo. Estas acciones también pueden incluir conversiones de datos y controles de flujo, como instrucciones condicionales, instrucciones "switch", bucles y bifurcaciones.

### Los flujos de trabajo de aplicaciones lógicas se crean mediante un diseñador visual en Azure Portal o en Visual Studio. Los flujos de trabajo se conservan como un archivo JSON con un esquema de flujo de trabajo conocido.

## *Comparación entre Functions y Logic Apps*

### Functions y Logic Apps pueden crear orquestaciones complejas. Una orquestación es una colección de funciones o pasos que se ejecutan para realizar una tarea compleja.

* Con Functions, se escribe código para completar cada paso.
* Con Logic Apps, se usa una GUI para definir las acciones y cómo se relacionan entre sí.

### Puede mezclar y combinar servicios cuando crea una orquestación, llamando a las funciones desde las aplicaciones lógicas y viceversa.

|                          |     Functions               |          Logic Apps          |
| -------------------------| ---------------------------- | ----------------------------|
|Estado	                   |Normalmente sin estado, pero Durable Functions proporciona el estado.	|Con estado.
|Desarrollo	|Orientado al código (imperativo).	|Orientado al diseñador (declarativo).|
|Conectividad	|Alrededor de una docena de tipos de enlaces integrados. Escritura de código para enlaces personalizados.	|Gran colección de conectores. Enterprise Integration Pack para escenarios B2B. Creación de conectores personalizados.|
|Acciones|	Cada actividad es una función de Azure. Escritura de código para las funciones de actividad.	|Gran colección de acciones listas para usar.|
|Supervisión|	Azure Application Insights.	|Azure Portal, Log Analytics.|
|Administración	|API REST, Visual Studio.	|Azure Portal, API REST, PowerShell, Visual Studio.|
|Contexto de ejecución|	Se puede ejecutar localmente o en la nube.|	Solo se ejecuta en la nube|

## *Cuándo usar Windows Virtual Desktop*

## *¿Qué es Windows Virtual Desktop?*

### Windows Virtual Desktop en Azure es un servicio de virtualización de escritorio y de aplicaciones que se ejecuta en la nube. Permite que los usuarios usen una versión hospedada en la nube de Windows desde cualquier ubicación. Windows Virtual Desktop funciona en dispositivos como Windows, Mac, iOS, Android y Linux. Funciona con aplicaciones que se pueden usar para acceder a aplicaciones y escritorios remotos. 

## *¿Por qué debe usar Windows Virtual Desktop?*
## *Proporción de la mejor experiencia de usuario*

### Utilizan un cliente de Windows Virtual Desktop para conectarse a sus aplicaciones y escritorios de Windows publicados. Este cliente puede ser una aplicación nativa en el dispositivo o el cliente web de HTML5 de Windows Virtual Desktop.

### El inicio de sesión de usuario en Windows Virtual Desktop es rápido porque los perfiles de usuario se incluyen en contenedores mediante FSLogix. En el inicio de sesión, el contenedor de perfil de usuario se adjunta dinámicamente al entorno informático. El perfil de usuario está disponible inmediatamente y aparece en el sistema exactamente como un perfil de usuario nativo.

### Puede proporcionar una propiedad individual a través de escritorios personales (persistentes). Por ejemplo, puede que quiera proporcionar escritorios remotos personales a los miembros de un equipo de ingeniería. Después, estos miembros pueden agregar o quitar programas sin que afecte a otros usuarios en ese escritorio remoto.

## *Aumento de la seguridad*

### Windows Virtual Desktop proporciona administración centralizada de la seguridad para los escritorios de los usuarios con Azure Active Directory (Azure AD). Puede habilitar la autenticación multifactor para proteger los inicios de sesión de los usuarios. También puede proteger el acceso a los datos mediante la asignación a los usuarios de controles de acceso basados en roles (RBAC) detallados.

### Con Windows Virtual Desktop, los datos y las aplicaciones se separan del hardware local. En su lugar, Windows Virtual Desktop los ejecuta en un servidor remoto.

### Las sesiones de usuario están aisladas en entornos de una o varias sesiones.

### Windows Virtual Desktop también mejora la seguridad mediante el uso de tecnología de conexión inversa. Este tipo de conexión es más seguro que el Protocolo de escritorio remoto. No abrimos puertos de entrada a las máquinas virtuales del host de sesión.

## *¿Cuáles son algunas características clave de Windows Virtual Desktop?*

## *Administración simplificada*

### Windows Virtual Desktop es un servicio de Azure, por lo que resultará familiar para los administradores de Azure. Utilice Azure AD y RBAC para administrar el acceso a los recursos. Con Azure, también obtendrá herramientas para automatizar las implementaciones de máquinas virtuales, administrar las actualizaciones de máquinas virtuales y proporcionar recuperación ante desastres.

## *Administración del rendimiento*

### Windows Virtual Desktop ofrece opciones para equilibrar la carga de los usuarios en los grupos de hosts de las máquinas virtuales. Los grupos de hosts son colecciones de máquinas virtuales con la misma configuración asignada a varios usuarios. Para obtener el mejor rendimiento, puede configurar el equilibrio de carga para que se produzca cuando los usuarios inicien sesión (modo de amplitud). Con el modo de amplitud, los usuarios se asignan secuencialmente a través del grupo de hosts para la carga de trabajo. Para ahorrar costos, puede configurar las máquinas virtuales para el equilibrio de carga en modo de profundidad, donde los usuarios se asignan por completo en una máquina virtual antes de pasar a la siguiente. 

## *Implementación de sesión múltiple de Windows 10*
### Windows Virtual Desktop permite usar la sesión múltiple de Windows 10 Enterprise, el único sistema operativo basado en cliente de Windows que permite varios usuarios simultáneos en una sola máquina virtual. 

## *¿Cómo puede reducir costos con Windows Virtual Desktop?*

### *Traiga sus propia licencias*
### Windows Virtual Desktop está disponible sin costo adicional si tiene una licencia de Microsoft 365 válida. Pague solo por los recursos de Azure que usa Windows Virtual Desktop.
* Traiga su licencia de Windows o Microsoft 365 válida para obtener aplicaciones y escritorios de Windows 10 Enterprise y Windows 7 Enterprise sin costo adicional.
* Si es un cliente apto para la Licencia de acceso de cliente para Servicios de Escritorio remoto de Microsoft, las aplicaciones y los escritorios de Servicios de Escritorio remoto de Windows Server están disponibles sin costo adicional.

## *Ahorre en costos de proceso*

### Compre licencias de Azure Reserved Virtual Machine Instances de un año o de tres años para ahorrar hasta un 72 %, en comparación con los precios de pago por uso. 

# **21.-Exploración de los servicios de Azure Storage**

### Azure Storage no es lo mismo que los servicios de base de datos de Azure.

## *Aspectos básicos de la cuenta de Azure Storage*

### Es un servicio que puede usar para almacenar archivos, mensajes, tablas y otros tipos de información. Los clientes como sitios web, aplicaciones móviles, aplicaciones de escritorio y muchos otros tipos de soluciones personalizadas pueden leer y escribir datos en Azure Storage. Azure Storage también se usa en máquinas virtuales de infraestructura como servicio y en servicios en la nube de plataforma como servicio.

### Para empezar a usar Azure Storage, cree primero una cuenta de Azure Storage para almacenar los objetos de datos. Puede crear una cuenta de Azure Storage mediante Azure Portal, PowerShell o la CLI de Azure.

![azurestorage](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/create-storage-account-1c42138c.png)

### Las VM de Azure usan Azure Disk Storage para almacenar discos virtuales. Sin embargo, no puede usar Azure Disk Storage para almacenar un disco fuera de una máquina virtual.

### Una cuenta de almacenamiento proporciona un espacio de nombres único para los datos de Azure Storage, al que se puede acceder desde cualquier lugar del mundo a través de HTTP o HTTPS.
![http](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/account-container-blob-4da0ac47.png)

# **Aspectos básicos de Disk Storage**

### Disk Storage proporciona discos para Azure Virtual Machines. Las aplicaciones y otros servicios pueden acceder a estos discos y usarlos cuando sea necesario, igual que se haría en escenarios locales. Disk Storage permite que los datos se almacenen de forma persistente y que se acceda a ellos desde un disco duro virtual conectado.

![disk_storage](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/icon-azure-standard-storage-083e0065.png)

### Los discos tienen diferentes tamaños y niveles de rendimiento, desde unidades de estado sólido (SSD) a unidades de disco duro (HDD) giratorias tradicionales, con diferentes niveles de rendimiento. Puede usar discos SSD y HDD estándar para cargas de trabajo menos críticas, discos SSD Premium para aplicaciones de producción críticas y Ultra Disks para cargas de trabajo con un uso intensivo de datos como SAP HANA, bases de datos de nivel superior y cargas de trabajo con mucha actividad de transacciones. Azure han ofrecido durabilidad de nivel empresarial de forma coherente para los discos de infraestructura como servicio (IaaS), con una tasa de error anualizada del 0 % líder del sector.

### En la siguiente ilustración se muestra una máquina virtual de Azure que usa discos independientes para almacenar datos diferentes.

![Diskstorage_vm](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/azure-disks-7841e01e.png)

## *Aspectos básicos de Azure Blob Storage*


### Azure Blob Storage es una solución de almacenamiento de objetos para la nube. Puede almacenar grandes cantidades de datos, como datos de texto o binarios. Azure Blob Storage es no estructurado, lo que significa que no hay ninguna restricción en cuanto a los tipos de datos que puede contener. Blob Storage puede administrar miles de cargas simultáneas, cantidades enormes de datos de vídeo, archivos de registro en constante crecimiento 

![azure_blop](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/icon-azure-blob-storage-055dde79.png)

### Los blobs no están limitados a formatos de archivo comunes. Un blob podría contener gigabytes de datos binarios transmitidos desde un instrumento científico, un mensaje cifrado para otra aplicación o datos en un formato personalizado para una aplicación que se está desarrollando. Una ventaja del almacenamiento en blobs con respecto al almacenamiento en disco es que no requiere que los desarrolladores piensen en discos o los administren

### Blob Storage resulta ideal para lo siguiente:

* Visualización de imágenes o documentos directamente en un explorador.

* Almacenamiento de archivos para acceso distribuido.

* Streaming de audio y vídeo.

* Almacenamiento de datos para copia de seguridad y restauración, recuperación ante desastres y archivado.
* Almacenamiento de datos para el análisis en local o en un servicio hospedado de Azure.
* Almacenamiento de hasta 8 TB de datos para máquinas virtuales.

### Los blobs se almacenan en contenedores, lo que ayuda a organizar los blobs en función de sus necesidades empresariales.

![blop_container](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/account-container-blob-4da0ac47.png)

## *Aspectos básicos de Azure Files*

### Azure Files ofrece recursos compartidos de archivos totalmente administrados en la nube a los que se puede acceder mediante los protocolos del Bloque de mensajes del servidor y Network File System (versión preliminar). 

![azurefile](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/icon-azure-files-c53adf24.png)

###  Las aplicaciones que se ejecutan en máquinas virtuales o servicios en la nube de Azure pueden montar un recurso compartido de almacenamiento de archivos para acceder a datos de archivos, del mismo modo que una aplicación de escritorio montaría un recurso compartido SMB normal. Cualquier número de roles o máquinas virtuales de Azure puede montar y acceder simultáneamente al recurso compartido de almacenamiento de archivos.

### Use Azure Files para las siguientes situaciones:

* Muchas aplicaciones locales usan recursos compartidos de archivos. Azure Files facilita la migración de esas aplicaciones que comparten datos a Azure. Si monta el recurso compartido de archivos en la misma letra de unidad que usa la aplicación local, la parte de la aplicación que accede al recurso compartido de archivos debe funcionar con cambios mínimos, si los hay.
* Almacene archivos de configuración en un recurso compartido de archivos y acceda a ellos desde varias máquinas virtuales. Las herramientas y utilidades que usen varios desarrolladores de un grupo pueden almacenarse en un recurso compartido de archivos, lo que garantiza que todos los usuarios puedan encontrarlas y que utilizan la misma versión.
* Escriba datos en un recurso compartido de archivos y procese o analice los datos más adelante. Por ejemplo, puede que desee hacerlo con registros de diagnóstico, métricas y volcados de memoria.

### La siguiente ilustración muestra el uso de Azure Files para compartir datos entre dos ubicaciones geográficas. Azure Files garantiza que los datos se cifren en reposo, y el protocolo SMB garantiza que los datos se cifren en tránsito.

![azurefile_f](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/azure-files-5f942c3e.png)

### Una cosa que distingue Azure Files de los archivos ubicados en un recurso compartido de archivos corporativo es que puede tener acceso a los archivos desde cualquier lugar del mundo mediante una dirección URL que apunte al archivo. También puede usar tokens de Firma de acceso compartido (SAS) para permitir el acceso a un recurso privado durante un período de tiempo determinado.
![tokensas](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/sas-storage-uri-037308fa.png)

## *Descripción de los niveles de acceso de blobs*

### Los datos almacenados en la nube pueden crecer a un ritmo exponencial. Para administrar los costos de las crecientes necesidades de almacenamiento, resulta útil organizar los datos en función de atributos como la frecuencia de acceso y el período de retención planeada. Los datos almacenados en la nube pueden ser diferentes según la forma en que se generan, se procesan y se accede a ellos a lo largo de su vigencia. A algunos datos se accede y se modifican activamente a lo largo de su duración. A algunos datos se accede con frecuencia al principio de su duración, mientras que el acceso cae drásticamente a medida que envejecen los datos. Algunos datos permanecen inactivos en la nube y, después de que se almacenan, no se accede a ellos prácticamente nunca. Para dar cabida a estas diferentes necesidades de acceso, Azure proporciona varios niveles de acceso

### Azure Storage ofrece diferentes niveles de acceso para el almacenamiento de blobs, lo que le ayuda a almacenar datos de objetos de la manera más rentable. Entre los niveles de acceso disponibles se incluyen:

* Nivel de acceso frecuente: optimizado para almacenar datos a los que se accede con frecuencia (por ejemplo, imágenes para el sitio web).

* Nivel de acceso esporádico: optimizado para datos a los que se accede con poca frecuencia y que se almacenan al menos durante 30 días (por ejemplo, las facturas de los clientes).

* Nivel de acceso de archivo: conveniente para datos a los que raramente se accede y que se almacenan durante al menos 180 días con requisitos de latencia flexibles (por ejemplo, copias de seguridad a largo plazo).

### Las siguientes consideraciones se aplican a los distintos niveles de acceso:

* Solo los niveles de acceso frecuente y esporádico se pueden establecer en el nivel de cuenta. El nivel de acceso de archivo no está disponible en el nivel de cuenta.

* Los niveles frecuente, esporádico y de archivo se pueden establecer en el nivel de blob durante la carga o después de esta.

* Los datos del nivel de acceso esporádico pueden tolerar una disponibilidad ligeramente inferior, pero aun así requieren una gran durabilidad, una latencia de recuperación y unas características de rendimiento similares a las de los datos de acceso frecuente. En el caso de los datos de acceso esporádico, un contrato de nivel de servicio (SLA) con una disponibilidad ligeramente inferior y unos costos de acceso mayores, en comparación con los datos de acceso frecuente, es aceptable a cambio de unos costos de almacenamiento menores.

* El almacenamiento de archivo almacena datos sin conexión y ofrece los menores costos de almacenamiento, pero los mayores costos de acceso y rehidratación de datos.
![elegiracceso](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-storage-fundamentals/media/account-tier-42ec76d7.png)

### 1. ¿Cuál es el primer paso que se debe llevar a cabo para compartir un archivo de imagen como blob en Azure Storage?
### Crear una cuenta de Azure Storage

### 2. ¿Qué opción de Azure Storage es mejor para almacenar datos para copias de seguridad y restauración, recuperación ante desastres y archivado?

### Azure Blob Storage

# **22.-Exploración de los servicios de red de Azure**

### Usted quiere usar Azure para descargar los picos de tráfico mediante máquinas virtuales (VM) hospedadas en Azure. Quiere mantener el esquema de direcciones IP y los dispositivos de red existentes, y asegurarse de que todas las transferencias de datos sean seguras.

### El uso de Azure Virtual Network para las redes virtuales puede ayudarle a conseguir sus objetivos.

## *¿Qué son las redes virtuales de Azure?*

### Las redes virtuales de Azure permiten a los recursos de Azure, como las máquinas virtuales, las aplicaciones web y las bases de datos, comunicarse entre sí, con los usuarios de Internet y con los equipos cliente en el entorno local. Se puede pensar en una red de Azure como en un conjunto de recursos que se vincula a otros recursos de Azure.

### Proporcionan las importantes funcionalidades de red siguientes:
* Aislamiento y segmentación
* Comunicación con Internet
* Comunicación entre recursos de Azure
* Comunicación con los recursos locales
* Enrutamiento del tráfico de red
* Filtrado del tráfico de red
* Conexión de redes virtuales

## *Aislamiento y segmentación*

### Virtual Network permite crear varias redes virtuales aisladas. Al configurar una red virtual, se define un espacio de direcciones IP privadas con intervalos de direcciones IP públicas o privadas. Después, puede dividir ese espacio de direcciones IP en subredes y asignar parte del espacio de direcciones definido a cada subred con nombre.

### En la resolución de nombres, puede usar el servicio de resolución de nombres integrado en Azure. También puede configurar la red virtual para que use un servidor DNS interno o externo.

## *Comunicación con Internet*
### Una máquina virtual en Azure se puede conectar a Internet de forma predeterminada. Puede habilitar las comunicaciones entrantes desde Internet si define una dirección IP pública o un equilibrador de carga público. Para la administración de la máquina virtual, puede conectarse a través de la CLI de Azure, el Protocolo de escritorio remoto o Secure Shell.

## *Comunicación entre los recursos de Azure*
### Puede hacerlo de dos maneras:

* Redes virtuales: Las redes virtuales no solo pueden conectar máquinas virtuales, sino también otros recursos de Azure, como App Service Environment para Power Apps, Azure Kubernetes Service y conjuntos de escalado de máquinas virtuales de Azure.

* Puntos de conexión de servicio: Los puntos de conexión de servicio se pueden usar para conectarse a otros tipos de recursos de Azure, como cuentas de almacenamiento y bases de datos de Azure SQL. Este enfoque permite vincular varios recursos de Azure con las redes virtuales para mejorar la seguridad y proporcionar un enrutamiento óptimo entre los recursos.

## *Comunicación con recursos locales*

### Las redes virtuales de Azure permiten vincular entre sí los recursos del entorno local y dentro de la suscripción de Azure. De hecho, puede crear una red que abarque tanto el entorno local como el entorno en la nube. Existen tres mecanismos

* Redes privadas virtuales de punto a sitio: El enfoque habitual para una conexión de red privada virtual (VPN) consiste en establecer la conexión con la red corporativa desde un equipo ajeno a la organización. En este caso, el equipo cliente inicia una conexión VPN cifrada para conectar ese equipo a la red virtual de Azure.

* Redes privadas virtuales de sitio a sitio: Una VPN de sitio a sitio vincula un dispositivo o puerta de enlace de VPN local con la puerta de enlace de VPN de Azure en una red virtual. De hecho, puede parecer que los dispositivos de Azure están en la red local. La conexión se cifra y funciona a través de Internet.

* Azure ExpressRoute:Para los entornos donde se necesita más ancho de banda e incluso mayores niveles de seguridad, Azure ExpressRoute es el mejor enfoque. ExpressRoute proporciona una conectividad privada dedicada a Azure que no viaja a través de Internet. 

## *Enrutamiento del tráfico de red*

### De forma predeterminada, Azure enruta el tráfico entre las subredes de todas las redes virtuales conectadas, las redes locales e Internet. También puede controlar el enrutamiento e invalidar esa configuración del siguiente modo:

* Tablas de ruta: Una tabla de rutas permite definir reglas sobre cómo se debe dirigir el tráfico. Puede crear tablas de rutas personalizadas que controlen cómo se enrutan los paquetes entre las subredes.

* Protocolo de puerta de enlace de borde: El Protocolo de puerta de enlace de borde (BGP) funciona con puertas de enlace de VPN de Azure o con ExpressRoute para propagar las rutas BGP locales a las redes virtuales de Azure.

## *Filtrado del tráfico de red*

### Las redes virtuales de Azure permiten filtrar el tráfico entre las subredes mediante los métodos siguientes:

* Grupos de seguridad de red: Un grupo de seguridad de red es un recurso de Azure que puede contener varias reglas de seguridad de entrada y salida. Estas reglas se pueden definir para permitir o bloquear el tráfico en función de factores como el protocolo, el puerto y las direcciones IP de destino y origen.

* Aplicaciones virtuales de red: Una aplicación virtual de red es una máquina virtual especializada que se puede comparar con un dispositivo de red protegido. Una aplicación virtual de red ejerce una función de red determinada, como ejecutar un firewall o realizar la optimización de la red de área extensa (WAN).

## *Conexión de redes virtuales*

### Puede vincular redes virtuales entre sí mediante el emparejamiento de red virtual. El emparejamiento permite que los recursos de cada red virtual se comuniquen entre sí. Estas redes virtuales pueden estar en regiones distintas, lo que permite crear una red global interconectada con Azure.

### UDR es enrutamiento definido por el usuario. Se trata de una actualización importante de las redes virtuales de Azure, ya que permite a los administradores de red controlar las tablas de enrutamiento entre las subredes de una red virtual, así como entre redes virtuales, lo que permite un mayor control sobre el flujo de tráfico de red.

![USR](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/local-or-remote-gateway-in-peered-virual-network-expanded.png#lightbox)

## *Configuración de Azure Virtual Network*

### Puede crear y configurar instancias de Azure Virtual Network desde Azure Portal, Azure PowerShell en el equipo local o Azure Cloud Shell.

### **Creación de una red virtual**
### Cuando se crea una red virtual de Azure, se configuran algunas opciones básicas. Tendrá la posibilidad de configurar opciones avanzadas, como varias subredes, protección contra denegación de servicio distribuido (DDoS) y puntos de conexión de servicio.
![crear_rv](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/create-virtual-network.png)

### Configurará las opciones siguientes para una red virtual básica:

* Nombre de red: El nombre de red debe ser único en la suscripción, pero no es necesario que sea único globalmente. Elija un nombre descriptivo que sea fácil de recordar e identificar con respecto a otras redes virtuales.

* Espacio de direcciones: Al configurar una red virtual, se define el espacio de direcciones internas con el formato de Enrutamiento de interdominios sin clases (CIDR). Este espacio de direcciones debe ser único dentro de la suscripción y de cualquier otra red a la que se conecte.
Supongamos que elige un espacio de direcciones de 10.0.0.0/24 para la primera red virtual. Las direcciones definidas en este intervalo del espacio de direcciones van de 10.0.0.1 a 10.0.0.254. Luego cree una segunda red virtual y elija un espacio de direcciones de 10.0.0.0/8. Las direcciones de este intervalo del espacio de direcciones van de 10.0.0.1 a 10.255.255.254. Algunas de las direcciones se superponen y no se pueden usar para las dos redes virtuales.Pero puede usar 10.0.0.0/16, con direcciones que van desde 10.0.0.1 hasta 10.0.255.254 y 10.1.0.0/16, con direcciones que van desde 10.1.0.1 hasta 10.1.255.254. Puede asignar estos espacios de direcciones a las redes virtuales porque ninguna dirección se superpone.

### Podrá agregar espacios de direcciones después de crear la red virtual.

* Suscripción: Esta opción solo se aplica si tiene varias suscripciones para elegir.

* Grupo de recursos: Como cualquier otro recurso de Azure, una red virtual debe existir en un grupo de recursos. Puede seleccionar un grupo de recursos existente o crear uno.

* Ubicación: Seleccione la ubicación donde quiere que exista la red virtual.

* Subred: Dentro de cada intervalo de direcciones de red virtual, puede crear una o varias subredes que dividirán el espacio de direcciones de la red virtual. El enrutamiento entre las subredes dependerá de las rutas de tráfico predeterminadas. También puede definir rutas personalizadas. Como alternativa, puede definir una subred que abarque todo el intervalo de direcciones de la red virtual.

### Los nombres de las subredes deben comenzar con una letra o un número y terminar con una letra, un número o un guión bajo. Solo pueden contener letras, números, guiones bajos, puntos o guiones.

* DDoS Protection: Puede seleccionar la protección DDoS básica o estándar. La protección contra DDoS estándar es un servicio Prémium. Para más información sobre la protección contra DDoS estándar, vea Introducción a Protección contra DDoS de Azure estándar.

* Puntos de conexión de servicio: Aquí se habilitan los puntos de conexión de servicio. Después, se seleccionan en la lista los puntos de conexión de servicio de Azure que se quieren habilitar. Las opciones incluyen Azure Cosmos DB, Azure Service Bus, Azure Key Vault, etc.

### Después de configurar estas opciones, seleccione Crear.

## *Definición de opciones de configuración adicionales*

* Grupo de seguridad de red: Los grupos de seguridad de red tienen reglas de seguridad que permiten filtrar el tipo de tráfico de red que puede fluir dentro y fuera de las interfaces de red y las subredes de redes virtuales. Cree el grupo de seguridad de red por separado. Después, asócielo con la red virtual.

* Tabla de rutas: Azure crea automáticamente una tabla de rutas para cada subred de una red virtual de Azure y agrega las rutas predeterminadas del sistema a la tabla. Puede agregar tablas de rutas personalizadas para modificar el tráfico entre las redes virtuales.

### También se pueden modificar los puntos de conexión de servicio.

![puntos_conexion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/virtual-network-additional-settings.png)

## *Configuración de redes virtuales*

### Una vez creada una red virtual, puede cambiar la configuración adicional desde el panel Redes virtuales de Azure Portal. Como alternativa, puede usar comandos de PowerShell o Cloud Shell para realizar los cambios. 
![redes_virtuales](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/configure-virtual-network.png)

### Después, puede revisar y cambiar la configuración en paneles secundarios adicionales. Esta configuración incluye:

* Espacios de direcciones: puede agregar espacios de direcciones adicionales a la definición inicial.

* Dispositivos conectados: use la red virtual para conectar las máquinas.
* Subredes: puede agregar subredes adicionales.
* Emparejamientos: vincule las redes virtuales mediante organizaciones de emparejamiento.

### Las redes virtuales son mecanismos eficaces y muy configurables para conectar las entidades de Azure. Puede conectar los recursos de Azure entre sí o a los recursos del entorno local. Puede aislar, filtrar y enrutar el tráfico de red. Azure le permite aumentar la seguridad donde considere que es necesario.

## *Aspectos básicos de Azure VPN Gateway*

### Las redes privadas virtuales usan un túnel cifrado en otra red. Normalmente, se implementan para conectar entre sí dos o más redes privadas de confianza a través de una red que no es de confianza (normalmente, la red pública de Internet). El tráfico se cifra mientras viaja por la red que no es de confianza para evitar ataques de interceptación o de otro tipo.

## *Puertas de enlace de VPN*

### Una puerta de enlace de VPN es un tipo de puerta de enlace de red virtual. Las instancias de Azure VPN Gateway se implementan en instancias de Azure Virtual Network y habilitan la conectividad siguiente:

* Conectar los centros de datos locales a redes virtuales a través de una conexión de sitio a sitio.

* Conectar los dispositivos individuales a redes virtuales a través de una conexión de punto a sitio.

* Conectar las redes virtuales a otras redes virtuales a través de una conexión entre redes.
![vpn](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/vpngateway-site-to-site-connection-diagram-expanded.png#lightbox)

### Todos los datos transferidos se cifran en un túnel privado mientras atraviesa Internet. Solo se puede implementar una instancia de VPN Gateway en cada red virtual, pero se puede usar una puerta de enlace para conectarse a varias ubicaciones, que incluye otras redes virtuales o centros de datos locales.

### Al implementar una instancia de VPN Gateway, especifique el tipo de red privada virtual, es decir, basada en directivas o basada en rutas. La principal diferencia entre estos dos tipos de VPN es cómo se especifica el tráfico que se va a cifrar. En Azure, ambos tipos de puertas de enlace de VPN usan una clave previamente compartida como único método de autenticación. Ambos tipos también se basan en el intercambio de claves por red (IKE) en las versiones 1 o 2 y en el protocolo de seguridad de Internet (IPsec). El IKE se usa para establecer una asociación de seguridad (un contrato del cifrado) entre dos puntos de conexión. Esta asociación, después, se pasa al conjunto de IPsec, que cifra y descifra los paquetes de datos encapsulados en el túnel VPN.

## *Redes privadas virtuales basadas en directivas*

### Las instancias de VPN Gateway basadas en directivas especifican de forma estática la dirección IP de los paquetes que se deben cifrar a través de cada túnel. Este tipo de dispositivo evalúa cada paquete de datos en función de los conjuntos de direcciones IP para elegir el túnel a través del cual se va a enviar el paquete.

### Entre las características clave de las instancias de VPN Gateway basadas en directivas en Azure se incluyen:

* Compatibilidad solo con IKEv1.

* Uso del enrutamiento estático, en el que las combinaciones de prefijos de dirección de ambas redes controlan cómo se cifra y descifra el tráfico a través del túnel VPN. El origen y destino de las redes de túnel se declaran en la directiva y no necesitan declararse en las tablas de enrutamiento.

* Las redes privadas virtuales basadas en directivas se deben usar en escenarios específicos que las necesiten, por ejemplo, para ofrecer compatibilidad con dispositivos de red privada virtual locales heredados.

## *Redes privadas virtuales basadas en rutas*

### Si la definición de las direcciones IP que están detrás de cada túnel es demasiado compleja, se pueden usar puertas de enlace basadas en rutas. Con las puertas de enlace basadas en rutas, los túneles IPSec se modelan como una interfaz de red o una interfaz de túnel virtual. El enrutamiento IP (ya sean rutas estáticas o protocolos de enrutamiento dinámico) decide cuál de estas interfaces de túnel se va a usar al enviar cada paquete. Las redes privadas virtuales basadas en rutas son el método preferido para conectar dispositivos locales. 

### Si necesita alguno de los siguientes tipos de conectividad, use una instancia de VPN Gateway basada en rutas:

* Conexiones entre redes virtuales
* Conexiones de punto a sitio
* Conexiones de varios sitios
* Coexistencia con una puerta de enlace de Azure ExpressRoute

### Entre las características clave de las instancias de VPN Gateway basadas en rutas en Azure se incluyen:

* Compatibilidad con IKEv2

* Uso de selectores de tráfico universales (comodín)

* Se pueden usar los protocolos de enrutamiento dinámico, donde las tablas de reenvío y enrutamiento dirigen el tráfico a distintos túneles IPsec.

### En este caso, las redes de origen y destino no se definen de forma estática, ya que se encuentran en VPN basadas en directivas o incluso en VPN basadas en rutas con un enrutamiento estático. En su lugar, los paquetes de datos se cifran en función de las tablas de enrutamiento de red que se crean de forma dinámica mediante protocolos de enrutamiento, como el Protocolo de puerta de enlace de borde (BGP).

## *Tamaños de las instancias de VPN Gateway*
### La SKU o el tamaño que implemente determinarán las funcionalidades de la instancia de VPN Gateway. En la tabla siguiente se muestran las funcionalidades principales de cada SKU disponible.

![sku](https://i.ibb.co/ynQW0hf/Captura.png)

### La instancia básica de VPN Gateway solo debe usarse en cargas de trabajo de desarrollo/pruebas. Además, el SKU básico no se puede migrar más adelante a los SKU VpnGW1/2/3/Az sin quitar la puerta de enlace y volver a implementarla.

## *Implementación de instancias de VPN Gateway*

### Antes de implementar una instancia de VPN Gateway, necesitará algunos recursos de Azure y locales.

## *Recursos de Azure necesarios*

* Red virtual. Implemente una red virtual que tenga suficiente espacio de direcciones para la subred adicional que necesitará para la instancia de VPN Gateway. El espacio de direcciones para esta red virtual no se debe superponer con la red local que se va a conectar. Solo se puede implementar una única instancia de VPN Gateway en una red virtual.

* GatewaySubnet. Implemente una subred llamada GatewaySubnet para la instancia de VPN Gateway. Use al menos una máscara de dirección /27 con el fin de asegurarse de que proporciona suficientes direcciones IP en la subred para un crecimiento futuro. Esta subred no se puede usar para otros servicios.

* Dirección IP pública. Cree una dirección IP pública dinámica de SKU básico si usa una puerta de enlace que no tenga en cuenta la zona. Esta dirección proporciona una dirección IP pública enrutable como destino para el dispositivo VPN local. 

* Puerta de enlace de red local. Cree una puerta de enlace de red local para definir la configuración de la red local; por ejemplo, dónde y a qué se conectará la instancia de VPN Gateway. Esta configuración incluye la dirección IPv4 pública del dispositivo VPN local y las redes de enrutamiento locales.

* Puerta de enlace de red virtual. Cree la puerta de enlace de red virtual para enrutar el tráfico entre la red virtual y el centro de datos local u otras redes virtuales. La puerta de enlace de red virtual puede ser una puerta de enlace de VPN o ExpressRoute, pero en esta unidad solo se trata el tipo de puerta de enlace de red virtual de VPN. 

* Conexión. Cree un recurso de conexión para crear una conexión lógica entre la instancia de VPN Gateway y la puerta de enlace de red local.

  * La conexión se realiza a las direcciones IPv4 del dispositivo VPN local, tal como define la puerta de enlace de red local.
  * La conexión se realiza desde la puerta de enlace de red virtual y la dirección IP pública asociada.

### En el diagrama siguiente se muestra esta combinación de recursos para implementar una instancia de VPN Gateway.
![VPN gateway](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/resource-requirements-for-vpn-gateway-expanded.png#lightbox)

## *Recursos locales necesarios*

### Para conectar el centro de datos a una instancia de VPN Gateway, se necesitarán los siguientes recursos locales:


* Un dispositivo VPN que admita instancias de VPN Gateway basadas en directivas o en rutas.

* Una dirección IPv4 de acceso público (enrutable por Internet).

## **Escenarios de alta disponibilidad**

### Hay varias opciones para asegurarse de que se tiene una configuración de tolerancia a errores.

## *Configuración de activo-en espera*
### De forma predeterminada, las instancias de VPN Gateway se implementan como dos instancias en una configuración de activo-en espera, incluso si solo ve un recurso de VPN Gateway en Azure. Cuando el mantenimiento planeado o la interrupción imprevista afectan a la instancia activa, la instancia en espera asume de forma automática la responsabilidad de las conexiones sin ninguna intervención del usuario. Durante esta conmutación por error, las conexiones se interrumpen, pero por lo general se restauran en cuestión de segundos si se trata del mantenimiento planeado y en un plazo de 90 segundos en el caso de las interrupciones imprevistas.
![activo_en](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/active-standby-expanded.png#lightbox)

## *Activo/activo*

### Al incorporar compatibilidad con el protocolo de enrutamiento de BGP, también puede implementar puertas de enlace VPN en una configuración del tipo activo/activo. En esta configuración, se asigna una IP pública única a cada instancia. Después, se crean túneles independientes desde el dispositivo local a cada dirección IP. Se puede ampliar la alta disponibilidad mediante la implementación de un dispositivo VPN local adicional.

![activo/activo](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/dual-redundancy-expanded.png#lightbox)

## *Conmutación por error de ExpressRoute*
### Otra opción de alta disponibilidad consiste en configurar una instancia de VPN Gateway como una ruta segura de conmutación por error para las conexiones ExpressRoute. Los circuitos ExpressRoute tienen resistencia integrada. Sin embargo, no son inmunes a los problemas físicos que afectan a los cables que entregan conectividad ni a las interrupciones que afectan a la ubicación completa de ExpressRoute. En escenarios de alta disponibilidad, en los que existe un riesgo asociado a una interrupción de un circuito ExpressRoute, también puede aprovisionar una instancia de VPN Gateway que usa Internet como un método alternativo de conectividad. De este modo, puede garantizar que siempre haya una conexión a las redes virtuales.

## *Puertas de enlace con redundancia de zona*

### En las regiones que admiten zonas de disponibilidad, se pueden implementar puertas de enlace VPN y ExpressRoute en una configuración con redundancia de zona. Esta configuración aporta una mayor disponibilidad, escalabilidad y resistencia a las puertas de enlace de red virtual. Implementar puertas de enlace en Azure Availability Zones separa de forma física y lógica las puertas de enlace dentro de una región, al mismo tiempo que protege la conectividad de red local en Azure de errores de nivel de zona. Estas puertas de enlace requieren diferentes SKU de puerta de enlace y usan direcciones IP públicas estándar en lugar de direcciones IP públicas básicas.

## *Aspectos básicos de Azure ExpressRoute*

### ExpressRoute le permite ampliar las redes locales a la nube de Microsoft mediante una conexión privada con la ayuda de un proveedor de conectividad. Con ExpressRoute, puede establecer conexiones con servicios en la nube de Microsoft, como Microsoft Azure y Microsoft 365.

### La conectividad puede ser desde una red de conectividad universal (IP VPN), una red Ethernet de punto a punto o una conexión cruzada virtual a través de un proveedor de conectividad en una instalación de ubicación compartida. Las conexiones de ExpressRoute no pasan por la red pública de Internet. Esto permite a las conexiones de ExpressRoute ofrecer más confiabilidad, más velocidad, latencia coherentes y mayor seguridad que las conexiones normales a través de Internet.
![expressroute](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/azure-expressroute-overview-expanded.png#lightbox)

###  Nos centraremos en dos niveles diferentes del modelo de interconexión de sistemas abiertos (OSI):

* Nivel 2 (L2): se trata del nivel de vínculo de datos, que proporciona una comunicación de nodo a nodo entre dos nodos de la misma red.
* Nivel 3 (L3): se trata del nivel de red, que proporciona el direccionamiento y enrutamiento entre los nodos de una red de varios nodos.
## *Características y ventajas de ExpressRoute*

### El uso de ExpressRoute como servicio de conexión entre Azure y las redes locales tiene varias ventajas.

* Conectividad de nivel 3 entre su red local y Microsoft Cloud a través de un proveedor de conectividad. La conectividad puede ser desde una red de conectividad universal (IP VPN), una red Ethernet de punto a punto, o una conexión cruzada virtual a través de un intercambio de Ethernet.

* Conectividad de servicios en la nube de Microsoft en todas las regiones dentro de la región geopolítica.

* Conectividad global a los servicios de Microsoft en todas las regiones con el complemento ExpressRoute Premium.

* Enrutamiento dinámico entre la red y Microsoft a través de BGP.

* Redundancia integrada en todas las ubicaciones de configuración entre pares para una mayor confiabilidad.

* El tiempo de actividad de conexión SLA.

* Compatibilidad con QoS de Skype para la empresa.

## *Conectividad de nivel 3*

### ExpressRoute proporciona conectividad de nivel 3 (nivel de dirección) entre la red local y la nube de Microsoft a través de asociados de conectividad. Estas conexiones pueden ser de una red punto a punto o universal. También puede tratarse de conexiones cruzadas virtuales a través de un intercambio.

## *Redundancia integrada*

### Cada proveedor de conectividad usa dispositivos redundantes para garantizar que las conexiones establecidas con Microsoft tengan alta disponibilidad. Puede configurar varios circuitos para complementar esta característica. Todas las conexiones redundantes se configuran con conectividad de nivel 3 para cumplir los Acuerdos de Nivel de Servicio.

## *Conectividad con los Servicios en la nube de Microsoft*

### ExpressRoute permite el acceso directo a los siguientes servicios en todas las regiones:

* Microsoft Office 365
* Microsoft Dynamics 365
* Servicios de proceso de Azure, como Azure Virtual Machines

* Servicios en la nube de Azure, como Azure Cosmos DB y Azure Storage

## *Conectividad local con Global Reach de ExpressRoute*

### Puede permitir que Global Reach de ExpressRoute intercambie datos entre los sitios locales si conecta los diferentes circuitos ExpressRoute. Por ejemplo, supongamos que tiene un centro de datos privado en California conectado a ExpressRoute en la zona de la bahía de San Francisco, en California. Tiene otro centro de centros privado en Texas conectado a ExpressRoute en Dallas. Con Global Reach de ExpressRoute, puede conectar sus centros de recursos privados a través de dos circuitos ExpressRoute. El tráfico de los centros de datos viajará a través de la red de Microsoft.

## *Enrutamiento dinámico*

### ExpressRoute usa el protocolo de enrutamiento Protocolo de puerta de enlace de borde (BGP). BGP se usa para intercambiar rutas entre las redes locales y los recursos que se ejecutan en Azure. Este protocolo permite el enrutamiento dinámico entre la red local y los servicios que se ejecutan en la nube de Microsoft.

## *Modelos de conectividad de ExpressRoute*

### ExpressRoute admite tres modelos que puede usar para conectar la red local con la nube de Microsoft:

* Ubicación de CloudExchange
* Conexión Ethernet de punto a punto

* Conexión universal

![expressroute](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/azure-networking-fundamentals/media/azure-connectivity-models-expanded.png#lightbox)

## *Coubicación en un intercambio en la nube*
### Normalmente, los proveedores de coubicación pueden ofrecer conexiones de nivel 2 y nivel 3 entre la infraestructura, que puede encontrarse en las instalación de la coubicación, y la nube de Microsoft. Por ejemplo, si el centro de datos tiene la ubicación compartida en un intercambio en la nube, como un ISP, puede solicitar una conexión cruzada virtual a la nube de Microsoft.

## *Conexión Ethernet de punto a punto*

### Las conexiones de punto a punto proporcionan conectividad de nivel 2 y nivel 3 entre el sitio local y Azure. Puede conectar sus oficinas o centros de datos a Azure mediante vínculos de punto a punto. Por ejemplo, si tiene un centro de datos local, puede usar un vínculo de Ethernet de punto a punto para conectarse a Microsoft.

## *Redes universales*

### Con la conectividad universal, puede integrar la red de área extensa (WAN) con Azure si proporciona conexiones a las oficinas y los centros de datos. Azure se integra con la conexión WAN para proporcionarle una conexión, como la que tendría entre el centro de datos y las sucursales.

### Con las conexiones universales, todos los proveedores de WAN ofrecen conectividad de nivel 3. Por ejemplo, si ya usa la conmutación de etiquetas de multiprotocolo para conectarse a las sucursales o a otros sitios de la organización, una conexión ExpressRoute a Microsoft se comporta como cualquier otra ubicación en la WAN privada.

## *Consideraciones sobre la seguridad*

### Con ExpressRoute los datos no viajan a través de la red pública de Internet y, por tanto, no se exponen a los posibles riesgos asociados a las comunicaciones de Internet. ExpressRoute es una conexión privada de la infraestructura local a la infraestructura de Azure. Incluso si tiene una conexión ExpressRoute, las consultas de DNS, la comprobación de la lista de revocación de certificados y las solicitudes de Azure Content Delivery Network se siguen enviando a través de la red pública de Internet.

### 1. Tailwind Traders desea crear un túnel de comunicación seguro entre sus sucursales. ¿Cuál de las siguientes tecnologías no se puede usar?

### FTP implícito por SSL

### 2. Tailwind Traders quiere usar Azure ExpressRoute para conectar su red local a la nube de Microsoft. ¿Cuál de las siguientes opciones no es un modelo de ExpressRoute que Tailwind Traders pueda usar?

### Red privada virtual de sitio a sitio

### 3. ¿Cuál de las siguientes opciones puede usar para vincular redes virtuales?

### Emparejamiento de redes virtuales de Azure

### 4. ¿Cuál de las siguientes opciones no es una de las ventajas de ExpressRoute?

### Comunicación de red cifrada

# **23.-Elija el mejor servicio de IA para sus necesidades**

### La inteligencia artificial (IA) es una categoría de la informática que adapta y mejora su capacidad de toma de decisiones a lo largo del tiempo en función de sus éxitos y errores. 

## *Identificación de las opciones de producto*

### El objetivo de la IA es crear un sistema de software que pueda adaptarse o aprender algo por sí mismo sin estar programado explícitamente para hacerlo.

### Existen dos enfoques básicos en la IA. El primero consiste en emplear un sistema de aprendizaje profundo (deep learning) que se modela en la red neuronal de la mente humana, lo que le permite descubrir, aprender y crecer a través de la experiencia.

### El segundo enfoque es el aprendizaje automático (machine learning), una técnica de la ciencia de datos que usa los datos existentes para entrenar un modelo, probarlo y aplicarlo a nuevos datos para pronosticar comportamientos, resultados y tendencias futuros.

### Prácticamente cualquier dispositivo o sistema de software que recopila datos textuales, visuales y de audio podrían alimentar un modelo de aprendizaje automático que haga que ese dispositivo o sistema de software sea más inteligente

## *Opciones de producto de Azure*

### Microsoft cuenta con tres ofertas de productos principales, cada una de las cuales está diseñada para una audiencia y un caso de uso concretos. Cada opción proporciona un conjunto diverso de herramientas, servicios y API de programación.

## *Azure Machine Learning*
### Azure Machine Learning es una plataforma para realizar predicciones. Consta de herramientas y servicios que le permiten conectarse a los datos para entrenar y probar modelos para encontrar el que prediga con mayor precisión un resultado futuro. 

### Con Azure Machine Learning, puede realizar lo siguiente:

* Crear un proceso que defina cómo obtener los datos, cómo tratar los datos que faltan o que son incorrectos, cómo dividir los datos en un conjunto de entrenamiento o de pruebas y cómo enviar los datos al proceso de entrenamiento.

* Entrenar y evaluar modelos predictivos mediante herramientas y lenguajes de programación conocidos por los científicos de datos.

* Crear canalizaciones que definan dónde y cuándo ejecutar los experimentos de proceso intensivo necesarios para puntuar los algoritmos en función de los datos de entrenamiento y de prueba.

* Implementar el algoritmo de mejor rendimiento como una API en un punto de conexión para que otras aplicaciones puedan consumirlo en tiempo real.

### Elija Azure Machine Learning cuando los científicos de datos necesiten un control completo sobre el diseño y el entrenamiento de un algoritmo con sus propios datos. 

## *Azure Cognitive Services*

### Azure Cognitive Services proporciona modelos de aprendizaje automático creados previamente que permiten a las aplicaciones ver, oír, hablar, comprender e incluso empezar a pensar. Use Azure Cognitive Services para solucionar problemas generales, como el análisis de texto para detectar opiniones o el análisis de imágenes para reconocer objetos o caras. No es necesario tener conocimientos de aprendizaje automático ni ciencia de datos para usar estos servicios. Los desarrolladores acceden a Azure Cognitive Services mediante API y pueden incluir fácilmente estas características en solo unas pocas líneas de código.

### Azure Cognitive Services, en su mayor parte, proporciona modelos previamente entrenados para que pueda traer sus datos en directo a fin de obtener predicciones.

### Azure Cognitive Services se puede dividir en las categorías siguientes:

* Servicios de lenguaje: permita que las aplicaciones procesen lenguaje natural con scripts precompilados, evalúen opiniones y aprendan a reconocer lo que quieren los usuarios.

* Servicios de voz: convierta voz en texto y texto en voz de sonido natural. Traduzca de un idioma a otro y habilite el reconocimiento y la verificación del hablante.

* Servicios de visión: agregue capacidades de reconocimiento e identificación al analizar imágenes, vídeos y otro contenido visual.

* Servicios de decisión: agregue recomendaciones personalizadas para cada usuario que mejoren automáticamente cada vez que se usen, modere contenido para supervisar y quitar el contenido ofensivo o arriesgado y detecte anomalías en los datos de series temporales.

## *Azure Bot Service*

### Azure Bot Service y Bot Framework son plataformas para crear agentes virtuales que comprenden y responden a preguntas como un ser humano. Azure Bot Service se diferencia de Azure Machine Learning y Azure Cognitive Services en que tiene un caso de uso concreto: crear un agente virtual que pueda comunicarse de forma inteligente con los usuarios. En segundo plano, el bot que crea usa otros servicios de Azure, como Azure Cognitive Services, para comprender lo que solicitan sus homólogos humanos.

### Los bots se pueden usar para convertir tareas sencillas y repetitivas, como tomar una reserva de cena o recopilar información de perfil, en sistemas automatizados que ya no requieran la intervención humana directa. Los usuarios conversan con un bot mediante texto, tarjetas interactivas y voz. Una interacción con un bot puede ser tanto una pregunta y una respuesta rápidas como una conversación sofisticada que proporciona acceso a servicios de forma inteligente.

## *Análisis de los criterios de decisión*

## *¿Está creando un agente virtual que interactúa con seres humanos mediante el lenguaje natural?*

### Use Azure Bot Service cuando necesite crear un agente virtual para interactuar con los usuarios mediante el lenguaje natural. Bot Service integra orígenes de conocimiento, procesamiento de lenguaje natural y factores de forma para permitir la interacción entre distintos canales.

### Antes de entrar de pleno en la creación de una experiencia de chat personalizada con Bot Service, puede que sea mejor buscar soluciones precompiladas sin código que abarquen los escenarios habituales. Por ejemplo, puede emplear QnA Maker, disponible en Azure Marketplace, para crear, entrenar y publicar un bot sofisticado que use páginas de preguntas más frecuentes, sitios web de soporte técnico, manuales de productos, documentos de SharePoint o contenido editorial a través de una interfaz de usuario fácil de usar o mediante las API de REST.

## *¿Necesita un servicio que pueda comprender el contenido y el significado de imágenes, vídeos y audios o traducir texto a un idioma diferente?*

### Use Azure Cognitive Services cuando necesite realizar tareas de uso general, como la conversión de voz en texto, la integración con búsquedas o la identificación de objetos en una imagen. Azure Cognitive Services es de uso general, lo que significa que muchos tipos diferentes de clientes pueden beneficiarse del trabajo que Microsoft ya ha llevado a cabo para entrenar y probar estos modelos y ofrecerlos de forma económica a escala.

## *¿Necesita predecir el comportamiento del usuario o proporcionar a los usuarios recomendaciones personalizadas en la aplicación?*

### El servicio Azure Cognitive Services Personalizer supervisa las acciones de los usuarios en una aplicación. Puede usar Personalizer para predecir su comportamiento y proporcionar experiencias relevantes a medida que identifique patrones de uso. De nuevo, podría capturar y almacenar el comportamiento del usuario y crear su propia solución de Azure Machine Learning personalizada para realizar estas acciones, pero este enfoque requeriría mucho esfuerzo y gastos.

## *¿La aplicación predecirá resultados futuros a partir de datos históricos privados?*
### Elija Azure Machine Learning cuando necesite analizar datos para predecir resultados futuros. Por ejemplo, supongamos que necesita analizar transacciones financieras realizadas durante años para detectar nuevos patrones que podrían ayudarle a crear nuevos productos y servicios para los clientes de su empresa y ofrecer esos nuevos servicios durante las llamadas rutinarias del servicio al cliente. 

## *¿Necesita crear un modelo con sus propios datos o realizar una tarea distinta de las mencionadas anteriormente?*

### Use Azure Machine Learning para obtener la máxima flexibilidad. Los científicos de datos y los ingenieros de IA pueden usar las herramientas con las que están familiarizados y los datos que les proporcione para desarrollar modelos de aprendizaje profundo y de aprendizaje automático adaptados a sus requisitos particulares.

## *Uso de Machine Learning para sistemas de ayuda a la toma de decisiones*

### El sitio web de comercio electrónico de Tailwind Traders permite a los clientes examinar y comprar artículos que se pueden entregar o recoger en la tienda de venta directa más cercana a su ubicación.

### El equipo de marketing está convencido de que puede aumentar drásticamente las ventas si sugiere productos adicionales. El equipo podría codificar estas sugerencias de forma rígida, pero considera que un enfoque más orgánico sería usar los datos de ventas de varios años, así como las nuevas tendencias de compra, para decidir qué productos se muestran al comprador. 

### Los expertos en ciencia de datos del equipo de marketing ya han realizado algún análisis inicial del dominio del problema y han determinado que pueden tardar meses en crear un prototipo y, posiblemente, un año en implementarlo.

## *¿Qué servicio debe elegir?*

### En primer lugar, ¿Tailwind Traders está creando un agente virtual que interactúa con seres humanos mediante el lenguaje natural? No, por lo que Azure Bot Service no es un buen candidato para este escenario.

### En segundo lugar, ¿Tailwind Traders necesita un servicio que pueda comprender el contenido y el significado de imágenes, vídeos y audios o traducir texto a un idioma diferente? No, por lo que Cognitive Services no ayudará a la empresa.

### En tercer lugar, ¿Tailwind Traders necesita predecir el comportamiento del usuario o proporcionar recomendaciones personalizadas a los usuarios? Sí. Sin embargo, la creación de recomendaciones basadas en el comportamiento del usuario es solo una parte del requisito. Tailwind Traders necesita crear un modelo complejo que incorpore datos históricos de ventas, datos de tendencias de ventas, inventario, etc. Es posible que el servicio Azure Cognitive Services Personalizer pueda desempeñar una función, pero no podría abordar toda la amplitud del proyecto por sí solo.

### En cuarto lugar, ¿la aplicación de Tailwind Traders predecirá resultados futuros a partir de datos históricos privados? Sí, y por este motivo, en este escenario, Azure Machine Learning es probablemente la mejor opción.

### El éxito de este esfuerzo dependerá principalmente de la capacidad del modelo para seleccionar con precisión los productos de venta adecuados que se sugieren al comprador. 

## *Uso de Cognitive Services para el análisis de datos*

### La primera generación del sitio web de comercio electrónico de Tailwind Traders solo se encontraba disponible en inglés. Pero cuando el equipo de marketing patrocinó un estudio demográfico para las tiendas físicas de la empresa, descubrió que, de media, solo el 80 % de los clientes potenciales hablan inglés. En algunos barrios, ese número se reduce al 50 %. El equipo considera que agregar varios idiomas 

### *¿Qué servicio debe elegir?*

### En primer lugar, ¿Tailwind Traders está creando un agente virtual que interactúa con seres humanos mediante el lenguaje natural? No, por lo que Azure Bot Service no es un buen candidato para este escenario.

### En segundo lugar, ¿Tailwind Traders necesita un servicio que pueda comprender el contenido y el significado de imágenes, vídeos y audios o traducir texto a un idioma diferente? Sí. La traducción de contenido textual de un idioma a otro es una tarea de uso general que se puede simplificar mediante el servicio Translator de Azure Cognitive Services. El servicio es fácil de integrar en sus aplicaciones, sitios web, herramientas y soluciones. Permite agregar experiencias de usuario multilingües en más de 60 idiomas y se puede usar en cualquier plataforma de hardware con cualquier sistema operativo para la traducción de texto a texto.

### Azure Cognitive Services es probablemente la mejor opción para este escenario, pero vamos a seguir aplicando los criterios de decisión para asegurarnos.

### En tercer lugar, ¿Tailwind Traders necesita predecir el comportamiento del usuario o proporcionar recomendaciones personalizadas a los usuarios? No, por lo que el servicio Personalizer de Azure Cognitive Services no es un buen candidato.

### Por último, ¿la aplicación de Tailwind Traders necesitará predecir resultados futuros a partir de datos históricos privados? No. Aunque sería posible crear un modelo de aprendizaje automático para realizar la traducción a varios idiomas, sería costoso y lento para Tailwind Traders intentar compilar sus propios modelos de traducción.

## *Uso de Bot Service para experiencias interactivas de chat*

### El equipo de servicio al cliente ha solicitado durante mucho tiempo un agente virtual para que se ocupe de la inmensa mayoría de las preguntas que se le pidan.

### El equipo quiere que los compradores se sientan como si estuvieran interactuando con un ser humano real. Cuando quede claro que el agente virtual no puede proporcionar una respuesta, la sesión de chat se debería transferir a un agente humano.

## *¿Qué servicio debe elegir?*

### En primer lugar, ¿Tailwind Traders está creando un agente virtual que interactúa con seres humanos mediante el lenguaje natural? Sí. Azure Bot Service debería usarse en este escenario para implementar una experiencia de chat de agente virtual. Bot Service podría beneficiarse de información incluida en la página de preguntas más frecuentes del sitio web, junto con miles de sesiones de chat almacenadas entre compradores y representantes del servicio al cliente.

### Aunque es probable que ya haya encontrado la mejor opción para este escenario, siga aplicando los criterios de decisión para ver si hay opciones adicionales que también funcionen.

### En segundo lugar, ¿Tailwind Traders necesita un servicio que pueda comprender el contenido y el significado de imágenes, vídeos y audios o traducir texto a un idioma diferente? Posiblemente, sí. En este escenario, Azure Cognitive Services podría usarse junto con Bot Service para compilar la solución. Para acelerar la implementación, los desarrolladores podrían explorar el uso de soluciones precompiladas, como QnA Maker (parte de Cognitive Services) o Power Virtual Agents. Además, cualquier solución de bot de Azure podría implementar varios servicios de Azure Cognitive Services, como Language Understanding (LUIS) y, posiblemente, Translator para traducir del idioma del comprador al inglés y viceversa.

### En tercer lugar, ¿Tailwind Traders necesita predecir el comportamiento del usuario o proporcionar recomendaciones personalizadas a los usuarios? No. Azure Cognitive Services Personalizer no es un buen candidato para este escenario.

### Por último, ¿la aplicación de Tailwind Traders necesitará predecir resultados futuros a partir de datos históricos privados? No. Aunque Tailwind Traders tiene datos históricos para alimentar un modelo, lo que permitiría usar Azure Machine Learning para crear una solución de chat, ya existe otra opción que está adaptada a la experiencia del bot de chat.

## *Prueba de conocimientos*

### 1. Debe predecir el comportamiento futuro a partir de acciones anteriores. ¿Qué opción de producto debe seleccionar como candidato?
### Azure Machine Learning

### 2. Debe crear una interfaz de equipo humano mediante el lenguaje natural para responder a las preguntas de los clientes. ¿Qué opción de producto debe seleccionar como candidato?
### Azure Bot Service

### 3. Debe identificar el contenido de las imágenes de productos para crear automáticamente etiquetas alternativas para las imágenes con el formato correcto. ¿Qué opción de producto es la mejor candidata?
### Azure Cognitive Services

# **24.-Elección de las mejores herramientas para ayudar a que las organizaciones creen mejores soluciones**

### Los desarrolladores de software y los profesionales de operaciones se esfuerzan por crear sistemas de software que funcione que satisfagan las necesidades de la organización. Pero, a veces, los propósitos de sus objetivos a corto plazo se cruzan entre sí, lo que da lugar a problemas técnicos, retrasos y tiempos de inactividad.

### DevOps es un nuevo enfoque que ayuda a alinear los equipos técnicos que trabajan para conseguir un objetivo común. Para lograr esta alineación, las organizaciones emplean prácticas y procesos que buscan automatizar el desarrollo, el mantenimiento y la implementación continuos de sistemas de software.
### Cuando se llevan a cabo correctamente, las prácticas y los procesos de DevOps tocan casi todos los aspectos de la empresa, por no mencionar el ciclo de vida de desarrollo de software, incluida la planeación, la administración de proyectos y la colaboración entre desarrolladores de software, así como con equipos de operaciones y de control de calidad.

### DevOps requiere un cambio de mentalidad fundamental de arriba abajo. Las organizaciones no pueden limitarse a instalar herramientas de software o a adoptar servicios y esperar obtener todas las ventajas que promete DevOps.

## *Azure DevOps Services*
### Azure DevOps Services es un conjunto de servicios que aborda cada fase del ciclo de vida de desarrollo de software.

* Azure Repos es un repositorio de código fuente centralizado en el que los profesionales de desarrollo de software, ingeniería DevOps y documentación pueden publicar su código para su revisión y colaboración.
* Azure Boards es un conjunto de administración de proyectos ágil que incluye paneles Kanban, informes, ideas de seguimiento y trabajo desde epopeyas de alto nivel hasta incidencias y elementos de trabajo.
* Azure Pipelines es una herramienta de automatización de canalizaciones de CI/CD.
* Azure Artifacts es un repositorio para hospedar artefactos, como código fuente compilado, que se puede incluir en los pasos de canalización de pruebas o de implementación.
* Azure Test Plans es una herramienta de pruebas automatizadas que se puede usar en una canalización de CI/CD para garantizar la calidad antes de publicar una versión de software.

### Azure DevOps es una herramienta madura con un amplio conjunto de características que comenzó inicialmente como software de servidor local y evolucionó a una oferta de software como servicio (SaaS) de Microsoft.

## *GitHub y Acciones de GitHub*

### Git es una herramienta de administración de código fuente descentralizada, mientras que GitHub es una versión hospedada de Git que actúa como repositorio remoto principal. 

### Proporciona las funcionalidades siguientes:

* Es un repositorio de código fuente compartido, que incluye herramientas que permiten que los desarrolladores realicen revisiones de código mediante la adición de comentarios y preguntas en una vista web del código fuente antes de que se pueda combinar en la base de código principal.
* Facilita la administración de proyectos, incluidos los paneles Kanban.
* Admite la emisión de informes, las discusiones y el seguimiento.
* Incluye herramientas de automatización de canalizaciones de CI/CD.
* Incluye una wiki para la documentación colaborativa.
* Se puede ejecutar desde la nube o localmente.

### Acciones de GitHub permite la automatización del flujo de trabajo con desencadenadores para muchos eventos del ciclo de vida. Un ejemplo de esto es la automatización de una cadena de herramientas de CI/CD.

### Una cadena de herramientas es una combinación de herramientas de software que ayudan en la entrega, el desarrollo y la administración de aplicaciones de software a lo largo del ciclo de vida del desarrollo de sistemas. La salida de una herramienta en la cadena de herramientas es la entrada de la siguiente herramienta en la cadena de herramientas. 

### Al ser tan similares muchas de las características de GitHub y Azure DevOps, es probable que se pregunte qué producto debe elegir para la organización. No haya una respuesta clara.

### GitHub es una herramienta más ligera que Azure DevOps, y se centra en los desarrolladores individuales que contribuyen al código abierto. Por otro lado, Azure DevOps se centra en el desarrollo empresarial, con herramientas de planeamiento y administración de proyectos más pesadas y un control de acceso más específico.

### No está limitado a elegir entre Azure DevOps Services o GitHub y Acciones de GitHub. En la práctica, puede mezclar y combinar estos servicios en función de sus necesidades. Por ejemplo, puede usar los repositorios de GitHub con Azure Boards para el seguimiento de los elementos de trabajo.

## *Azure DevTest Labs*

### Azure DevTest Labs proporciona un medio automatizado para administrar el proceso de compilación, configuración y anulación de máquinas virtuales que contienen las compilaciones de los proyectos de software. De esta manera, los desarrolladores y los evaluadores pueden realizar pruebas en diferentes entornos y compilaciones. 

### Supongamos que necesita probar una nueva característica en una versión anterior de un sistema operativo. Azure DevTest Labs puede configurar todo automáticamente a petición. Una vez completadas las pruebas, DevTest Labs puede apagar y desaprovisionar la máquina virtual, lo que ahorra dinero cuando no está en uso.

## *Análisis de los criterios de decisión*

## *¿Necesita automatizar y administrar la creación de laboratorios de pruebas?*

### Si su objetivo es automatizar la creación y la administración de un entorno de laboratorio de pruebas, considere la posibilidad de elegir Azure DevTest Labs. De las tres herramientas y servicios que hemos descrito, es el único que ofrece esta funcionalidad.

## *¿Está compilando software de código abierto?*

### Aunque Azure DevOps puede publicar repositorios de código públicos, GitHub es desde hace tiempo el host preferido para el software de código abierto. Si va a compilar software de código abierto, es probable que elija GitHub si no tiene ningún otro motivo que la visibilidad y la aceptación general de la comunidad de desarrollo de código abierto.

### En la práctica, puede mezclar y combinar estos servicios en función de sus necesidades. Por ejemplo, puede usar repositorios de GitHub con Azure Boards para el seguimiento de los elementos de trabajo.

## *En cuanto a la administración de código fuente y las herramientas de DevOps, ¿qué nivel de granularidad necesita para los permisos?*

### GitHub funciona en un modelo simple de permisos de lectura y escritura para cada característica, mientras que Azure DevOps tiene un conjunto de permisos mucho más pormenorizado que permite a las organizaciones restringir quién puede realizar la mayoría de las operaciones en todo el conjunto de herramientas.

## *Con respecto a la administración de código fuente y las herramientas de DevOps, ¿cómo de sofisticados han de ser los informes y la administración de proyectos?*

### Aunque GitHub tiene elementos de trabajo, incidencias y un panel Kanban, la administración de proyectos y la generación de informes es el área en la que destaca Azure DevOps. Azure DevOps es muy personalizable, lo que permite que un administrador agregue campos personalizados para capturar metadatos y otra información con cada elemento de trabajo. 

## *En lo que respecta a la administración de código fuente y las herramientas de DevOps, ¿qué grado de integración con herramientas de terceros necesita?*

### Aunque no recomendamos específicamente ninguna herramienta de terceros, es importante que conozca las inversiones existentes en herramientas y servicios de su organización, y que evalúe cómo pueden afectar a su elección estas dependencias. Es probable que la mayoría de los proveedores que crean herramientas de DevOps creen enlaces o API que se puedan usar tanto en Azure Pipelines como en Acciones de GitHub.

## *Uso de Azure DevOps para administrar el ciclo de vida de desarrollo de aplicaciones*

### El equipo de desarrollo de software de Tailwind Traders trabaja en muchos proyectos diferentes, tanto para uso interno como externo. El equipo necesita proporcionar a los directivos y los patrocinadores del proyecto informes de nivel ejecutivo, incluidos gráficos de evolución, el seguimiento del progreso con epopeyas y el seguimiento de la información personalizada que es específica de Tailwind Traders en cada elemento de trabajo e informe de errores.

### El equipo directivo quiere asegurarse de que estas personas tienen acceso únicamente a la información que necesitan para realizar su trabajo.

## *¿Qué servicios deberíamos elegir?*

### En primer lugar, ¿Tailwind Traders necesita automatizar y administrar la creación de laboratorios de pruebas? No. Por lo tanto, en este escenario, Azure DevTest Labs no es un candidato.

### En segundo lugar, ¿Tailwind Traders compila software de código abierto? Aunque no se indica específicamente, Tailwind Traders crea sistemas internos y externos, como su sistema de comercio electrónico, que no es de código abierto. 

### En tercer lugar, ¿qué nivel de granularidad requiere Tailwind Traders para los permisos? Previamente, se indicó que Tailwind Traders contratará a empleados y proveedores temporales para el trabajo a corto plazo, por lo que el requisito de asignar permisos específicos es un aspecto importante que el equipo directivo tiene en consideración. En función de lo que hemos descrito en la unidad anterior, esta característica haría que Azure DevOps fuese el candidato principal. Con el uso de Azure DevOps

### En cuarto lugar, ¿necesita Tailwind Traders una solución de generación de informes y administración de proyectos sofisticada? Sí, las características sólidas de administración de proyectos y de generación de informes son unas de las principales consideraciones. De nuevo, dada la cantidad de personalización de elementos de trabajo y generación de informes que quiere el equipo de administración, es probable que Azure DevOps sea una buena opción.

### En quinto lugar, ¿necesita Tailwind Traders una integración estrecha con alguna herramienta de DevOps de terceros? La integración de herramientas no aparecía como consideración principal para este escenario.

## *Uso de GitHub para contribuir al software de código abierto*

### Tailwind Traders espera publicar una API que permita a terceros integrar sus propios inventarios de elementos nuevos y usados. Este enfoque permitiría a Tailwind Traders ofrecer una amplia variedad de productos directamente desde su sitio de comercio electrónico.

### Aunque la implementación interna de la API es de código cerrado, Tailwind Traders quiere crear un conjunto de ejemplos que llamen a la API para realizar diversas acciones. El equipo necesita una plataforma para compartir código de ejemplo, recopilar comentarios sobre la API, permitir a los colaboradores informar de problemas y crear una comunidad en torno a las solicitudes de características.

## *¿Qué servicio debe elegir?*

### En primer lugar, ¿Tailwind Traders necesita automatizar y administrar la creación de laboratorios de pruebas? No. En este escenario, Azure DevTest Labs no es un candidato

### En segundo lugar, ¿Tailwind Traders compila software de código abierto? Sí. Como se mencionó en una unidad anterior, los desarrolladores están habituados a ver este tipo de contenido disponible en GitHub. Dado que este escenario implica código abierto, GitHub es el candidato principal.

### En tercer lugar, ¿qué nivel de granularidad requiere el equipo de Tailwind Traders para asignar permisos? Aunque no se indique explícitamente, el hecho de que Tailwind Traders acepte contribuciones de la comunidad, emita informes y, por lo general, intente crear una comunidad de desarrolladores en torno a los ejemplos de API, las necesidades de permisos de la empresa son básicas: los usuarios pueden ver solamente o ver y escribir. Este es otro motivo por el que GitHub sería un buen candidato para este escenario.

### En cuarto lugar, ¿necesita Tailwind Traders una solución de generación de informes y administración de proyectos sofisticada? De nuevo, dada la naturaleza de este proyecto, el equipo no requiere una solución sofisticada de generación de informes y administración de proyectos. 

### En quinto lugar, ¿necesita Tailwind Traders una integración estrecha con alguna herramienta de DevOps de terceros? La integración de herramientas no aparecía como consideración principal para este escenario y no hace que se acepte ni descarte ninguna herramienta.

### GitHub es la mejor opción para este escenario. Aunque se podría usar Azure DevOps para que el repositorio sea público, algunas de las otras características que afectan a la comunidad de desarrollo, como los comentarios o los informes de errores, serían menos accesibles.

## *Uso de Azure DevTest Labs para administrar entornos de prueba*

### Tailwind Traders quiere ser más metódico y cuidadoso al enviar a producción nuevas versiones de su sitio web de comercio electrónico. La empresa ampliará su equipo de control de calidad (QA) y usará la nube para crear y hospedar máquinas virtuales. A través de este enfoque, crearán entornos de prueba que coincidan con el entorno de producción.

### El equipo de administración tiene dudas sobre los costos de un entorno de prueba más automatizado. Por ejemplo, quiere asegurarse de que los profesionales de control de calidad no pierdan tiempo configurando el entorno de pruebas para que coincida con el entorno de producción. El equipo quiere asegurarse de que las máquinas virtuales se destruyan cuando ya no estén en uso. Le interesa limitar el número de máquinas virtuales que puede poner en marcha cada profesional de control de calidad.

## *¿Qué servicio debe elegir?*

### En primer lugar, ¿Tailwind Traders necesita automatizar y administrar la creación de laboratorios de pruebas? Sí. Parece que se trata de un trabajo para Azure DevTest Labs ya que puede hacer todo lo que el equipo necesita llevar a cabo en este escenario.

### Podríamos seguir evaluando los criterios de decisión, pero no hacen falta ni Azure DevOps ni GitHub para este escenario. Recuerde que tanto Azure DevOps como GitHub podrían usarse para crear versiones de producto que se pueden incluir automáticamente en las máquinas virtuales que cree con fines de prueba.


## *Prueba de conocimientos*

### 1. ¿Cuál de las siguientes opciones no se utilizaría para automatizar un proceso de CI/CD?

### AZURE BOARDS (Azure Boards es una herramienta de administración de proyectos ágil. )


### 2. ¿Qué servicio podría ayudarle a administrar las máquinas virtuales que los desarrolladores y los evaluadores necesitan para asegurarse de que la nueva aplicación funciona en diferentes sistemas operativos?

### AZURE DEVTEST LABS

### 3. ¿A qué servicio le faltan características para asignar tareas de desarrolladores individuales en las que trabajar?

### AZURE PIPELINES (Azure Pipelines es una herramienta de CI/CD para compilar una cadena de herramientas automatizada. )

# **25.-Elección del mejor servicio de supervisión para visibilidad, información y mitigación de interrupciones**

### Los sistemas de software modernos que se ejecutan en la nube son complejos, por lo que conocer el estado y el rendimiento de su entorno de hospedaje de aplicaciones —con todos sus niveles de servicios— supone todo un reto. Afortunadamente, Microsoft ofrece varias soluciones que pueden ayudarle a reaccionar rápidamente ante interrupciones, investigar problemas intermitentes, optimizar el uso y mantener una actitud proactiva en el control de los tiempos de inactividad planeados.

## *Identificación de las opciones de productos*

### A todas las empresas que usan la nube les surgen varias inquietudes o preguntas básicas.

* ¿Usamos la nube correctamente? ¿Podemos aumentar el rendimiento sin incrementar el gasto en la nube?

* ¿Gastamos más de lo necesario?

* ¿Protegemos correctamente nuestros sistemas?

* ¿Qué resistencia tienen nuestros recursos? Si experimentamos una interrupción en la región, ¿podríamos conmutar por error a otra región?

* ¿Cómo se pueden diagnosticar y corregir los problemas que se producen de forma intermitente?

* ¿Cómo podemos determinar rápidamente la causa de una interrupción?

* ¿Cómo podemos aprender a planear el tiempo de inactividad?

### Afortunadamente, con una combinación de soluciones de supervisión en Azure, puede:

* Obtener respuestas, información y alertas para asegurarse de que ha optimizado el uso de la nube.

* Determinar la causa principal de los problemas no planeados.

* Prepararse de antemano para interrupciones planeadas.

## *Opciones de productos*

### A nivel general, hay tres ofertas principales de supervisión de Azure, cada una de las cuales tiene como objetivo una audiencia y un caso de uso específicos, y proporcionan un conjunto diverso de herramientas, servicios, API de programación, etc.

## *Azure Advisor*

### Azure Advisor evalúa los recursos de Azure y hace recomendaciones que contribuyen a mejorar la confiabilidad, la seguridad y el rendimiento, lograr la excelencia operativa y reducir los costos. Advisor está diseñado para ayudarle a ahorrar tiempo en la optimización en la nube. 

### El panel Advisor de Azure Portal muestra recomendaciones personalizadas para todas las suscripciones, y los filtros permiten seleccionar recomendaciones para suscripciones, grupos de recursos o servicios específicos. 

* Confiabilidad: se usa para garantizar y mejorar la continuidad de las aplicaciones críticas para la empresa.
* Seguridad: se usa para detectar amenazas y vulnerabilidades que podrían dar lugar a infracciones de seguridad.
* Rendimiento: se usa para mejorar la velocidad de las aplicaciones.
* Costos: se usan para optimizar y reducir el gasto general de Azure.
* Excelencia operativa: se usa para conseguir procedimientos recomendados de eficiencia en procesos y flujos de trabajo, manejabilidad de los recursos e implementación.

## *Azure Monitor*

### Azure Monitor es una plataforma que permite recopilar, analizar y mostrar datos, así como llevar a cabo acciones en función de las métricas y los datos registrados en todo el entorno local y de Azure.
![azure_monitor](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/monitoring-fundamentals/media/2-identify-product-options-01.png)

* A la izquierda aparece una lista de los orígenes de los datos de métricas y registros.

* En el centro, puede ver cómo se almacenan los datos de registro y métricas en los repositorios centrales.

* A la derecha, los datos se usan de diversas formas. Puede ver el rendimiento histórico y en tiempo real de cada nivel de la arquitectura, o bien consultar información combinada y detallada. Los datos se muestran en diferentes niveles para distintas audiencias. 

### Además, puede usar los datos para ayudarle a reaccionar ante eventos críticos en tiempo real gracias a las alertas enviadas a los equipos por SMS, correo electrónico, etc.

## *Azure Service Health*

### Azure Service Health proporciona una vista personalizada del estado de los servicios, regiones y recursos de Azure en los que se basa su infraestructura. El sitio web status.azure.com, que muestra solo los principales problemas que afectan de manera generalizada a los clientes de Azure, no refleja el panorama completo. Sin embargo, Azure Service Health muestra los problemas detectados de mayor y menor importancia que le afectan. Los problemas del servicio son poco frecuentes, pero es importante estar preparado para lo inesperado.

### Service Health le ayuda a supervisar varios tipos de eventos:

* Los problemas de servicio son problemas de Azure, como las interrupciones, que le afectan en este momento. Puede profundizar en los servicios y las regiones afectados, así como en las actualizaciones de los equipos de ingeniería

* Mantenimiento planeado: este tipo de eventos pueden afectar a la disponibilidad. Puede profundizar en los servicios, las regiones y los detalles afectados para mostrar cómo influirá un evento y qué debe hacer. La mayoría de estos eventos se producen sin que tengan ningún impacto en el usuario y no se mostrarán aquí.

* Avisos de estado: son problemas que exigen actuar para evitar la interrupción del servicio, e incluyen retiradas del servicio y cambios importantes. 


## *Análisis de los criterios de decisión*

### En esta unidad, analizará los criterios que emplean los expertos para elegir un servicio de supervisión de Azure para una determinada necesidad empresarial.


## *¿Necesita analizar cómo usa Azure para reducir los costos? ¿Mejorar la resistencia? ¿Fortalecer la seguridad?*

### Elija Azure Advisor si quiere realizar un análisis de los recursos implementados. Azure Advisor analiza la configuración y el uso de los recursos, y ofrece sugerencias sobre cómo optimizar la confiabilidad, la seguridad, el rendimiento, los costos y las operaciones según los procedimientos recomendados.

## *¿Quiere supervisar los servicios de Azure o el uso de Azure?*

### Si quiere mantener un control de Azure, especialmente de los servicios y regiones de los que dependa, debe elegir Azure Service Health. Puede ver el estado actual de los servicios de Azure de los que depende, las próximas interrupciones planeadas y los próximos servicios que se lanzarán. 

## *¿Quiere medir eventos personalizados junto con otras métricas de uso?*

### Elija Azure Monitor si quiere medir eventos personalizados y otros datos de telemetría recopilados. Los eventos personalizados, como los agregados al código fuente de las aplicaciones de software, pueden ayudar a identificar y diagnosticar la razón por la que la aplicación se comporta de una manera determinada.


## *¿Necesita configurar alertas para las interrupciones o para cuando el escalado automático está a punto de implementar nuevas instancias?*

### De nuevo, use Azure Monitor para configurar alertas de eventos clave relacionados con sus recursos específicos.

## *Uso de Azure Advisor*

### En Tailwind Traders quieren optimizar su gasto en la nube. Además, la organización está preocupada por las vulneraciones de seguridad, ya que la información de sus clientes y los datos del historial de compras están almacenados en bases de datos en la nube. A medida que aumentan los conocimientos de la organización sobre la nube, quiere comprender mejor el uso que hace de ella, conocer los procedimientos recomendados e identificar soluciones fáciles que permitan ajustar el gasto en la nube y reforzar sus prácticas de seguridad.

## *¿Qué servicio debe elegir?*

### La primera pregunta que debemos hacernos en este escenario es: ¿Tailwind Traders necesita analizar su uso de Azure en aras de la optimización? Sí. En Tailwind Traders creen que gastan demasiado y están preocupados por sus prácticas de seguridad. Por tanto, les gustaría analizar su uso de la nube cotejándolo con los procedimientos recomendados del sector. Por lo tanto, Azure Advisor es la opción perfecta para este escenario.

### Aunque ya hayamos encontrado el producto adecuado, vamos a seguir analizando los criterios de decisión para este escenario.

### La segunda pregunta que debemos hacernos es: ¿Tailwind Traders quiere supervisar el estado de los servicios de Azure que afectan a todos los clientes o a los recursos implementados en Azure? En este escenario, las operaciones no son importantes. No obstante, Azure Advisor analiza y proporciona recomendaciones para lograr la excelencia operativa.

### La tercera pregunta es: ¿Tailwind Traders quiere medir los eventos personalizados junto con otras métricas de uso? La respuesta es no; la medición de eventos personalizados no se menciona como requisito y no se considera en este escenario.

### Y la cuarta pregunta: ¿Tailwind Traders quiere configurar alertas para cuando se produzca una interrupción o el escalado automático esté a punto de implementar nuevas instancias? De nuevo, las operaciones no son importantes en este escenario. No obstante, Azure Advisor analiza y proporciona recomendaciones para lograr la excelencia operativa.

### Azure Advisor es la opción de producto adecuada para ayudar a Tailwind Traders a optimizar y entender mejor su gasto y su postura de seguridad en la nube. Además, puede resultarles útil en otras áreas del uso que hacen de la nube.

## *Uso de Azure Monitor*

### El sitio web de comercio electrónico de Tailwind Traders está experimentando errores intermitentes, y el equipo desconoce el motivo. Dada la naturaleza de los errores, el equipo sospecha que se trata de un problema de la base de datos o del almacenamiento en caché. ¿Cuáles son las circunstancias que rodean los errores? ¿Solo sucede durante las horas máximo tráfico? ¿Cuál es el estado de la instancia de Azure SQL del equipo? ¿Cuál es el estado de su servidor de almacenamiento en caché de Redis? ¿Cómo puede hacer un seguimiento de los problemas hasta su causa principal?

## *¿Qué servicio debe elegir?*

### La primera pregunta que debemos hacernos en este escenario es: ¿Tailwind Traders necesita analizar su uso de Azure en aras de la optimización? No, la optimización no es el objetivo del equipo en este escenario


### La segunda pregunta que debemos hacernos en este escenario es: ¿Tailwind Traders quiere supervisar el estado de los servicios de Azure que afectan a todos los clientes o a los recursos implementados en Azure? Dado que este problema se produce de forma intermitente, es poco probable que afecte a todo un servicio o a toda una región de Azure. Es más probable que haya un problema de lógica en alguna parte del código del sitio web de comercio electrónico u otro problema que provoque errores en la base de datos o bloqueos de almacenamiento en caché. 

### La tercera pregunta es: ¿Tailwind Traders quiere medir los eventos personalizados junto con otras métricas de uso? Sí. Los desarrolladores de software pueden enviar información adicional sobre el estado de la aplicación web mediante Application Insights para ayudar a localizar la causa principal del problema. Application Insights se basa en la plataforma de Azure Monitor para almacenar información de eventos personalizados.

## *Uso de Azure Service Health*

### Tailwind Traders quiere que su entorno en la nube sea operativo. En concreto, su equipo de operaciones de la nube quiere que las partes interesadas conozcan de antemano cuándo se producirá el próximo tiempo de inactividad planeado. El equipo también quiere que sus arquitectos de soluciones estén al tanto de cuáles son los servicios que Microsoft planea retirar, de manera que puedan rediseñar sus productos de software en consecuencia.

### Cuando se producen interrupciones, el equipo quiere averiguar rápidamente si el problema es específico de sus servicios o si se trata de una interrupción del servicio que afecta a muchos clientes de Azure. También quiere que las principales partes interesadas reciban informes en los que se explique cómo y por qué se ha producido el incidente, entre otra información.

## *¿Qué servicio debe elegir?*

### La primera pregunta que debemos hacernos en este escenario es: ¿Tailwind Traders necesita analizar su uso de Azure en aras de la optimización? No, Azure Advisor no es un candidato para este escenario.

### La segunda pregunta que debemos hacernos es: ¿Tailwind Traders quiere supervisar el estado de los servicios de Azure que afectan a todos los clientes o a los recursos implementados en Azure? En este escenario, el requisito es estar al tanto de cuándo se producirá el próximo tiempo de inactividad planeado. Además, el equipo desea capturar informes de incidentes oficiales. Por esta razón, Azure Service Health es la opción más sólida para este escenario.

## *Prueba de conocimientos*

### 1. Quiere recibir una alerta cuando haya disponibles nuevas recomendaciones para mejorar su entorno de nube. ¿Qué servicio puede hacer esto?

### *Azure Advisor*


### 2. ¿Qué servicio ofrece un análisis oficial de la causa principal (RCA) de la interrupción en los incidentes de Azure?

### *Azure Service Health* (Azure Service Health proporciona el historial de incidentes y RCA que se puede compartir con las partes interesadas.
)

### 3. ¿Qué servicio es una plataforma en la que se basa Application Insights y permite la supervisión de máquinas virtuales, contenedores y Kubernetes?
### *Azure Monitor*


# **26.-Elección de las mejores herramientas para administrar y configurar el entorno de Azure**

### Mediante las herramientas de administración de Azure, los administradores y desarrolladores pueden interactuar con el entorno de nube para realizar tareas como:

* Implementar decenas o cientos de recursos a la vez.

* Configurar servicios individuales mediante programación.

* Ver informes enriquecidos relativos al uso, el mantenimiento, los costos y mucho más.

## *Identificación de las opciones de producto*

### A grandes rasgos, hay dos categorías amplias de herramientas de administración: herramientas visuales y herramientas basadas en código.

### Las herramientas visuales proporcionan acceso completo y visualmente sencillo a toda la funcionalidad de Azure. Sin embargo, las herramientas visuales pueden ser menos útiles para configurar una gran implementación de recursos con interdependencias y opciones de configuración.

### Al intentar instalar y configurar rápidamente los recursos de Azure, la mejor opción suele ser usar una herramienta basada en código. Aunque al principio comprender los comandos y parámetros correctos puede conllevar más tiempo, una vez escritos se pueden guardar en archivos y usar de forma repetida según sea necesario. Además, el código que realiza la instalación y la configuración se puede almacenar, versionar y mantener junto con el código fuente de la aplicación en una herramienta de administración de código fuente, como Git. 

### Hay dos enfoques a la infraestructura como código: código imperativo y código declarativo. El código imperativo detalla cada uno de los pasos que debe realizarse para lograr un resultado deseado. Por el contrario, el código declarativo solo detalla un resultado deseado, y es el intérprete quien debe decidir cuál es la mejor forma de lograr dicho resultado.

## *Opciones de productos*

## *El Portal de Azure*

### Mediante Azure Portal, una interfaz de usuario basada en web, puede acceder a prácticamente todas las características de Azure. Azure Portal dispone de una UI gráfica sencilla en la que se pueden ver todos los servicios que se están usando, crear servicios nuevos, configurar los servicios y ver informes. Azure Portal es la primera experiencia para la mayoría de los usuarios de Azure. 

## *Azure Mobile App*

### Azure Mobile App le permite acceder a los recursos de Azure desde iOS y Android cuando no tiene el equipo a mano. Por ejemplo, puede:

* Supervisar el mantenimiento y el estado de sus recursos de Azure.

* Consultar alertas, diagnosticar y corregir problemas rápidamente, reiniciar una aplicación web o una máquina virtual (VM).

* Ejecutar comandos de la CLI de Azure o de Azure PowerShell para administrar los recursos de Azure.

## *Azure PowerShell*

### Azure PowerShell es un shell que permite a los desarrolladores, y profesionales de TI y DevOps ejecutar comandos denominados cmdlets o command-lets. Estos comandos llaman a la API REST de Azure para realizar todas las tareas de administración posibles en Azure. Los cmdlets pueden ejecutarse de forma independiente o combinarse en un archivo de script y ejecutarse en conjunto para organizar:

* La configuración de rutinas, la anulación y el mantenimiento de un único recurso o de varios recursos conectados.

* La implementación de una infraestructura completa, que puede contener decenas o cientos de recursos, de código imperativo.

### La captura de los comandos en un script hace que el proceso se pueda repetir y automatizar.

### Azure PowerShell está disponible para Windows, Linux y Mac,

## *La CLI de Azure*

### La CLI (interfaz de línea de comandos) de Azure es un programa ejecutable que permite a un desarrollador, profesional de DevOps o profesional de TI ejecutar comandos en Bash. Estos comandos llaman a la API REST de Azure para realizar todas las tareas de administración posibles en Azure. 

### En muchos aspectos, la CLI de Azure es casi idéntica a Azure PowerShell con respecto a lo que se puede hacer con ella. Ambos funcionan con Windows, Linux y Mac

## *Plantillas de ARM*

### Aunque se puede escribir código imperativo en Azure PowerShell o en la CLI de Azure para configurar y anular un recurso de Azure u organizar una infraestructura completa que contenga decenas o cientos de recursos, hay una mejor forma de implementar esta funcionalidad.

### Al usar las plantillas de Azure Resource Manager (ARM), puede describir los recursos que quiere usar en un formato JSON declarativo. La ventaja es que la plantilla de Resource Manager completa se comprueba antes de que se ejecute cualquier código para asegurarse de que los recursos se crearán y se conectarán correctamente.

## *Análisis de los criterios de decisión*

### En esta unidad, analizará los criterios que emplean los expertos como ayuda para decidir qué herramientas de administración de Azure usar para satisfacer sus necesidades empresariales. 

## *¿Necesita realizar acciones de administración, gestión o creación de informes de forma puntual?*

### Azure PowerShell y la CLI de Azure son herramientas de administración de Azure que le permiten obtener rápidamente la dirección IP de una máquina virtual (VM) que ha implementado, reiniciar una VM o escalar una aplicación. Es posible que quiera conservar los scripts personalizados de las dos herramientas en el disco duro local para determinados tipos de operaciones que tenga que realizar de forma reiterada.

### Al contrario que la CLI de Azure y PowerShell, las plantillas de Azure Resource Manager (plantillas de ARM) definen los requisitos de infraestructura de la aplicación para implementaciones que se repiten. Aunque las plantillas de ARM no están pensadas para usarse de forma ocasional, es posible utilizarlas con esta finalidad. Pero en escenarios de un solo uso, es posible que prefiera herramientas más ágiles, como PowerShell, scripts de la CLI de Azure o Azure Portal.

### Recuerde que las plantillas de ARM pueden incluir scripts de PowerShell o de la CLI de Azure, lo que le ofrecerá la posibilidad de usar scripts para tareas que puedan no ser posibles con la propia plantilla de ARM.

## *¿Necesita una forma de configurar repetidamente uno o más recursos y asegurarse de que todas las dependencias se crean en el orden adecuado?*

### Las plantillas de ARM definen los requisitos de infraestructura de la aplicación para una implementación repetible que se realiza de forma coherente. Un paso de validación garantiza que se puedan crear todos los recursos en el orden adecuado en función de las dependencias, en paralelo y de forma idempotente.

## Al crear scripts, ¿procede de un entorno de administración de Windows o de Linux?

### Si usted o los administradores de la nube provienen de un entorno de administración de Windows, es probable que prefieran usar PowerShell. Si usted o los administradores de la nube provienen de un entorno de administración de Linux, es probable que prefieran la CLI de Azure. En la práctica, se puede usar cualquiera de las herramientas para realizar la mayoría de las tareas de administración.

## *Uso de Azure Portal para comprender y administrar visualmente su entorno en la nube*

### Tailwind Traders usa extensamente Azure en toda la organización. Para asegurarse de que el equipo técnico y el equipo ejecutivo conozcan el gasto de la empresa en la nube, el director de operaciones en la nube se reúne semanalmente con el director financiero para hablar de ello.

### Puede ser que las conversaciones empiecen por cuestiones superficiales, pero, a medida que avanza la reunión, pueden querer profundizar para obtener más información sobre cómo se usan los recursos de Azure. 

## *¿Qué servicio debe elegir?*

### Aplique los criterios de decisión que hemos aprendido en la unidad anterior para encontrar la opción adecuada.

### En primer lugar, en este escenario, ¿Tailwind Traders tiene que realizar acciones puntuales de administración, gestión o creación de informes? Sí, y si tenemos en cuenta el requisito de poder consultar los datos visualmente y crear informes personalizados durante la reunión, Azure Portal es la mejor opción. Los asistentes a la reunión pueden encontrar rápidamente las respuestas usando una gran cantidad de opciones de creación de informes.

### Los dos criterios de decisión siguientes no se aplican a este escenario, ya que el director de operaciones en la nube y el director financiero no implementarán ni configurarán ningún recurso.

### Azure Portal es la opción de producto adecuada para este escenario.

## *Uso de Azure PowerShell para tareas administrativas puntuales*

### Tailwind Traders tiene como empleados a tecnólogos con diferentes aptitudes. Un equipo de desarrolladores y administradores se encarga de la compilación y el mantenimiento de una colección de aplicaciones para la intranet que son fundamentales para la empresa.

### Han movido sus aplicaciones a la nube y ahora buscan una forma de realizar tareas administrativas, de gestión y de pruebas de forma puntual en el entorno de su intranet. Pronto se han dado cuenta de que administrar Azure desde el portal conlleva mucho tiempo y no es una tarea que se pueda repetir. ¿Qué herramienta debe usar la empresa para realizar tareas puntuales?

## *¿Qué servicio debe elegir?*

### En primer lugar, en este escenario, ¿el equipo de Tailwind Traders tiene que realizar tareas puntuales de administración, gestión o creación de informes? Sí. Sin embargo, el equipo ya sabe que no quiere basarse en Azure Portal para estas acciones puntuales. Por consiguiente, tanto Azure PowerShell como la CLI de Azure son opciones adecuadas. En un momento abordaremos qué herramienta debe usar el equipo.

### En segundo lugar, en este escenario, ¿Tailwind Traders necesita un medio confiable y que se pueda repetir para implementar toda la infraestructura? No, no en este caso. Por lo tanto, las plantillas de Azure Resource Manager (plantillas de Resource Manager) no son la opción correcta.

## *Uso de la CLI de Azure para tareas administrativas puntuales*

### Como hemos visto en la unidad anterior, Tailwind Traders tiene como empleados a tecnólogos con diferentes aptitudes. El equipo de DevOps se ocupa principalmente de mantener en funcionamiento los sistemas externos, como el sitio de comercio electrónico de la empresa. Este equipo tiene conocimientos en administración de Linux. Con frecuencia, tiene que realizar tareas de administración relacionadas con el estado de su entorno de nube.

## *¿Qué servicio debe elegir?*

### La elección de la opción correcta en este escenario dependerá de los conocimientos del equipo. Dado que este equipo tiene conocimientos en administración de Linux, es probable que se sienta más cómodo con la CLI de Azure


## *Uso de Azure Mobile App para administrar Azure desde cualquier lugar*

### Tailwind Traders experimenta un aumento en el tráfico de comercio electrónico en momentos que coinciden con las festividades nacionales y los fines de semana. En los primeros años de la empresa, los administradores de sistemas críticos tenían que reunirse en la oficina del director de operaciones en la nube durante estos períodos importantes. Sin embargo, ahora que Tailwind Traders ha ejecutado correctamente la mayoría de los sistemas críticos, el director quiere relajar esta medida y permitir que los empleados pasen estas fechas con sus familias. ¿Hay algún producto que pueda ser útil para este escenario?

## *¿Qué servicio debe elegir?*

### Vamos a valorar de nuevo nuestros criterios para la toma de decisiones.

### En primer lugar, ¿Tailwind Traders tiene que realizar acciones puntuales de administración, gestión o creación de informes? Sí. La pregunta es, ¿cómo? Los empleados pertinentes, cuando no se encuentran en la oficina, podrían usar un teléfono o tableta para estar pendientes del estado del entorno en la nube. Probablemente Azure Mobile App presente un equilibrio adecuado, ya que permite a los empleados estar lejos de la oficina y, a la vez, seguir realizando tareas puntuales de administración y gestión imprescindibles.

## *Uso de plantillas de Resource Manager para implementar una infraestructura en la nube completa*

### Tailwind Traders quiere poner en funcionamiento sus implementaciones en la nube. La empresa necesita una forma confiable y repetible para escalar sus operaciones durante los períodos de más ventas. Dado que va a elegir un proceso para escalar el entorno de producción, debe asegurarse de que el servicio elegido:

* Sea eficaz y pueda crear muchos recursos en paralelo.

* Cree todas las dependencias en el orden correcto.

* Se pueda usar aunque se haya producido un error a medio aprovisionamiento de la infraestructura necesaria.

## *¿Qué servicio debe elegir?*

### En primer lugar, en este escenario, ¿Tailwind Traders tiene que realizar acciones puntuales de administración, gestión o creación de informes? En esta ocasión, no se busca realizar tareas puntuales u ocasionales de administración o gestión. Se necesita una tecnología para automatizar la implementación de toda la infraestructura cuando sea necesario.

### En segundo lugar, ¿Tailwind Traders necesita un medio confiable y repetible para implementar toda la infraestructura? Sí, es exactamente eso lo que necesita la empresa. Nuestros criterios de decisión nos conducen a elegir las plantillas de Azure Resource Manager (plantillas de Resource Manager) para este escenario.

### Podría usar Azure PowerShell o la CLI de Azure; sin embargo, estas tecnologías de scripting tienen limitaciones importantes en cuanto a la implementación de la infraestructura. En cambio, las plantillas de Resource Manager no están sujetas a estas limitaciones.

## *Prueba de conocimientos*

### 1. Como administrador, ¿debe recuperar la dirección IP de una VM determinada mediante Bash? ¿Cuál de las siguientes herramientas debería usar?

### * La CLI de Azure* (La CLI de Azure le permite usar Bash para ejecutar tareas puntuales en Azure.
)

### 2. Usted es desarrollador y tiene que configurar su primera VM para hospedar un proceso que se ejecuta por la noche. ¿Cuál de las siguientes herramientas es la mejor opción?
### *El portal de Azure (Azure Portal es un lugar excelente para que los principiantes obtengan información sobre Azure y configuren sus primeros recursos.
)

### 3. ¿Cuál es la mejor opción de infraestructura como código para configurar de forma rápida y fiable toda la infraestructura en la nube de forma declarativa?
### *Plantillas de ARM* (Las plantillas de Resource Manager son la mejor opción de infraestructura como código para configurar de manera rápida y fiable toda la infraestructura en la nube de forma declarativa.
)


# **27.-Elección de la mejor tecnología sin servidor de Azure para su escenario empresarial**

### El término informática sin servidor se usa para describir un entorno de ejecución que se configura y administra de manera automática. El cliente tan solo debe escribir código o conectar y configurar los componentes en un editor visual y, después, especificar las acciones que desencadenan la funcionalidad, como un temporizador o una solicitud HTTP. Lo mejor de todo es que únicamente se paga en función del uso real del código y que no hay que preocuparse de las interrupciones, dado que el código puede hacer un escalado instantáneo para satisfacer la demanda.

## *Identificación de las opciones de producto*

### La informática sin servidor es un entorno de ejecución hospedado en la nube que ejecuta código, pero abstrae el entorno de hospedaje subyacente. El término informática sin servidor es poco apropiado, ya que, al fin y al cabo, hay un servidor (o un grupo de servidores) que ejecuta el código o la funcionalidad.

### La idea clave es que el cliente no es responsable de la configuración o el mantenimiento del servidor. No tiene que preocuparse de las interrupciones ni de escalarlo cuando hay un incremento en la demanda. El proveedor de la nube se encarga de todo el mantenimiento y el escalado.

### La informática sin servidor suele utilizarse para controlar los escenarios de back-end. En otras palabras, la informática sin servidor es responsable de enviar mensajes de un sistema a otro o de procesar mensajes enviados desde otros sistemas. No se usa para sistemas orientados al usuario, sino que funciona en segundo plano.

## *Azure Functions*
### Con el servicio Azure Functions, puede hospedar un único método o función mediante un lenguaje de programación popular en la nube que se ejecuta en respuesta a un evento. Un ejemplo de un evento podría ser una solicitud HTTP, un mensaje nuevo en una cola o un mensaje en un temporizador.

### Por su naturaleza atómica, Azure Functions puede servir para muchos propósitos en el diseño de una aplicación. Las funciones se pueden escribir con muchos lenguajes de programación comunes, como C#, Python, JavaScript, Typescript, Java y PowerShell.

### Azure Functions se escala automáticamente, y los cargos se acumulan solo cuando se desencadena una función. Estas características convierten a Azure Functions en una elección sólida cuando la demanda es variable. 

### Una función de Azure es un entorno sin estado. Una función se comporta como si se reiniciara cada vez que responde a un evento. Esta característica resulta muy conveniente para procesar los datos entrantes. Y si el estado es necesario, la función se puede conectar a una cuenta de almacenamiento de Azure.

### Azure Functions puede realizar tareas de orquestación mediante una extensión llamada Durable Functions, que permite a los desarrolladores encadenar funciones al tiempo que se mantiene el estado.
### La solución Azure Functions es ideal si le preocupa solo el código que ejecuta el servicio y no la infraestructura o la plataforma subyacente.

## *Azure Logic Apps*

### Logic Apps es una plataforma de desarrollo de poco código o sin código hospedada como un servicio en la nube. El servicio le ayuda a automatizar y organizar tareas, procesos empresariales y flujos de trabajo cuando tiene que integrar aplicaciones, datos, sistemas y servicios en empresas u organizaciones. Logic Apps simplifica el diseño y la creación de soluciones escalables en la nube, en el entorno local o en ambos. Esta solución abarca la integración de aplicaciones, la integración de datos, la integración de sistemas, la integración de aplicaciones empresariales (EAI) y la integración de negocio a negocio (B2B).

### Para crear soluciones de integración empresarial con Azure Logic Apps, se puede elegir entre una galería creciente de más de 200 conectores. La galería incluye servicios como Salesforce, SAP, Oracle DB y recursos compartidos de archivos.

## *¿Cuál es la diferencia entre estos servicios?*

### Puede llamar a Azure Functions desde Azure Logic Apps y viceversa. La principal diferencia entre los dos servicios es su intención. Azure Functions es un servicio informático sin servidor, y Azure Logic Apps está diseñado para ser un servicio de orquestación sin servidor. Aunque puede usar Azure Functions para orquestar un proceso empresarial de larga duración que implique varias conexiones, su caso de uso principal no era ese cuando se diseñó.

### Además, los dos servicios tienen un precio diferente. Los precios de Azure Functions se basan en el número de ejecuciones y en el tiempo ejecución de cada una. Los precios de Logic Apps se basan en el número de ejecuciones y el tipo de conectores que se usan.

## *Análisis de los criterios de decisión*

### Con dos opciones sin servidor posibles, puede ser difícil saber cuál es la más conveniente para el trabajo que debe realizarse. En esta unidad, analizaremos los criterios que emplean los expertos al elegir qué servicio sin servidor satisface mejor a una determinada necesidad empresarial. 

## *¿Necesita realizar una orquestación entre API conocidas?*
### Como mencionamos anteriormente, Azure Logic Apps se diseñó pensando en la orquestación, desde el configurador visual basado en web hasta el modelo de precios. Logic Apps es excelente a la hora de conectar una gran variedad de servicios distintos mediante sus API para pasar y procesar los datos a través de los muchos pasos de un flujo de trabajo.

## *¿Necesita ejecutar algoritmos personalizados o realizar análisis y búsquedas de datos especiales?*

### Con Azure Functions, puede usar la expresividad completa de un lenguaje de programación en una forma compacta. Esto le permite crear de manera concisa algoritmos complejos u operaciones de búsqueda y análisis de datos. El cliente es el responsable de mantener el código, controlar las excepciones de manera resistente, etc.

## *¿Tiene tareas automatizadas escritas en un lenguaje de programación imperativo?*

### Si ya tiene la orquestación o la lógica de negocios expresada en C#, Java, Python u otro lenguaje de programación popular, podría ser más fácil trasladar el código al cuerpo de una aplicación de funciones de Azure Functions que volver a crearlo mediante Azure Logic Apps.

## *¿Prefiere un flujo de trabajo visual (declarativo) o escribir código (imperativo)?*

### En última instancia, la elección se reduce a si prefiere trabajar en un entorno declarativo o en uno imperativo. Los desarrolladores que ya tienen experiencia con un lenguaje de programación imperativo pueden preferir adoptar una postura imperativa con respecto a la automatización y la orquestación. 

## *Uso de Azure Functions*
### Los datos de cada producto que se vende en Tailwind Traders se empaquetan como un mensaje JSON y se envían a un centro de eventos. El centro de eventos distribuye el mensaje JSON a los suscriptores, lo que permite notificar a los distintos sistemas.

### Tailwind Traders quiere actualizar su sitio de comercio electrónico para incluir el seguimiento del inventario en tiempo real. Un servicio de Windows escrito en C# contiene toda la lógica necesaria para:
* Recuperar los mensajes
* Analizar JSON
* Realizar una búsqueda en varias bases de datos para buscar información adicional del producto
* Puede enviar notificaciones al departamento de compras para que pueda reponer las cantidades que se encuentran por debajo de determinados niveles.

### El servicio de Windows se ejecuta en una máquina virtual hospedada en Azure.

### La mayoría del tiempo, este sistema funciona correctamente. No obstante, hay una demanda elevada de algunos productos, mientras que de otros productos hay pocas unidades en los almacenes. 

## *¿Qué servicio debe elegir?*

### Como el equipo de desarrolladores de Tailwind Traders ya tiene la lógica escrita en C#, tendría sentido copiar el código C# pertinente del servicio de Windows y trasladarlo a una función de Azure. Los desarrolladores tendrían que enlazar la función para que se desencadene cada vez que aparezca un mensaje nuevo en una determinada cola.

## *¿Por qué no elegir Azure Logic Apps?*

### Es posible implementar la misma lógica en Azure Logic Apps. No obstante, dado que el equipo ya ha invertido tiempo en crear el servicio en C#, puede usar el mismo código en una función de Azure.

## *Uso de Azure Logic Apps*
### Tras una compra, Tailwind Traders envía a sus clientes una invitación aleatoriamente para participar en una encuesta de satisfacción del cliente. Actualmente, los resultados de dicha encuesta se agregan, se calcula su promedio y se plasman en un gráfico. Pero el departamento de atención al cliente, con una actitud proactiva, quiere ponerse en contacto con los clientes que proporcionan puntuaciones bajas y dejan comentarios con una opinión negativa.

### Lo ideal sería que las puntuaciones de satisfacción del cliente negativas desencadenasen un flujo de trabajo de retención de clientes. En primer lugar, se puede generar un análisis de opinión en función de los comentarios libres, se enviaría un correo electrónico al cliente con una disculpa y un código de descuento, y este mensaje se enrutaría al servicio de atención al cliente de Dynamics 365 para que pudiera programar un correo electrónico de seguimiento.

### Desafortunadamente, no hay ningún desarrollador de Tailwind Traders disponible para realizar este proyecto. 

## *¿Qué servicio debe elegir?*
### En este escenario, es probable que Azure Logic Apps sea la mejor solución. Un profesional de la nube o de TI puede usar los conectores existentes para realizar un análisis de opinión mediante el conector de Azure Cognitive Services, enviar un correo electrónico con el conector de Office 365 Outlook y crear un registro y un correo electrónico de seguimiento con el conector de servicio al cliente de Dynamics 365.

### Dado que Azure Logic Apps es un servicio sin código o de poco código, no se necesitan desarrolladores. 

## *¿Por qué no elegir Azure Functions?*

### Aunque es posible compilar toda la solución mediante Azure Functions, este enfoque supondría todo un desafío si no se puede asignar el proyecto a ningún desarrollador de software.

### Es un escenario ideal para Azure Logic Apps. Ya existen conectores para cada uno de los pasos descritos en el flujo de trabajo. Un desarrollador tendría que llevar a cabo una gran labor de investigación, desarrollo y pruebas para crear una solución que use todos estos sistemas de software diferentes.

## *Prueba de conocimientos*

### 1. Debe procesar los mensajes de una cola, analizarlos mediante alguna lógica imperativa existente escrita en Java y, después, enviarlos a una API de terceros. ¿Qué opción sin servidor debería elegir?

### Azure Functions

### 2. Quiere orquestar un flujo de trabajo con las API de varios servicios conocidos. ¿Cuál es la mejor opción para este escenario?

### Azure Logic Apps

### 3. Su equipo no tiene mucha experiencia escribiendo código personalizado, pero ve un gran valor en la automatización de diversos procesos empresariales importantes. ¿Cuál de las siguientes opciones es la mejor opción para el equipo?

### Azure Logic Apps

# **Elegir el mejor servicio de Azure IoT para su aplicación**

### IoT permite a los dispositivos recopilar y luego retransmitir información para el análisis de datos. Los dispositivos inteligentes están equipados con sensores que recopilan datos. 

* Sensores de entorno que capturan los niveles de temperatura y humedad.
* Escáneres de códigos de barras, códigos QR o reconocimiento óptico de caracteres (OCR).
* Sensores de proximidad y ubicación geográfica.
* Sensores de luz, color e infrarrojos.
* Sensores de sonido y ultrasonido.
* Sensores táctiles y de movimiento.
* Sensores de inclinación y acelerómetros.
* Sensores de humo, gas y alcohol.
* Detectores de errores para determinar cuándo hay un problema con el dispositivo.
* Sensores mecánicos que detectan anomalías o deformaciones.
* Sensores de flujo, nivel y presión para medir gases y líquidos.

### Con los servicios de Azure IoT, los dispositivos que están equipados con estos tipos de sensores y que pueden conectarse a Internet podrían enviar las lecturas de sus sensores a un punto de conexión específico de Azure por medio de un mensaje.

### Supongamos que su empresa fabrica y opera las máquinas expendedoras refrigeradas inteligentes. ¿Qué tipos de información desearía supervisar? Es posible que quiera asegurarse de que:

* Cada máquina funciona sin errores.
* Las máquinas no se han puesto en peligro.
* Los sistemas de refrigeración de las máquinas mantienen su contenido dentro de un determinado intervalo de temperatura.
* Se le avise cuando los productos alcancen un determinado nivel de inventario para poder reabastecer las máquinas.

### Si el hardware de las máquinas expendedoras puede recopilar y enviar esta información en un mensaje estándar, los mensajes que cada máquina envía pueden recibirse, almacenarse, organizarse y mostrarse mediante servicios de Azure IoT.

### Los datos recopilados de estos dispositivos se pueden combinar con servicios de inteligencia artificial de Azure para ayudar a predecir:

* Cuándo necesitan las máquinas mantenimiento proactivo.

* Cuándo va a ser necesario reponer los inventarios y pedir nuevos productos a los proveedores.

## *Azure IoT Hub*

### Azure IoT Hub es un servicio administrado hospedado en la nube que actúa como centro de mensajes centralizado para la comunicación bidireccional entre la aplicación de IoT y los dispositivos que administra. Puede usar Azure IoT Hub para compilar soluciones de IoT con comunicaciones confiables y seguras entre millones de dispositivos de IoT y un back-end de soluciones hospedadas en la nube.

### El servicio IoT Hub admite las comunicaciones desde el dispositivo a la nube y desde la nube al dispositivo. También admite varios patrones de mensajería, como telemetría de dispositivo a la nube, carga de archivos desde dispositivos y métodos de solicitud-respuesta para controlar los dispositivos desde la nube.

### IoT Hub permite ordenar y controlar. La supervisión de IoT Hub le ayuda a conservar el estado de la solución, ya que realiza el seguimiento de eventos, como la creación, los errores y las conexiones de dispositivos.

## *Azure IoT Central*

### Azure IoT Central se basa en IoT Hub y agrega un panel que le permite conectar, supervisar y administrar sus dispositivos de IoT. La interfaz de usuario (UI) visual facilita la conexión rápida de nuevos dispositivos y la inspección a medida que comienzan a enviar mensajes de telemetría o de error. 
### Para ayudarle a ponerse en marcha rápidamente, IoT Central proporciona plantillas de inicio para escenarios comunes en diferentes sectores, como la venta directa, la energía, la atención sanitaria y la administración pública.

![iotcentral](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/iot-fundamentals/media/2-identify-product-options-01-9e2f3db7.png)

### Una parte clave de IoT Central es el uso de las plantillas de dispositivo. Las plantillas de dispositivo permiten conectar un dispositivo sin programación en el lado del servicio. IoT Central usa las plantillas para construir los paneles, las alertas, etc. Los desarrolladores de dispositivos siguen teniendo que crear código para que se ejecute en los dispositivos, y ese código debe coincidir con la especificación de la plantilla de dispositivo.

## *Azure Sphere*

### Azure Sphere crea una solución de IoT de un extremo a otro de alta seguridad para los clientes que lo abarca todo, desde el hardware y el sistema operativo del dispositivo hasta el método seguro para enviar mensajes desde el dispositivo al centro de mensajes. 

### Azure Sphere consta de tres partes:

* La primera parte es la unidad de microcontrolador (MCU) de Azure Sphere, que se encarga de procesar el sistema operativo y las señales de los sensores conectados. En la siguiente imagen se muestra la MCU del kit de desarrollo Seeed Azure Sphere MT3620.

* La segunda parte es un sistema operativo (SO) Linux personalizado, que controla la comunicación con el servicio de seguridad y puede ejecutar el software del proveedor.

* La tercera parte es el servicio de seguridad de Azure Sphere, también conocido como AS3. Su trabajo es asegurarse de que el dispositivo no se ha puesto en peligro de forma malintencionada. Cuando el dispositivo intenta conectarse a Azure, primero debe autenticarse, por dispositivo, mediante autenticación basada en certificado. Si se autentica correctamente, AS3 comprueba que el dispositivo no se haya alterado. Una vez que ha establecido un canal de comunicación seguro, AS3 inserta en el dispositivo las actualizaciones de software del sistema operativo o desarrolladas por el cliente (y aprobadas).

## *Análisis de los criterios de decisión*

### En esta unidad se van a analizar los criterios que emplean los expertos para decidir qué servicio de IoT usar para una determinada necesidad empresarial. 

## *¿Es fundamental asegurarse de que el dispositivo no esté en peligro?*

### Cuando la seguridad es una cuestión fundamental en el diseño del producto, la mejor opción de producto es Azure Sphere, que proporciona una solución completa de un extremo a otro para dispositivos de IoT.

## *¿Necesito un panel para la generación de informes y la administración?*

### Si solo quiere conectarse a los dispositivos remotos para recibir telemetría y, ocasionalmente, insertar actualizaciones, pero no necesita ninguna capacidad de elaboración de informes, es posible que prefiera implementar Azure IoT Hub por sí solo. Los programadores siguen pudiendo crear un conjunto personalizado de herramientas de administración e informes mediante la API RESTful de IoT Hub.

### Pero si quiere una interfaz de usuario personalizable precompilada con la que ver y controlar los dispositivos de forma remota, puede que prefiera empezar con IoT Central.

### IoT Central se integra con muchos productos de Azure diferentes, como IoT Hub, para crear un panel con características de informes y administración. El panel se basa en plantillas de inicio para escenarios comunes de uso y de la industria. 

## *Uso de IoT Hub*
### El equipo directivo senior de Tailwind Traders ha decidido asociarse con un fabricante de electrodomésticos líder para crear una avanzada marca exclusiva que promete un acuerdo de servicio de mantenimiento preventivo. Esta característica única diferenciaría los electrodomésticos de Tailwind Traders en un mercado muy competitivo. La característica también hace que la marca sea lucrativa, ya que sería necesaria una suscripción anual. Para crear una sólida reputación de marca, los electrodomésticos van a enviar información de telemetría a una ubicación centralizada donde se puede analizar y donde se puede programar el mantenimiento.

## *¿Qué servicio debe elegir?*

### En primer lugar, ¿es fundamental asegurarse de que el dispositivo o, en este caso, cada electrodoméstico, no esté en peligro? Es preferible, aunque no vital, que los dispositivos no estén en peligro. Lo peor que podría suceder es que un pirata informático leyera la temperatura actual de la nevera del cliente o el número de ciclos de lavado que ha completado la lavadora.

### Incluso si el cliente llama y notifica un comportamiento extraño con el dispositivo, un técnico podría restablecer o reemplazar el microcontrolador. Podría no justificar el gasto adicional o los recursos de ingeniería que se necesitarían para usar Azure Sphere.

### Segundo criterio de decisión: ¿necesito un panel para la generación de informes y la administración? En este caso, no. Tailwind Traders quiere integrar los datos de telemetría y todas las demás funcionalidades en un sistema de solicitud de mantenimiento existente. En este caso, Azure IoT Central no es necesario.

### Por lo tanto, dadas las respuestas a los criterios de decisión, Azure IoT Hub es la mejor opción en este escenario.

## *¿Por qué no usar Azure IoT Central?*

### Azure IoT Central proporciona un panel que permite a las empresas administrar dispositivos de IoT de forma individual y en conjunto, ver informes y configurar notificaciones de error mediante una GUI. Además, los electrodomésticos de la empresa solo van a recopilar datos mediante sensores y no necesitan la capacidad de actualizar la configuración o el software de forma remota. Por lo tanto, la empresa no necesita Azure IoT Central.

## *¿Por qué no usar Azure Sphere?*

### Azure Sphere proporciona una solución completa para escenarios en los que la seguridad es crítica. En este escenario la seguridad es preferible, pero no crítica. Los electrodomésticos no se pueden actualizar con nuevo software de forma remota. Los sensores simplemente notifican los datos de uso. Como resultado, Azure Sphere no es necesario.

## *Uso de IoT Central*

### Tailwind Traders posee una flota de vehículos de entrega que transportan productos desde los almacenes hasta los centros de distribución y desde los centros de distribución hasta las tiendas y los hogares. La empresa está buscando una solución de logística completa que tome los datos enviados desde un equipo incorporado al vehículo y los convierta en información accionable.

### Además, los envíos pueden equiparse con sensores de un proveedor de terceros para recopilar y supervisar las condiciones ambientales. Estos sensores pueden recopilar información como temperatura, humedad, inclinación, impacto, luz y ubicación de un envío.

### Objetivos:

* Supervisión del envío con seguimiento y trazabilidad en tiempo real

* Integridad del envío con supervisión de las condiciones ambientales en tiempo real

* Seguridad contra los robos, las pérdida o el daño de los envíos

* Geovallado, optimización de rutas, administración de flotas y análisis de vehículos

* Previsión para la salida y llegada predecibles de los envíos

## *¿Qué servicio debe elegir?*

### En primer lugar, ¿es fundamental asegurarse de que el dispositivo o, en este caso, cada electrodoméstico, no esté en peligro? Idealmente, cada sensor y equipo de un vehículo sería inmune a las interferencias. Sin embargo, la seguridad no se mencionó como un problema crítico en este momento. Los sensores y los equipos de los vehículos son fabricados por un proveedor ajeno y, a menos que Tailwind Traders quiera fabricar sus propios dispositivos (que no es el caso), la empresa se verá obligada a usar hardware que ya está disponible.

### En segundo lugar, ¿necesita Tailwind Traders un panel para la generación de informes y la administración? Sí, un panel de informes y administración es un requisito.

### En función de estas respuestas a los criterios de decisión, Azure IoT Central es la mejor opción en este escenario.

## *¿Por qué no usar IoT Hub?*

### Si Tailwind Traders usa IoT Central, la empresa en realidad estaría usando un centro de IoT preconfigurado para sus necesidades específicas mediante la plantilla de inicio Logística conectada. De lo contrario, la empresa necesitaría realizar mucho desarrollo personalizado para compilar sus propios sistemas de administración y paneles basados en la nube sobre Azure IoT Hub.

## *¿Por qué no usar Azure Sphere?*

### Azure Sphere proporciona una solución completa para escenarios en los que la seguridad es crítica. En este escenario, la seguridad es ideal, pero no es una prioridad crítica. Aunque Azure Sphere proporciona una solución de un extremo a otro que incluye hardware.

## *Uso de Azure Sphere*

### Tailwind Traders quiere implementar una solución de punto de venta táctil para la formalización de compras de autoservicio. Estos terminales de pago autoservicio deben ser ante todo seguros. Cada terminal debe ser impermeable al código malintencionado que podría crear transacciones fraudulentas, obligar a la empresa a desconectar los sistemas durante un período de compras intenso o enviar datos transaccionales a una organización de espías. Los terminales también deben comunicar información vital sobre el estado de la empresa y permitir actualizaciones seguras del software de forma remota.

### En lugar de usar una solución existente, la empresa decide trabajar con una empresa de ingeniería líder especializada en soluciones de IoT. Este enfoque permite a la empresa compilar un terminal exclusivo y seguro que le proporciona una plataforma de venta directa sobre la que trabajar en adelante.

### Aunque la empresa se centra principalmente en el propio terminal, Tailwind Traders se da cuenta de que quiere una solución que pueda ayudarle a comprender todos los datos que van a generar estos terminales en todas sus tiendas. Además, quiere una manera fácil de insertar actualizaciones de software en sus terminales.

## *¿Qué servicio debe elegir?*

### En primer lugar, ¿es fundamental asegurarse de que el dispositivo o, en este caso, cada terminal de punto de venta, no esté en peligro? Por supuesto. La seguridad del dispositivo es el requisito principal.

### A continuación, ¿necesita Tailwind Traders un panel para la generación de informes y la administración? Sí, la empresa necesita un panel de informes y administración.

### Por lo tanto, dadas las respuestas a los criterios de decisión, la empresa de ingeniería de IoT creará una plataforma basada tanto en Azure IoT Central como en Azure Sphere. Aunque no hay ninguna plantilla de inicio específica disponible en Azure IoT Central para este escenario, se puede adaptar una fácilmente para dar cabida a los tipos de informes que la empresa quiere ver y a las operaciones de administración que quiere realizar.

### ¿Por qué no elegir IoT Hub?
### Con IoT Central, Tailwind Traders en realidad estaría usando también Azure IoT Hub en segundo plano.

## *Prueba de conocimientos*

### 1. Una empresa desea crear una nueva caseta de votación para venderla a los gobiernos de todo el mundo. ¿Qué tecnologías de IoT debería elegir la empresa para garantizar el mayor grado de seguridad?

### *Azure Sphere*

### 2. Una empresa quiere administrar rápidamente sus dispositivos de IoT individuales mediante una interfaz de usuario basada en Internet. ¿Qué tecnología de IoT debe elegir?

### *IoT Central* (IoT Central crea rápidamente un portal de administración basado en web para habilitar la generación de informes y la comunicación con dispositivos de IoT.)

### 3. Quiere enviar mensajes desde el dispositivo de IoT a la nube y viceversa. ¿Qué tecnología de IoT permite enviar y recibir mensajes?
### *IoT Hub* (Un centro de IoT se comunica con los dispositivos de IoT mediante el envío y la recepción de mensajes.)

# **28.-Protección frente a amenazas de seguridad en Azure**

![proteccion](https://docs.microsoft.com/en-us/learn/achievements/review-security-tools-features.svg)

## *Protección frente a amenazas de seguridad mediante Azure Security Center*

### Tailwind Traders va a ampliar su uso de servicios de Azure. Todavía tiene cargas de trabajo en el entorno local con procedimientos recomendados actuales de configuración relacionados con la seguridad y procedimientos empresariales. ¿Cómo garantiza la empresa que todos sus sistemas cumplen un nivel mínimo de seguridad y que su información está protegida frente a ataques?

## *¿Qué es Azure Security Center?*

### Azure Security Center es un servicio de supervisión que proporciona visibilidad del nivel de seguridad en todos los servicios, tanto en Azure como en el entorno local. El término nivel de seguridad se refiere a las directivas y a los controles de ciberseguridad.

### Security Center puede:

* Supervisar la configuración de seguridad en las cargas de trabajo locales y en la nube.

* Aplicar automáticamente la configuración de seguridad necesaria a los nuevos recursos a medida que se publican en línea.

* Proporcionar recomendaciones de seguridad basadas en las configuraciones, los recursos y las redes actuales.

* Supervisar de forma continua los recursos y realizar valoraciones de seguridad automáticas para identificar posibles vulnerabilidades antes de que alguien las aproveche.

* Usar el aprendizaje automático para detectar y bloquear la instalación de malware en las máquinas virtuales (VM) y otros recursos. También puede usar controles de aplicaciones adaptables para definir reglas que indiquen las aplicaciones permitidas a fin de garantizar que solo se puedan ejecutar las aplicaciones permitidas.

* Detectar y analizar posibles ataques entrantes e investigar amenazas y otras actividades posteriores a una brecha que pudieran haberse producido.

* Proporcionar control de acceso Just-in-Time a los puertos de red. Esto reduce la superficie expuesta a ataques al garantizar que la red solo permite el tráfico necesario en el momento en que se necesita.

## *Reconocimiento del nivel de seguridad*

### Tailwind Traders puede usar Security Center para obtener un análisis detallado de los distintos componentes de su entorno. Como los recursos de la empresa se analizan con respecto a los controles de seguridad de cualquier directiva de gobernanza que haya asignado, puede ver su cumplimiento normativo general desde una perspectiva de seguridad desde una sola ubicación.

![cumplimiento](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/2-security-center-compliance.png)

### En la sección Protección de seguridad de recursos, Tailwind Traders puede ver el estado de sus recursos desde una perspectiva de seguridad. Para facilitar la clasificación por orden de prioridad de las acciones correctivas, las recomendaciones se clasifican como de gravedad baja, media y alta. 

![puntuacion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/2-security-center-dashboard.png)

## *¿Qué es la puntuación de seguridad?*

### La puntuación de seguridad es una medida del nivel de seguridad de una organización.

### La puntuación de seguridad se basa en controles de seguridad, o en grupos de recomendaciones de seguridad relacionadas. La puntuación se basa en el porcentaje de controles de seguridad que se satisfacen. Cuantos más controles de seguridad se satisfacen, mayor es la puntuación que se recibe.

### Este es un ejemplo de Azure Portal en el que se muestra una puntuación del 57 por ciento, o 34 de 60 puntos.

![seguridad](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/2-single-secure-score-via-ui.png)

### La puntuación de seguridad ayuda a:
* Notificar el estado actual del nivel de seguridad de la organización.

* Mejorar el nivel de seguridad al proporcionar detectabilidad, visibilidad, orientación y control.

* Comparar con los puntos de referencia y establecer indicadores clave de rendimiento (KPI).


## *Protección frente a amenazas*

### Security Center incluye funciones avanzadas de defensa en la nube para máquinas virtuales, seguridad de red e integridad de archivos.

* **Acceso de máquina virtual Just-In-Time**
   * Este acceso bloquea el tráfico de forma predeterminada en puertos de red específicos de máquinas virtuales, pero permite el tráfico durante un tiempo especificado cuando un administrador lo solicita y lo aprueba.

* **Controles de aplicación adaptables** 
    * En segundo plano, Security Center usa aprendizaje automático para examinar los procesos que se ejecutan en una máquina virtual. Crea reglas de excepción para cada grupo de recursos que contiene las máquinas virtuales y proporciona recomendaciones. Este proceso proporciona alertas que notifican a la empresa si hay aplicaciones no autorizadas en ejecución en sus máquinas virtuales.
* **Protección de red adaptable**

    * Security Center puede supervisar los patrones de tráfico de Internet de las máquinas virtuales y compararlos con la configuración actual de los grupos de seguridad de red (NSG) de la empresa. A partir de ahí, Security Center puede hacer recomendaciones sobre si los NSG deben bloquearse más y proporcionar pasos de corrección.

* **Supervisión de la integridad de los archivos**
    * También se puede configurar la supervisión de los cambios en archivos importantes tanto en Windows como en Linux, la configuración del registro, las aplicaciones y otros aspectos que podrían indicar un ataque de seguridad.

## *Responder a alertas de seguridad*

### Tailwind Traders puede usar Security Center para obtener una vista centralizada de todas sus alertas de seguridad. 

### La automatización de flujo de trabajo usa conectores de Azure Logic Apps y Security Center. La aplicación lógica se puede desencadenar mediante una alerta de detección de amenazas o una recomendación de Security Center, filtrada por nombre o por gravedad. Luego, se puede configurar para que ejecute una acción, como enviar un correo electrónico o publicar un mensaje en un canal de Microsoft Teams.

## *Detección de amenazas de seguridad y respuesta a ellas mediante Azure Sentinel*

### La administración de la seguridad a gran escala puede beneficiarse de un sistema de administración de eventos e información de seguridad (SIEM) dedicado. Un sistema SIEM agrega datos de seguridad de muchos orígenes diferentes (siempre y cuando esos orígenes admitan un formato de registro de estándar abierto).

### Azure Sentinel es el sistema SIEM basado en la nube de Microsoft. Usa análisis de seguridad inteligente y análisis de amenazas.

## *Capacidades de Azure Sentinel*

### Azure Sentinel permite:

* Recopilar datos en la nube a gran escala

  * Recopile datos de todos los usuarios, dispositivos, aplicaciones e infraestructura, tanto locales como de varias nubes.

* Detectar amenazas no detectadas anteriormente

  * Minimice los falsos positivos mediante el análisis exhaustivo y la inteligencia sobre amenazas de Microsoft.

* Investigar amenazas con inteligencia artificial
  * Examine actividades sospechosas a gran escala y aproveche años de experiencia de ciberseguridad de Microsoft.
* Responder a incidentes rápidamente
  * Use la orquestación integrada y la automatización de tareas comunes.

## *Conexión de los orígenes de datos*

### Azure Sentinel admite una serie de orígenes de datos que puede analizar en busca de eventos de seguridad. Estas conexiones las administran conectores integrados o API y formatos de registro estándar del sector.

* **Conexión de soluciones de Microsoft**

  * Los conectores proporcionan integración en tiempo real para servicios como las soluciones de Protección contra amenazas de Microsoft, orígenes de Microsoft 365 (incluido Office 365), Azure Active Directory y Firewall de Windows Defender.

* **Conexión con otros servicios y soluciones**
  * Hay conectores disponibles para servicios y soluciones comunes que no son de Microsoft, incluidos AWS CloudTrail, Citrix Analytics (Security), Sophos XG Firewall, VMware Carbon Black Cloud y Okta SSO.

* **Conexión con orígenes de datos estándar del sector**
  * Azure Sentinel admite datos de otros orígenes que usan el estándar de mensajería Formato de evento común (CEF), Syslog o la API REST.

## *Detectar amenazas*

### Los análisis integrados usan plantillas diseñadas por el equipo de expertos y analistas de seguridad de Microsoft que se basan en amenazas conocidas, vectores de ataque comunes y cadenas de escalado de actividades sospechosas. Estas plantillas se pueden personalizar y buscan cualquier actividad que parezca sospechosa en el entorno. 

### Los análisis personalizados son reglas que se crean para buscar criterios concretos en el entorno. Se puede obtener una vista previa del número de resultados que generaría la consulta (en función de eventos de registro pasados) y establecer una programación para que se ejecute la consulta. 

## *Investigación y respuesta*

### Cuando Azure Sentinel detecta eventos sospechosos, Tailwind Traders puede investigar alertas o incidentes (un grupo de alertas relacionadas) concretos. Con el grafo de investigación, la empresa puede revisar información de entidades directamente conectadas a la alerta y ver consultas de exploración comunes para ayudar a guiar la investigación.

![azure_sentinel](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/3-investigate-incidents.png#lightbox)

### La empresa también usará Libros de Azure Monitor para automatizar las respuestas a las amenazas. Por ejemplo, puede establecer una alerta que busque direcciones IP malintencionadas que accedan a la red y crear un libro que siga estos pasos:

### 1.Cuando se desencadene la alerta, abrir una incidencia en el sistema de incidencias de TI.

### 2.Enviar un mensaje al canal de operaciones de seguridad de Microsoft Teams o Slack para asegurarse de que los analistas de seguridad conocen el incidente.

### 3.Enviar toda la información de la alerta al administrador de red sénior y al administrador de seguridad. El mensaje de correo electrónico incluye dos botones de opción de usuario: Bloquear u Omitir.

### Cuando un administrador selecciona Bloquear, la dirección IP se bloquea en el firewall y el usuario se deshabilita en Azure Active Directory. Cuando un administrador selecciona Omitir, la alerta se cierra en Azure Sentinel y el incidente se cierra en el sistema de incidencias de TI.

## *Almacenamiento y administración de secretos mediante Azure Key Vault*

### Azure Key Vault es un servicio en la nube centralizado para almacenar los secretos de la aplicación en una única ubicación central. Proporciona un acceso seguro a la información confidencial mediante capacidades de control de acceso y registro.

## *¿Qué puede hacer Azure Key Vault?*

### Azure Key Vault puede ayudar a:

* **Administración de secretos**
   * Puede usar Key Vault para almacenar de forma segura y controlar exhaustivamente el acceso a tokens, contraseñas, certificados, claves de API y otros secretos.
* **Administrar claves de cifrado**
   * Puede usar Key Vault como solución de administración de claves. Key Vault facilita la creación y el control de las claves de cifrado que se emplean para cifrar los datos.

* **Administrar certificados SSL/TLS**
   * Key Vault permite aprovisionar, administrar e implementar los certificados públicos y privados de Capa de sockets seguros/Seguridad de la capa de transporte (SSL/TLS) de los recursos de Azure y los recursos internos.
* **Almacenar secretos respaldados por módulos de seguridad de hardware (HSM)**
   * Estas claves y secretos se pueden proteger mediante software o mediante HSM validados por FIPS 140-2 nivel 2.
![keyvault](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/4-key-vault-certificates.png)

## *¿Cuáles son las ventajas de Azure Key Vault?*

### Las ventajas del uso de Key Vault incluyen:
* Secretos de aplicación centralizados

    * La centralización del almacenamiento de los secretos de la aplicación permite controlar su distribución y reduce las posibilidades de que se filtren accidentalmente.
* Secretos y claves almacenados de forma segura
    * Azure usa algoritmos estándar del sector, longitudes de clave y HSM. El acceso a Key Vault requiere una autenticación y autorización adecuadas.

* Supervisión y control de acceso

    * Con Key Vault, puede supervisar y controlar el acceso a los secretos de la aplicación.

* Administración simplificada de secretos de aplicación

     * Key Vault facilita la inscripción y la renovación de certificados de entidades de certificación (CA) públicas. También puede escalar verticalmente y replicar contenido dentro de las regiones y usar herramientas de administración de certificados estándar.
* Integración con otros servicios de Azure
     * Puede integrar Key Vault con cuentas de almacenamiento, registros de contenedor, centros de eventos y muchos más servicios de Azure. Después, estos servicios pueden hacer referencia de forma segura a los secretos almacenados en Key Vault.


## *Ejercicio: Administración de una contraseña en Azure Key Vault*

### En este ejercicio se agrega una contraseña a Azure Key Vault. Una contraseña es un ejemplo de información confidencial que se debe proteger. Luego se lee la contraseña desde Azure Key Vault para comprobar que es accesible.

### En la práctica, hay varias maneras de agregar secretos y de leer secretos en Key Vault. Puede usar Azure Portal, la CLI de Azure o Azure PowerShell. Mediante el lenguaje de programación que prefiera, las aplicaciones también pueden acceder de forma segura a los secretos que necesiten.

### La CLI de Azure es una manera de trabajar con recursos de Azure desde la línea de comandos o desde scripts. Cloud Shell es una experiencia de shell basada en el explorador para administrar y desarrollar recursos de Azure. Piense en Cloud Shell como una consola interactiva que se ejecuta en la nube.

## *Creación de un Almacén de claves*

* 1.Vaya a Azure Portal.
* 2.En el menú de Azure Portal o en la página de Inicio, seleccione Crear un recurso.
* 3.En la barra de búsqueda, escriba Almacén de claves y, después, seleccione Almacén de claves en los resultados.
* 4.En el panel Almacén de claves, seleccione Crear. Aparece el panel para crear el almacén de claves.
* 5.En la pestaña Datos básicos, rellene los valores siguientes para cada parámetro.
### NOTA Reemplace NNN por una serie de números. Esto ayuda a garantizar que el nombre del almacén de claves sea único.

|Setting |Value|
|--------|-----|
|**Detalles del proyecto**	|                      |
|Suscripción	|Suscripción de Concierge|
|Grupo de recursos	|[nombre del grupo de recursos del espacio aislado]|
|**Detalles de instancia**|                   |
|Nombre del almacén de claves	|my-keyvault-NNN|

### Deje las otras opciones de configuración con sus valores predeterminados.

* 6.Seleccione Revisar y crear y, una vez superada la validación, seleccione Crear. Espere a que la implementación se complete correctamente.

* 7.Haga clic en Go to resource (Ir al recurso).

* 8.Observe algunos detalles sobre el almacén de claves.
Por ejemplo, en el campo Vault URI (URI del almacén) se muestra el URI que puede usar la aplicación para acceder al almacén desde la API de REST.

![vaulturi](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/5-portal-key-vault-overview.png)

* 9.Como paso opcional, puede examinar algunas de las otras características en Configuración, en el panel de menús de la izquierda.

### Aunque inicialmente están vacías, aquí encontrará ubicaciones donde puede almacenar claves, secretos y certificados.
### La suscripción de Azure es la única que está autorizada a acceder a este almacén. En Configuración, la característica Directivas de acceso permite configurar el acceso al almacén.

## *Adición de una contraseña al almacén de claves*
* 1.En el panel de menús de la izquierda, en Configuración, seleccione Secretos. Aparecerá el panel del almacén de claves.

* 2.En la barra de menús superior, seleccione Generar/Importar. Aparecerá el panel para crear un secreto.

* 3.Rellene los siguientes valores para cada configuración.

|Configuración	|Value|
|---------------|-----|
|Opciones de carga	|Manual|
|Nombre	|MyPassword|
|Value|hVFkk96|

### Deje las otras opciones de configuración con sus valores predeterminados. Tenga en cuenta que puede especificar propiedades como la fecha de activación y la de expiración. También puede deshabilitar el acceso al secreto.

* 4.Seleccione Crear.

## *Mostrar la contraseña*

### Aquí se accede a la contraseña del almacén de claves dos veces. En primer lugar se accede desde Azure Portal. Luego se accede desde la CLI de Azure.

* 1.En el panel Almacén de claves/Secretos, seleccione MyPassword. Aparecerá el panel MyPassword/Versiones. Se ve que la versión actual está habilitada.

* 2.Seleccione la versión actual. Aparecerá el panel Versión del secreto. En Identificador secreto se ve un URI que ahora puede usar con las aplicaciones para acceder al secreto. Recuerde que solo las aplicaciones autorizadas pueden acceder a este secreto.

* 3.Seleccione Mostrar valor secreto.
![val](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/5-portal-secret-value.png)

* 4.Ejecute este comando en Cloud Shell.
### Reemplace <my-keyvault-NNN> por el nombre que usó anteriormente.

  ## CLI de Azure
  ### az keyvault secret show \
  ### --name MyPassword \
  ### --vault-name <my-keyvault-NNN> \
  ### --query value \
  ### --output tsv
  
  ## Resultado
  ### hVFkk96

###  En este punto, tiene un almacén de claves que contiene un secreto de contraseña que se almacena de forma segura para su uso con las aplicaciones.

## *Limpieza*

### Al trabajar en una suscripción propia, se recomienda identificar al final de un proyecto si aún necesita los recursos creados. Los recursos que se dejan en ejecución pueden costarle mucho dinero. Puede eliminar los recursos de forma individual o eliminar el grupo de recursos para eliminar todo el conjunto de recursos.

## *Hospedaje de máquinas virtuales de Azure en servidores físicos dedicados mediante Azure Dedicated Host*

### En Azure, las máquinas virtuales (VM) se ejecutan en hardware compartido administrado por Microsoft. Aunque el hardware subyacente se comparte, las cargas de trabajo de las máquinas virtuales están aisladas de las que ejecutan otros clientes de Azure.

### Algunas organizaciones deben ajustarse a un cumplimiento normativo que las obliga a ser el único cliente que usa el equipo físico en el que se hospedan sus máquinas virtuales. Azure Dedicated Host proporciona servidores físicos dedicados para hospedar las máquinas virtuales de Azure para Windows y Linux.

### Este es un diagrama en el que se muestra la relación entre las máquinas virtuales y los hosts dedicados y los grupos host. Un host dedicado se asigna a un servidor físico en un centro de datos de Azure. Un grupo host es una colección de hosts dedicados.

![host](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/6-dedicated-hosts.png)

## *¿Cuáles son las ventajas de Azure Dedicated Host?*
### Azure Dedicated Host:

* Ofrece visibilidad y control sobre la infraestructura de servidor que ejecuta las máquinas virtuales de Azure.

* Ayuda a satisfacer requisitos de cumplimiento mediante la implementación de las cargas de trabajo en un servidor aislado.

* Permite elegir el número de procesadores, capacidades de servidor, series de máquinas virtuales y tamaños de máquina virtual dentro del mismo host.

## *Consideraciones de disponibilidad de Dedicated Host*

### Para lograr una alta disponibilidad, puede aprovisionar varios hosts en un grupo host e implementar las máquinas virtuales en este grupo. Las máquinas virtuales en hosts dedicados también pueden aprovechar las ventajas del control de mantenimiento. Esta característica permite controlar cuándo se producen las actualizaciones de mantenimiento regulares, dentro de una ventana gradual de 35 días.

## *Consideraciones sobre precios*

### Se cobra por host dedicado, con independencia de cuántas máquinas virtuales se implementen en él. El precio del host se basa en la familia de máquinas virtuales, el tipo (tamaño de hardware) y la región.

### Las licencias de software, el almacenamiento y el uso de red se facturan por separado al host y las máquinas virtuales. Para obtener más información, vea Precios de Azure Dedicated Host.


## *Prueba de conocimientos*

### Tailwind Traders va a migrar su sistema de pago en línea desde su centro de datos a la nube. El sistema de pago consta de máquinas virtuales (VM) y bases de datos de SQL Server.

### Estos son algunos requisitos de seguridad que la empresa identifica a medida que planea la migración:

* Quieren garantizar un buen nivel de seguridad en todos los sistemas, tanto en Azure como en el entorno local.
* En el centro de datos, se necesita un certificado TLS para el acceso a las máquinas virtuales. La empresa necesita una ubicación para almacenar y administrar sus certificados de forma segura.

### Estos son algunos requisitos adicionales relacionados con el cumplimiento normativo:

* Tailwind Traders debe almacenar determinados datos de los clientes en el entorno local, en su centro de datos.
* En el caso de ciertas cargas de trabajo, la empresa debe ser el único cliente que ejecute máquinas virtuales en el hardware físico.
* Solo se deben ejecutar aplicaciones empresariales aprobadas en cada máquina virtual.
### Vea el siguiente diagrama que muestra la arquitectura propuesta.
![diagrama](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/protect-against-security-threats-azure/media/7-architecture.png)

### En Azure, Tailwind Traders va a usar tanto máquinas virtuales estándar como máquinas virtuales que se ejecutan en hardware físico dedicado.

## *Comprobación de conocimientos*
### 1. ¿Cómo puede Tailwind Traders conseguir que solo se ejecuten en sus máquinas virtuales determinadas aplicaciones?

### Con Azure Security Center puede definir una lista de aplicaciones permitidas para asegurarse de que solo se puedan ejecutar las permitidas. Azure Security Center también puede detectar y bloquear la instalación de malware en las máquinas virtuales.

### 2. ¿Cuál es la forma más sencilla de que Tailwind Traders combine los datos de seguridad de todas sus herramientas de supervisión en un único informe sobre el que pueda tomar medidas?
### Azure Sentinel es el SIEM basado en la nube de Microsoft. Un SIEM agrega datos de seguridad de muchos orígenes diferentes para proporcionar capacidades adicionales para la detección de amenazas y la respuesta a estas.
### 3. ¿Cuál es la mejor manera de que Tailwind Traders almacene sus certificados de forma segura a fin de que sean accesibles para sus máquinas virtuales en la nube?
### Azure Key Vault permite almacenar los secretos en una única ubicación central. Key Vault también facilita la inscripción y la renovación de certificados de entidades de certificación (CA) públicas.
### 4. ¿Cómo puede Tailwind Traders garantizar que determinadas cargas de trabajo de máquinas virtuales estén físicamente aisladas de las que se ejecutan en otros clientes de Azure?
### Azure Dedicated Host proporciona servidores físicos dedicados para hospedar las máquinas virtuales de Azure para Windows y Linux.

# **28.-Conectividad de red segura en Azure**

## *¿Qué es la defensa en profundidad?*

### La ejecución en el entorno local implica que es responsable de todos los aspectos de la seguridad, desde el acceso físico a los edificios hasta el modo en que los datos entran y salen de la red. La empresa quiere saber cómo se compara su estrategia de defensa actual en profundidad con la ejecución en la nube.

### El objetivo de la defensa en profundidad es proteger la información y evitar que personas no autorizadas a acceder a ella puedan sustraerla.

### Una estrategia de defensa en profundidad usa una serie de mecanismos para ralentizar el avance de un ataque dirigido a adquirir acceso no autorizado a los datos.

## *Capas de la defensa en profundidad*

### La defensa en profundidad se puede visualizar como un conjunto de capas, con los datos que se deben proteger en el centro.

![capas](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-defense-depth.png)

### Cada capa proporciona protección de modo que, si se produce una brecha en una capa, ya existe otra en funcionamiento para evitar una mayor exposición. Este enfoque elimina la dependencia de cualquier capa de protección única. 

* La capa de seguridad física es la primera línea de defensa para proteger el hardware informático del centro de datos.

* La capa de identidad y acceso controla el acceso a la infraestructura y al control de cambios.

* La capa perimetral usa protección frente a ataques de denegación de servicio distribuido (DDoS) para filtrar los ataques a gran escala antes de que puedan causar una denegación de servicio para los usuarios.

* La capa de red limita la comunicación entre los recursos a través de controles de acceso y segmentación.

* La capa de proceso protege el acceso a las máquinas virtuales.

* La capa de aplicación ayuda a garantizar que las aplicaciones sean seguras y estén libres de vulnerabilidades de seguridad.

* La capa de datos controla el acceso a los datos empresariales y de clientes que es necesario proteger.

### Veamos cada capa con más detalle:

![fisica](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-physical-security.png)

### **Seguridad física**

### La protección física del acceso a los edificios y el control del acceso al hardware de proceso del centro de datos son la primera línea de defensa.

### La intención de la seguridad física es proporcionar medidas de seguridad físicas contra el acceso a los recursos. Estas medidas garantizan que no se puedan omitir otras capas y se controle apropiadamente la pérdida o el robo.

![identidad](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-policies-access.png)

### **Identidad y acceso**

### En esta capa, es importante que realice lo siguiente:
* Controle el acceso a la infraestructura y al control de cambios.

* Use el inicio de sesión único (SSO)y la autenticación multifactor.

* Audite los eventos y los cambios.

### La capa de identidad y acceso consiste en garantizar que las identidades están protegidas, que solo se otorga el acceso necesario y que se registran los cambios y los eventos de inicio de sesión.

![perimetro](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-perimeter.png)


### **Perimetro**
### En esta capa, es importante que realice lo siguiente:

* Use protección contra DDoS para filtrar los ataques a gran escala antes de que puedan afectar a la disponibilidad de un sistema para los usuarios.

* Use firewalls perimetrales para identificar los ataques malintencionados contra la red y alertar sobre ellos.

### En el perímetro de la red, se trata de la protección frente a ataques basados en red contra los recursos. Identificar estos ataques, eliminar sus repercusiones y recibir alertas sobre ellos cuando suceden son formas importantes de proteger la red.


![network](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-networking.png)

### **Network**

### En esta capa, es importante que realice lo siguiente:

* Limite la comunicación entre los recursos.
* Deniegue de forma predeterminada.
* Restrinja el acceso entrante de Internet y limite el saliente cuando sea apropiado.
* Implemente conectividad segura a las redes locales.

### En esta capa, el enfoque está en limitar la conectividad de la red en todos los recursos para permitir solo la necesaria. Al limitar esta comunicación, se reduce el riesgo de que se propaguen los ataques a otros sistemas de la red.

![proceso](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-compute.png)

### **Proceso**

### En esta capa, es importante que realice lo siguiente:
* Proteja el acceso a las máquinas virtuales.

* Implemente la protección del punto de conexión de los dispositivos y mantenga los sistemas revisados y actualizados.

### El software malintencionado, los sistemas sin revisiones aplicadas y los sistemas protegidos inadecuadamente abren el entorno a los ataques. El enfoque en esta capa es asegurarse de que sus recursos de proceso estén seguros y de que cuenta con los controles adecuados para minimizar los problemas de seguridad.

![aplicacion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-application.png)

### **Aplicación**

### En esta capa, es importante que realice lo siguiente:
* Garantice que las aplicaciones son seguras y están libres de vulnerabilidades.

* Almacene los secretos de aplicación confidenciales en un medio de almacenamiento seguro.

* Convierta la seguridad en un requisito de diseño en todo el desarrollo de aplicaciones.

### La integración de la seguridad en el ciclo de vida de desarrollo de aplicaciones ayuda a reducir el número de vulnerabilidades en el código. Todos los equipos de desarrollo deberían asegurarse de que sus aplicaciones son seguras de forma predeterminada.


![datos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/2-data.png)

### **Datos**
### En casi todos los casos, los atacantes intentan conseguir datos:

* Almacenados en una base de datos.

* Almacenados en discos en máquinas virtuales.

* Almacenados en aplicaciones de software como servicio (SaaS), como Office 365.

* Administrados mediante el almacenamiento en la nube.

### Los que almacenan y controlan el acceso a los datos son responsables de asegurarse de que están protegidos correctamente. A menudo, los requisitos legales dictan los controles y procesos que deben cumplirse para garantizar la confidencialidad, la integridad y la disponibilidad de los datos.

## *Posición de seguridad*

### El nivel de seguridad es la capacidad de su organización de protegerse frente a amenazas de seguridad y responder a ellas. Los principios comunes usados para definir un nivel de seguridad son la confidencialidad, la integridad y la disponibilidad, lo que se conoce colectivamente como CIA por sus siglas en inglés.

* Confidencialidad

   * El principio de privilegios mínimos implica restringir el acceso a la información únicamente a los usuarios a las que se concede acceso de forma explícita, solo al nivel necesario para realizar su trabajo. Esta información incluye la protección de contraseñas de usuario, contenido de correo electrónico y niveles de acceso a las aplicaciones y a la infraestructura subyacente.

* Integridad

   * Evitar cambios no autorizados en la información:

   * En reposo: cuando se almacenan.
     En tránsito: cuando se transfieren de un lugar a otro, incluido desde un equipo local a la nube.

### Un enfoque común que se usa en la transmisión de datos es la creación de una huella digital única de los datos por parte del remitente mediante un algoritmo hash unidireccional. El hash se envía al receptor junto con los datos. El receptor vuelve a calcular el hash de los datos y lo compara con el original para asegurarse de que los datos no se han perdido ni modificado en tránsito.

* Disponibilidad

  * Asegúrese de que los servicios funcionan y que solo pueden acceder a ellos los usuarios autorizados. Los ataques por denegación de servicio están diseñados para degradar la disponibilidad de un sistema, lo que afecta a sus usuarios.

## *Protección de redes virtuales mediante el uso de Azure Firewall*

### Un firewall es un dispositivo de seguridad de red que supervisa el tráfico de red entrante y saliente y decide si se permite o bloquea un tráfico específico en función de un conjunto definido de reglas de seguridad. Puede crear reglas de firewall que especifiquen intervalos de direcciones IP. 

###  Solo los clientes a los que se les hayan concedido direcciones IP de dentro de dichos intervalos pueden acceder al servidor de destino. Las reglas de firewall también pueden incluir información específica de puertos y protocolos de red.

### En la actualidad, Tailwind Traders ejecuta dispositivos de firewall, que combinan hardware y software, para proteger su red local. Para funcionar, estos dispositivos de firewall necesitan una cuota de licencia mensual, y que el personal de TI realice un mantenimiento rutinario. A medida que Tailwind Traders se cambia a la nube, el administrador de TI quiere saber qué servicios de Azure pueden proteger las redes en la nube y las redes locales de la empresa.

## *¿Qué es Azure Firewall?*

### Azure Firewall es un servicio de seguridad de red administrado y basado en la nube que ayuda a proteger los recursos en las redes virtuales de Azure. Una red virtual es similar a una red tradicional con la que trabajaría en su propio centro de datos. Es un bloque de creación fundamental para la red privada que permite que las máquinas virtuales y otros recursos de proceso se comuniquen de forma segura entre sí, con Internet y con redes locales.

![azure_firewall](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/3-firewall-overview-large.png#lightbox)

### Azure Firewall es un firewall con estado. Un firewall con estado analiza el contexto completo de una conexión de red, no solo un paquete individual de tráfico de red. Azure Firewall incluye alta disponibilidad y escalabilidad en la nube sin restricciones.

### Azure Firewall proporciona una ubicación central para crear, aplicar y registrar directivas de conectividad de red y de aplicaciones entre suscripciones y redes virtuales. Azure Firewall usa una dirección IP pública estática (invariable) para los recursos de redes virtuales, lo que permite que los firewall externos identifiquen el tráfico entrante de redes virtuales. El servicio se integra con Azure Monitor para habilitar el registro y el análisis.

### Azure Firewall proporciona muchas características, entre las que se incluyen:

* Alta disponibilidad integrada
* Escalabilidad en la nube sin restricciones.

* Reglas de filtrado entrante y saliente.

* Compatibilidad con la traducción de direcciones de red de destino (DNAT).

* El registro de Azure Monitor.

## *¿Qué se puede configurar con Azure Firewall?*


### Con Azure Firewall, puede configurar:

* Reglas de aplicación que definen los nombres de dominio completos (FQDN) a los que se puede acceder desde una subred.

* Reglas de red que definen la dirección de origen, el protocolo, el puerto de destino y la dirección de destino.

* Reglas de traducción de direcciones de red (NAT) que definen los puertos y las direcciones IP de destino para traducir las solicitudes entrantes.

### Azure Application Gateway también proporciona un firewall, denominado firewall de aplicaciones web (WAF). El firewall de aplicaciones web proporciona protección entrante centralizada para las aplicaciones web contra vulnerabilidades de seguridad comunes. Azure Front Door y Azure Content Delivery Network también proporcionan servicios de firewall de aplicaciones web.

## *Protección contra ataques de DDoS mediante el uso de Azure DDoS Protection*

### Cualquier compañía de gran tamaño puede ser objeto de un ataque de red a gran escala. Tailwind Traders no es una excepción. Los atacantes podrían inundar la red para crear una instrucción o simplemente por el desafío. A medida que se traslada a la nube, Tailwind Traders quiere comprender cómo Azure puede ayudarle a evitar los ataques de denegación de servicio distribuido (DDoS), entre otros.

## *¿Qué son los ataques DDoS?*

### Un ataque de denegación de servicio distribuido intenta sobrecargar y agotar los recursos de una aplicación, lo que provoca que sea lenta o no responda a los usuarios legítimos. Los ataques DDoS pueden estar dirigidos a cualquier recurso que sea accesible públicamente a través de Internet, incluidos los sitios web.

## *¿Qué es Azure DDoS Protection?*

### Azure DDoS Protection (Estándar) ayuda a proteger sus recursos de Azure frente a ataques DDoS.

### Al combinar DDoS Protection con los procedimientos recomendados de diseño de aplicaciones, contribuye a la defensa frente a los ataques DDoS. DDoS Protection usa la escala y la elasticidad de la red global de Microsoft para incorporar capacidad de mitigación de DDoS a cada región de Azure. El servicio DDoS Protection ayuda a proteger las aplicaciones de Azure al analizar y descartar el tráfico de DDoS en la red perimetral de Azure antes de que afecte a la disponibilidad del servicio.
![ddos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/4-distributed-denial-service.png)

### La protección contra DDoS de Azure identifica el intento del atacante de sobrecargar la red y evita que llegue más tráfico de él, y asegura que el tráfico nunca llega a los servicios de Azure. El tráfico legítimo de los clientes sigue llegando a Azure sin ninguna interrupción del servicio.

### DDoS Protection también puede ayudarle a administrar el consumo de la nube. Al ejecutar de forma local, tiene un número fijo de recursos de proceso.

## *¿Qué niveles de servicio están disponibles para DDoS Protection?*

### DDoS Protection proporciona estos niveles de servicio:

* **Basic**

   El nivel de servicio básico está habilitado de forma automática sin coste como parte de la suscripción de Azure.

   La supervisión continua del tráfico y la mitigación en tiempo real de ataques de nivel de red comunes ofrecen la misma defensa que usan los servicios en línea de Microsoft. El nivel Básico garantiza que la infraestructura de Azure no se vea afectada durante un ataque DDoS a gran escala. 

* **Estándar**
    
    ### El nivel Estándar ofrece funcionalidades adicionales de mitigación adaptadas específicamente a los recursos de Azure Virtual Network. DDoS Protection Estándar es relativamente fácil de habilitar y no requiere ningún cambio en la aplicación.

    ### El nivel Estándar proporciona supervisión del tráfico siempre activa y mitigación en tiempo real de los ataques a nivel de red más comunes. Proporciona las mismas defensas que los servicios en línea de Microsoft.

## *¿Qué tipos de ataques ayuda a evitar DDoS Protection?*

### El nivel Estándar puede ayudar a evitar:

* **Ataques volumétricos**
    
    El objetivo de este ataque es desbordar la capa de red con una gran cantidad de tráfico aparentemente legítimo.

* **Ataques de protocolo**
    Estos ataques vuelven un destino inaccesible al aprovechar una vulnerabilidad en la pila de protocolo de capa 3 y 4.

* **Ataques de nivel de recurso (nivel de aplicación) (solo con el firewall de aplicaciones web)**

     Estos ataques van dirigidos a paquetes de aplicaciones web para interrumpir la transmisión de datos entre hosts. Necesita un firewall de aplicaciones web (WAF) para protegerse contra ataques de L7. DDoS Protection Estándar protege el firewall de aplicaciones web de los ataques de protocolo y volumétricos.

## *Filtrado del tráfico de red mediante grupos de seguridad de red*

### Aunque Azure Firewall y Azure DDoS Protection pueden ayudar a controlar el tráfico que puede provenir de orígenes externos, a Tailwind Traders también quiere saber cómo proteger sus redes internas en Azure. Esto le proporcionará una capa adicional de defensa contra los ataques.

## *¿Que son los grupos de seguridad de red?*

### Un grupo de seguridad de red permite filtrar el tráfico de red desde y hacia los recursos de Azure en una red virtual de Azure. Puede considerar los grupos de seguridad de red como un firewall interno. Un NSG puede contener varias reglas de seguridad entrantes y salientes que permiten filtrar el tráfico con los recursos por dirección IP de origen y destino, puerto y protocolo.

## *¿Cómo se especifican las reglas de NSG?*

### Un grupo de seguridad de red puede contener tantas reglas como sea necesario, dentro de los límites de suscripción de Azure. Cada regla especifica las siguientes propiedades:

|Propiedad  | Descripción  |
|-----------|--------------|
|Nombre     |Nombre único para el grupo de seguridad de red.|
|Priority|Un número entre 100 y 4096. Las reglas se procesan en orden de prioridad, donde los números más bajos se procesan antes que los números más altos.|
|Origen o destino	|Una dirección IP o intervalo de direcciones IP, una etiqueta de servicio o un grupo de seguridad de aplicaciones únicos.|
|Protocolo|TCP, UDP o cualquiera.|
|Dirección|Si la regla se aplica al tráfico entrante o al saliente.|
|Intervalo de puertos	|Un único puerto o un intervalo de puertos.|
|Acción	|Permitir o Denegar.|

### Cuando se crea un grupo de seguridad de red, Azure crea una serie de reglas predeterminadas para proporcionar un nivel de línea de base de seguridad. 

## *Ejercicio: configuración del acceso de red a una máquina virtual mediante un grupo de seguridad de red*

### En este ejercicio, configurará el acceso de red a una máquina virtual (VM) que se ejecuta en Azure.

### Para empezar, creará una máquina virtual Linux e instalará Nginx, un conocido servidor web, en esa máquina virtual. Para que el servidor web sea accesible, cree una regla de grupo de seguridad de red (NSG) que permita el acceso entrante en el puerto 80 (HTTP).

### Hay muchas formas de crear y administrar máquinas virtuales, incluida su configuración de red. Por ejemplo, puede usar la Azure Portal, la CLI de Azure, Azure PowerShell o una plantilla de Azure Resource Manager (ARM).

### Aquí, usará la CLI de Azure. La CLI de Azure le permite conectarse a Azure y ejecutar comandos administrativos en recursos de Azure. Al igual que con otras interfaces de la línea de comandos, puede ejecutar los comandos directamente desde un terminal o puede agregar comandos a un script de Bash o a un script de PowerShell. El CLI de Azure se ejecuta en Windows, macOS o Linux.

### Aquí, accede a la CLI de Azure desde Azure Cloud Shell. Cloud Shell es una experiencia de shell basado en el explorador que usa para administrar y desarrollar recursos de Azure. Piense en Cloud Shell como una consola interactiva que se ejecuta en la nube.

## *Creación de una máquina virtual Linux e instalación de Nginx*

### Use los comandos siguientes de la CLI de Azure para crear una máquina virtual Linux e instalar Nginx. Una vez creada la máquina virtual, usará la extensión de script personalizado para instalar Nginx. La extensión de script personalizado es una manera fácil de descargar y ejecutar scripts en máquinas virtuales de Azure. 

* **1.Desde Cloud Shell, ejecute el siguiente comando az vm create para crear una máquina virtual Linux:**
     ## *CLI de Azure*
      az vm create \
        --resource-group [sandbox resource group name] \
        --name my-vm \
        --image UbuntuLTS \
        --admin-username azureuser \
        --generate-ssh-keys
   ### La máquina virtual tardará unos minutos en aparecer.

   ### Asigne el nombre my-vm a la máquina virtual. Use este nombre para hacer referencia a la máquina virtual en los pasos posteriores.

* **2.Ejecute el siguiente comando az vm extension set para configurar Nginx en la máquina virtual:**
     ## *CLI de Azure*  

     az vm extension set \
        --resource-group [sandbox resource group name] \
        --vm-name my-vm \
        --name customScript \
        --publisher Microsoft.Azure.Extensions \
        --version 2.1 \
        --settings '{"fileUris":["https://raw.githubusercontent.com/MicrosoftDocs/mslearn-welcome-to-azure/master/configure-nginx.sh"]}' \
        --protected-settings '{"commandToExecute": "./configure-nginx.sh"}'

### Este comando usa la extensión de script personalizado para ejecutar un script de Bash en la máquina virtual. El script se almacena en GitHub.

### Mientras se ejecuta el comando, puede optar por examinar el script de Bash en una pestaña independiente del explorador.

### En resumen, el script hace lo siguiente:

* a. Ejecuta apt-get update para descargar la información más reciente del paquete desde Internet. Este paso ayuda a garantizar que el siguiente comando pueda encontrar la versión más reciente del paquete Nginx.
* b. Instala Nginx.
* c. Establece la página principal, /var/www/html/index.html, para que imprima un mensaje de bienvenida en el que se incluye el nombre de host de la máquina virtual.

## *Acceso al servidor web*

### En este procedimiento se obtiene la dirección IP de la máquina virtual y se intenta acceder a la página principal del servidor web.

* 1. Ejecute el siguiente comando az vm list-ip-addresses para obtener la dirección IP de la máquina virtual y almacenar el resultado como una variable de Bash:
     ## *CLI de Azure*

     IPADDRESS="$(az vm list-ip-addresses \
        --resource-group [sandbox resource group name] \
        --name my-vm \
        --query "[].virtualMachine.network.publicIpAddresses[*].ipAddress" \
        --output tsv)"

* 2.Ejecute el siguiente comando curl para descargar la página principal:
      ## *Bash*

      curl --connect-timeout 5 http://$IPADDRESS

### El argumento --connect-timeout especifica que se conceden hasta cinco segundos para que se produzca la conexión.

### Después de cinco segundos, verá un mensaje de error que indica que se ha agotado el tiempo de espera de la conexión:
   ### curl: (28) Connection timed out after 5001 milliseconds

### Este mensaje significa que no se pudo acceder a la máquina virtual dentro del tiempo de espera.

* 3.Como paso opcional, intente acceder al servidor web desde un explorador:

    a.Ejecute lo siguiente para imprimir la dirección IP de la máquina virtual en la consola:

### Bash
### echo $IPADDRESS

* b. Copie en el portapapeles la dirección IP que vea.
* Abra una pestaña nueva del explorador y vaya al servidor web.

* c. Abra una pestaña nueva del explorador y vaya al servidor web. Transcurridos unos instantes, verá que la conexión no se está produciendo. Si espera a que se agote el tiempo de espera del explorador, verá algo parecido a esto:
![timeout](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/7-browser-timeout.png)


## *Enumeración de las reglas del grupo de seguridad de red actuales*

### No se pudo acceder al servidor web. Para averiguar el motivo, vamos a examinar las reglas actuales del grupo de seguridad de red.


* 1. Ejecute el siguiente comando az network nsg list para que muestre los grupos de seguridad de red asociados a la máquina virtual:

## *CLI de Azure*

  az network nsg list \
     --resource-group [sandbox resource group name] \
      --query '[ ].name' \
      --output tsv
### Verá lo siguiente:
## *Resultado*
     my-vmNSG

### Cada máquina virtual de Azure está asociada a, al menos, un grupo de seguridad de red. En este caso, Azure le creó un grupo de seguridad de red denominado my-vmNSG.

* 2. Ejecute el siguiente comando az network nsg rule list para mostrar las reglas asociadas al grupo de seguridad de red denominado my-vmNSG:

## *CLI de Azure*
az network nsg rule list \
  --resource-group [sandbox resource group name] \
  --nsg-name my-vmNSG

### Verá un bloque grande de texto en formato JSON en la salida. En el paso siguiente, ejecutará un comando similar que facilita la lectura de este resultado.

* 3.Ejecute por segunda vez el comando az network nsg rule list.

### Esta vez, use el argumento --query para recuperar solo el nombre, la prioridad, los puertos afectados y el acceso (Permitir o Denegar) para cada regla.

### El argumento --output da formato a la salida como una tabla para que sea fácil de leer.

## *CLI de Azure*
az network nsg rule list \
  --resource-group [sandbox resource group name] \
  --nsg-name my-vmNSG \
  --query '[].{Name:name, Priority:priority, Port:destinationPortRange, Access:access}' \
  --output table
  ### Verá lo siguiente:

|Name              | Priority   | Port  |  Access|
----------------- | ---------- |------  |--------|
|default-allow-ssh | 1000       |22     | Allow|

### Verá la regla predeterminada default-allow-ssh. Esta regla permite conexiones entrantes a través del puerto 22 (SSH). SSH (Secure Shell) es un protocolo que se usa en Linux para permitir que los administradores accedan al sistema de forma remota.

### La prioridad de esta entrada es 1000. Las reglas se procesan en orden de prioridad, donde los números más bajos se procesan antes que los números más altos.

### De forma predeterminada, un grupo de seguridad de red de una máquina virtual de una máquina virtual Linux solo permite el acceso a la red en el puerto 22. Esto permite que los administradores accedan al sistema. También debe permitir las conexiones entrantes en el puerto 80, que permite el acceso a través de HTTP.

## *Creación de la regla de seguridad de red*

### En este caso, creará una regla de seguridad de red que permita el acceso de entrada en el puerto 80 (HTTP).

* 1.Ejecute el siguiente comando az network nsg rule create para crear una regla denominada allow-http que permita el acceso entrante en el puerto 80:

## *CLI de Azure

az network nsg rule create \
  --resource-group [sandbox resource group name] \
  --nsg-name my-vmNSG \
  --name allow-http \
  --protocol tcp \
  --priority 100 \
  --destination-port-ranges 80 \
  --access Allow

### Con fines de aprendizaje, aquí establecerá la prioridad en 100. En este caso, la prioridad no importa. Tendrá que tener en cuenta la prioridad si tuviera intervalos de puertos superpuestos.

* 2. Para comprobar la configuración, ejecute az network nsg rule list para ver la lista actualizada de reglas:

## *CLI de Azure*
az network nsg rule list \
  --resource-group [sandbox resource group name] \
  --nsg-name my-vmNSG \
  --query '[].{Name:name, Priority:priority, Port:destinationPortRange, Access:access}' \
  --output table

### Verá las dos reglas, default-allow-ssh y la nueva regla allow-http:

## *Resultado*
|Name              | Priority   | Port  |  Access|
|----------------- | ---------- | ------ | --------|
|default-allow-ssh|  1000      |  22    |  Allow|
|allow-http        | 100       |  80    |  Allow|

## *Volver a acceder al servidor web*

### Ahora que ha configurado el acceso de red al puerto 80, vamos a intentar acceder al servidor web una segunda vez.

* 1.Ejecute el mismo comando curl que ha ejecutado antes:

### curl --connect-timeout 5 http://$IPADDRESS

### Verá lo siguiente:

## *HTML*

### < html >< body >< h2 >Welcome to Azure! My name is my-vm.< /h2 ></body >< /html >

* 2. Como paso opcional, actualice la pestaña del explorador que apunta al servidor web.

### Verá lo siguiente:
![PANTALLA](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/7-browser-success.png)

## *Limpieza*
### El espacio aislado limpia los recursos automáticamente cuando haya terminado con este módulo.

### Al trabajar en una suscripción propia, se recomienda identificar al final de un proyecto si aún necesita los recursos creados. Los recursos que se dejan en ejecución pueden costarle mucho dinero. Puede eliminar los recursos de forma individual o eliminar el grupo de recursos para eliminar todo el conjunto de recursos.

## *Combinación de servicios de Azure para crear una solución de seguridad de red completa*

### Al considerar una solución de seguridad de Azure, tenga en cuenta todos los elementos de la defensa en profundidad.

## *Protección de la capa perimetral*

### La capa perimetral trata sobre la protección de los recursos de su organización frente a ataques basados en red. Identificar estos ataques, alertar a los equipos de seguridad adecuados y eliminar su impacto es importante para proteger la red. Para ello, siga estos pasos:

* Use Azure DDoS Protection para filtrar los ataques a gran escala antes de que puedan causar una denegación de servicio para los usuarios.

* Use firewalls perimetrales con Azure Firewall para identificar los ataques malintencionados contra la red y alertar sobre ellos.

## *Protección de la capa de red*

### En esta capa, el enfoque está en limitar la conectividad de la red en todos los recursos para permitir solo la necesaria. Segmente los recursos y use controles de nivel de red para restringir la comunicación a lo imprescindible.

### Al restringir esta conectividad, se reduce el riesgo de desplazamiento lateral en la red ante un ataque. Use los grupos de seguridad de red para crear reglas que definan qué comunicación entrante y saliente se permite en esta capa. Estos son algunos procedimientos recomendados:

* Limite la comunicación entre los recursos mediante la segmentación de la red y la configuración de controles de acceso.

* Deniegue de forma predeterminada.

* Restrinja el acceso entrante de Internet y limite el saliente cuando sea apropiado.

* Implemente conectividad segura a las redes locales.

## *Combinación de servicios*

### También puede combinar los servicios de redes y seguridad de Azure para administrar la seguridad de red y proporcionar mayor protección por capas. 

* **Grupos de seguridad de red y Azure Firewall**

### Azure Firewall complementa la funcionalidad de los grupos de seguridad de red. Juntos, proporcionan una mejor seguridad de la red de defensa en profundidad.

### Los grupos de seguridad de red proporcionan filtrado de tráfico distribuido a nivel de red para limitar el tráfico a los recursos dentro de las redes virtuales de cada suscripción.

### Azure Firewall es un firewall de red como servicio centralizado y con estado completo. Proporciona protección de nivel de red y de aplicación en diferentes suscripciones y redes virtuales.

* **Firewall de aplicaciones web de Azure Application Gateway y Azure Firewall**

### El firewall de aplicaciones web (WAF) es una característica de Azure Application Gateway que proporciona a las aplicaciones web una protección entrante centralizada contra vulnerabilidades de seguridad comunes.

### Azure Firewall proporciona lo siguiente:
  * Protección entrante para protocolos que no son HTTP/S (por ejemplo, RDP, SSH y FTP).

  * Protección de nivel de red de salida para todos los puertos y protocolos.
  * Protección de nivel de aplicación para HTTP/S saliente.

### La combinación de todos ellos proporciona más niveles de protección.

## *Prueba de conocimientos*

### Tailwind Traders va a trasladar su sistema de pago en línea a Azure. El procesamiento de los pedidos en línea comienza a través de un sitio web, que Tailwind Traders administra a través de Azure App Service. (App Service es una manera de hospedar aplicaciones web en Azure).

### La aplicación web que ejecuta el sitio web pasa la información de los pedidos a las máquinas virtuales (VM), que siguen procesando cada uno de ellos. Estas máquinas virtuales se encuentran en una red virtual de Azure, pero necesitan acceder a Internet para recuperar paquetes de software y actualizaciones del sistema.

### En este diagrama se muestra la arquitectura básica del sistema de pago de la empresa:
![azureapp](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-network-connectivity-azure/media/8-architecture.png)

### El equipo de seguridad quiere asegurarse de que solo el tráfico de red válido llega a los recursos de Azure de la empresa. Como nivel de defensa adicional, también quieren asegurarse de que las máquinas virtuales solo pueden llegar a hosts de confianza en puertos concretos.

## *Comprobación de conocimientos*

### 1. Un atacante puede dejar fuera de servicio el sitio web enviando un gran volumen de tráfico de red a los servidores. ¿Qué servicio de Azure puede ayudar a Tailwind Traders a proteger su instancia de App Service ante este tipo de ataque?
### Azure DDos Protection (DDoS Protection ayuda a proteger sus recursos de Azure frente a ataques DDoS. Un ataque DDoS intenta sobrecargar y agotar los recursos de una aplicación, lo que provoca que la aplicación sea lenta o no responda a los usuarios legítimos.
)

### 2. ¿Cuál es la mejor forma para Tailwind Traders de limitar todo el tráfico saliente de máquinas virtuales a hosts conocidos?
### Crear reglas de aplicación en Azure Firewall (Azure Firewall le permite limitar el tráfico HTTP/S saliente a una lista especificada de nombres de dominio completos (FQDN).
)

### 3. ¿Cómo puede Tailwind Traders implementar con más facilidad una directiva Denegar de forma predeterminada para que las máquinas virtuales no se puedan conectar entre sí?
### Creando una regla de grupo de seguridad de red que impida el acceso desde otra máquina virtual de la misma red. (Una regla de grupo de seguridad de red le permite filtrar el tráfico desde y hacia los recursos por dirección IP de origen y destino, puerto y protocolo.
)

# **29.-Acceso seguro a las aplicaciones con servicios de identidad de Azure**

## *Diferencias entre autenticación y autorización*
### Recuerde que Tailwind Traders debe asegurarse de que solo los empleados pueden iniciar sesión y acceder a sus aplicaciones empresariales.

### Tailwind Traders también necesita asegurarse de que los empleados solo pueden acceder a las aplicaciones autorizadas.

### Hay dos conceptos fundamentales que deben entenderse al hablar sobre identidad y acceso: la autenticación (AuthN) y la autorización (AuthZ).

### La autenticación y la autorización admiten todo lo demás que se produzca. Aparecen de manera secuencial en el proceso de identidad y acceso.

## *¿Qué es la autenticación?*
### La autenticación es el proceso de establecimiento de la identidad de una persona o servicio que quiere acceder a un recurso. Implica el acto de solicitar a un usuario credenciales legítimas y proporciona la base para la creación de una entidad de seguridad para el control de identidad y de acceso. Determina si el usuario es quien dicen ser.
## *¿Qué es la autorización?*

### La autenticación establece la identidad del usuario, pero la autorización es el proceso de establecer el nivel de acceso que tiene una persona o un servicio autenticados. Especifica a qué datos puede acceder y qué puede hacer con ellos.

## *¿Qué relación existe entre la autenticación y la autorización?*

### En este diagrama se muestra la relación entre la autenticación y la autorización:
![autentificacion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-access-azure-identity-services/media/2-id-card-access.png)
### La tarjeta de identificación representa las credenciales que el usuario tiene para demostrar su identidad.

## *¿Qué es Azure Active Directory?*

### En esta sección, obtendrá información sobre cómo Azure Active Directory (Azure AD) proporciona servicios de identidad que permiten a los usuarios iniciar sesión y acceder tanto a las aplicaciones en la nube de Microsoft como a las que desarrolle personalmente. También verá cómo admite Azure AD el inicio de sesión único (SSO).

### La empresa no quiere que los usuarios tengan que recordar un nombre de usuario y una contraseña diferentes para acceder a las aplicaciones y los datos en la nube. ¿Puede la empresa integrar sus servicios de identidad existentes de Active Directory con los de la nube a fin de crear una experiencia sin problemas para los usuarios?

### Empecemos por ver las diferencias entre Azure AD y Active Directory.

## *¿Qué diferencia hay entre Azure AD y Active Directory?*

### Active Directory está relacionado con Azure AD, pero hay algunas diferencias importantes.

### Microsoft presentó Active Directory en Windows 2000 para ofrecer a las empresas la capacidad de administrar varios sistemas y componentes de la infraestructura local mediante una única identidad por usuario.

### En el caso de los entornos locales, Active Directory ejecutado en Windows Server proporciona un servicio de administración de acceso e identidades administrado por su propia organización. Azure AD es un servicio de administración de acceso e identidades basado en la nube de Microsoft. Con Azure AD, usted controla las cuentas de identidad, pero Microsoft garantiza que el servicio esté disponible globalmente. Si ya ha trabajado con Active Directory, Azure AD le resultará familiar.

## *¿Quién usa Azure AD?*

### Azure AD es para:

* **Administradores de TI**

### Los administradores pueden usar Azure AD para controlar el acceso a las aplicaciones y los recursos en función de sus requisitos empresariales.

* **Desarrolladores de aplicaciones**

### Con Azure AD, los desarrolladores pueden agregar funcionalidad a las aplicaciones que compilan mediante un enfoque basado en estándares. Por ejemplo, pueden agregar funcionalidad de SSO a una aplicación o habilitar una aplicación para que funcione con las credenciales existentes de un usuario.

* **Usuarios**

### Los usuarios pueden administrar sus identidades. Por ejemplo, el autoservicio de restablecimiento de contraseña permite a los usuarios cambiar o restablecer su contraseña sin intervención de un administrador de TI ni del departamento de soporte técnico.

* **Suscriptores de servicios en línea** 
### Los suscriptores de Microsoft 365, Microsoft Office 365, Azure y Microsoft Dynamics CRM Online ya usan Azure AD.
### Un inquilino es la representación de una organización. Suele estar separado de otros inquilinos y tiene su propia identidad.
### Cada inquilino de Microsoft 365, Office 365, Azure y Dynamics CRM Online es automáticamente un inquilino de Azure AD.

![Active Directory](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-access-azure-identity-services/media/3-azure-active-directory.png)

## *¿Qué servicios proporciona Azure AD?*
### Azure AD proporciona servicios como:

* **Autenticación**
### Esto incluye la comprobación de la identidad para acceder a aplicaciones y recursos. También incluye funciones como el autoservicio de restablecimiento de contraseña, la autenticación multifactor, una lista personalizada de contraseñas prohibidas y servicios de bloqueo inteligente.

* **Inicio de sesión único**
### Gracias al SSO, los usuarios tienen que recordar un solo identificador y una sola contraseña para acceder a varias aplicaciones. Una sola identidad está asociada a un usuario, lo que simplifica el modelo de seguridad. Cuando los usuarios cambian de rol o dejan una organización, las modificaciones de acceso se asocian a esa identidad, lo que reduce considerablemente el esfuerzo necesario para cambiar o deshabilitar cuentas.

* **Administración de aplicaciones**

### Con Azure AD, puede administrar las aplicaciones en la nube y locales. Características como Application Proxy, las aplicaciones SaaS, el portal Aplicaciones (también denominado panel de acceso) y el inicio de sesión único proporcionan una mejor experiencia de usuario.

* **Administración de dispositivos**

### Además de cuentas de usuarios individuales, Azure AD admite el registro de dispositivos. El registro permite administrar los dispositivos a través de herramientas como Microsoft Intune. También permite que las directivas de acceso condicional basadas en dispositivos limiten los intentos de acceso a los que proceden de dispositivos conocidos, independientemente de la cuenta de usuario que realice la solicitud.

## *¿Qué tipos de recursos se pueden proteger con Azure AD?*
### Azure AD ayuda a los usuarios a acceder a recursos tanto internos como externos.

### Los recursos externos podrían ser Microsoft Office 365, Azure Portal y miles de aplicaciones de software como servicio (SaaS).

### Los recursos internos podrían ser aplicaciones de la red corporativa y la intranet, junto con las aplicaciones en la nube desarrolladas por la organización.

## *¿Qué es el inicio de sesión único?*

### El inicio de sesión único permite a los usuarios iniciar sesión una vez y utilizar esa credencial para acceder a varios recursos y aplicaciones de distintos proveedores.

### Más identidades significan más contraseñas para recordar y cambiar. Las directivas de contraseñas pueden variar entre las aplicaciones. A medida que aumentan los requisitos de complejidad, cada vez resultan más difíciles de recordar para los usuarios. Cuantas más contraseñas tenga que administrar un usuario, mayor será el riesgo de que se produzca alguna incidencia de seguridad relacionada con las credenciales.
### Con SSO, tan solo debe recordar un ID y una contraseña. Usar SSO en las cuentas permite a los usuarios administrar más fácilmente su identidad y aumenta la capacidad en términos de seguridad.

## *¿Cómo se puede conectar Active Directory con Azure AD*

### La conexión de Active Directory con Azure AD permite proporcionar una experiencia de identidad coherente a los usuarios.

### Azure AD Connect sincroniza las identidades de usuario entre la instalación local de Active Directory y Azure AD. Azure AD Connect sincroniza los cambios entre ambos sistemas de identidades, para que pueda usar características como SSO, la autenticación multifactor y el autoservicio de restablecimiento de contraseña en ambos sistemas. 

### En el diagrama siguiente se muestra cómo encaja Azure AD Connect entre la instalación local de Active Directory y Azure AD:

![activde_directory](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-access-azure-identity-services/media/3-azure-ad-connect.png)

### A medida que en Tailwind Traders integran su instancia existente de Active Directory con Azure AD, crea un modelo de acceso coherente en toda la organización.

## *¿Qué son la autenticación multifactor y el acceso condicional?*

### Tailwind Traders permite a los repartidores usar sus propios dispositivos móviles para acceder a las aplicaciones de logística y programación. Algunos repartidores son empleados fijos de Tailwind Traders. Otros son empleados temporales. ¿Cómo puede asegurarse el departamento de TI de que un intento de acceso procede realmente de un empleado válido de Tailwind Traders?

## *¿Qué es la autenticación multifactor?*

### La autenticación multifactor es un proceso en el que durante el inicio de sesión de un usuario se le solicita una forma adicional de identificación. Entre los ejemplos se incluye un código en su teléfono móvil o un examen de las huellas dactilares.

### La autenticación multifactor proporciona seguridad adicional a las identidades, ya que se requieren dos o más elementos para una autenticación completa.

### Estos elementos se dividen en tres categorías:

* **Algo que el usuario conoce**
### Se podría tratar de una dirección de correo electrónico y una contraseña.

* **Algo que el usuario tiene**
### Se podría tratar de un código que se envía al teléfono móvil del usuario.

* **Algo que el usuario es**
### Suele ser algún tipo de propiedad biométrica, como la huella dactilar o el escaneo facial utilizados en muchos dispositivos móviles.

![multifactor](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-access-azure-identity-services/media/4-multi-factor-authentication.png)

### La autenticación multifactor aumenta la seguridad de las identidades al limitar el impacto de la exposición de credenciales (por ejemplo, nombres de usuario y contraseñas robados). Si la autenticación multifactor está habilitada, los atacantes que tengan la contraseña de un usuario también necesitarán su teléfono o su huella dactilar para completar la autenticación.

## *¿Qué es Azure AD Multi-Factor Authentication?*

### Azure AD Multi-Factor Authentication es un servicio de Microsoft que proporciona funcionalidades de autenticación multifactor. Azure AD Multi-Factor Authentication permite a los usuarios elegir una forma adicional de autenticación durante el inicio de sesión, como una llamada de teléfono o una notificación de aplicación móvil.

* Azure Active Directory

### La edición gratuita de Azure Active Directory habilita Azure AD Multi-Factor Authentication para los administradores con el nivel de acceso de Administrador global, a través de la aplicación Microsoft Authenticator, una llamada de teléfono o un código por SMS. También puede aplicar Azure AD Multi-Factor Authentication a todos los usuarios solo a través de la aplicación Microsoft Authenticator. Para ello, se deben habilitar los valores predeterminados de seguridad en el inquilino de Azure AD.

* Autenticación multifactor para Office 365

### La suscripción a Office 365 incluye un subconjunto de funcionalidades de Azure AD Multi-Factor Authentication.

## *¿Qué es el acceso condicional?*

### El acceso condicional es una herramienta que usa Azure Active Directory para permitir (o denegar) el acceso a los recursos en función de señales de identidad. Estas señales incluyen quién es el usuario, dónde se encuentra y desde qué dispositivo solicita el acceso.

* permitir a los usuarios ser productivos en cualquier momento y lugar;

* proteger los recursos de la organización.

### El acceso condicional también proporciona una experiencia de autenticación multifactor más pormenorizada para los usuarios. Por ejemplo, es posible que al usuario no se le solicite un segundo factor de autenticación si está en una ubicación conocida. Pero si sus señales de inicio de sesión son inusuales o su ubicación es inesperada, es posible que se le exija un segundo factor de autenticación.

### Durante el inicio de sesión, el acceso condicional recopila señales del usuario, toma decisiones basadas en esas señales y, después, aplica esa decisión para permitir o denegar la solicitud de acceso, o bien exigir una respuesta de autenticación multifactor.
![flujo](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/secure-access-azure-identity-services/media/4-conditional-access-signal-decision-enforcement.png)

### En función de estas señales, la decisión puede ser permitir el acceso completo si el usuario inicia sesión desde su ubicación habitual. Si el usuario inicia sesión desde una ubicación inusual o una ubicación marcada como de alto riesgo, el acceso puede bloquearse por completo, o bien podría concederse después de que el usuario proporcione una segunda forma de autenticación.

### *¿Cuándo se puede usar el acceso condicional?*
### El acceso condicional resulta útil en los casos siguientes:

* Requerir la autenticación multifactor para acceder a una aplicación.

### Puede configurar si todos los usuarios necesitan la autenticación multifactor o solo algunos, como los administradores.

### También puede configurar si la autenticación multifactor se aplica al acceso desde todas las redes o solo desde redes que no son de confianza.

* Para requerir el acceso a los servicios solo a través de aplicaciones cliente aprobadas.

### Por ejemplo, podría permitir que los usuarios accedan a los servicios de Office 365 desde un dispositivo móvil siempre que usen aplicaciones cliente aprobadas, como Outlook Mobile.

* Exija que los usuarios accedan a la aplicación solo desde dispositivos administrados.

### Un dispositivo administrado es un dispositivo que cumple los estándares de seguridad y cumplimiento normativo.

* Para bloquear el acceso desde orígenes que no son de confianza, como ubicaciones desconocidas o inesperadas.

### El acceso condicional incluye una herramienta What If que le ayuda a planear las directivas de acceso condicional y a solucionar problemas relacionados con ellas. Puede usar esta herramienta para modelar las directivas de acceso condicional propuestas y aplicarlas en intentos de inicio de sesión recientes de los usuarios para ver cuál sería el efecto de las directivas si se hubieran habilitado. La herramienta What If permite probar las directivas de acceso condicional propuestas antes de implementarlas.

## *¿Dónde está disponible el acceso condicional?*

### Para usar el acceso condicional, se necesita una licencia Azure AD Premium P1 o P2. Si tiene una licencia de Microsoft 365 Empresa Premium, también tiene acceso a las características de acceso condicional.

## *Prueba de conocimientos*

### Recuerde que los empleados de las tiendas de Tailwind Traders reciben tabletas desde las que pueden realizar un seguimiento de los pedidos y planear su agenda de trabajo.

### Tailwind Traders también permite que los repartidores usen sus propios dispositivos móviles para acceder a las aplicaciones de logística y programación.

### Una contraseña robada podría permitir el acceso no autorizado a los datos de los clientes y de la empresa. Tailwind Traders quiere ampliar su inversión en Active Directory para proteger todas sus aplicaciones, tanto cuando se accede a ellas desde la intranet como desde redes públicas.

### La empresa sopesa si Azure Active Directory (Azure AD), el inicio de sesión único (SSO), la autenticación multifactor y el acceso condicional pueden ayudarles a conseguir estos objetivos.

## *Comprobación de conocimientos*

### 1. ¿Cómo puede asegurarse el departamento de TI de que los empleados de las tiendas solo accedan a las aplicaciones de la empresa desde las tabletas autorizadas?
### Acceso condicional (Con el acceso condicional, se puede obligar a los usuarios a acceder a las aplicaciones solo desde dispositivos autorizados o administrados.
)

### 2. ¿Cómo puede el departamento de TI usar las propiedades biométricas (por ejemplo, el reconocimiento facial) para permitir que los repartidores demuestren su identidad?
### Autenticación multifactor (La autenticación a través de la autenticación multifactor puede incluir algo que el usuario sabe, algo que tiene y algo que es.)

### 3. ¿Qué puede hacer el departamento de TI para reducir el número de veces que los usuarios se tienen que autenticar para acceder a varias aplicaciones?
### SSO (SSO permite a un usuario recordar solo un identificador y una contraseña para acceder a varias aplicaciones.)

# **30.-Creación de una estrategia de gobernanza en la nube en Azure**

### El término gobernanza describe el proceso general por el que se establecen reglas y directivas y se garantiza que esas reglas y directivas se aplican.

### Si usamos la nube, disponer de una buena estrategia de gobernanza ayuda a tener el control de las aplicaciones y los recursos que se administran en la nube. Al tener el control del entorno, nos aseguramos de que sigue siendo compatible con lo siguiente:

* Estándares del sector, como PCI DSS
* Estándares corporativos o de la organización, como asegurarse de que los datos de red están cifrados

### Las ventajas de la gobernanza son mayores en los siguientes casos:

* Hay varios equipos de ingeniería que trabajan en Azure.
* Hay varias suscripciones que administrar.
* Hay requisitos normativos que deben aplicarse.
* Hay estándares que deben seguirse en todos los recursos en la nube.

## *Aceleración del uso de la nube con Cloud Adoption Framework para Azure*

### Cloud Adoption Framework para Azure sirve como guía consolidada para ayudar en el recorrido para la adopción de la nube. Cloud Adoption Framework ayuda a crear e implementar las estrategias empresariales y tecnológicas necesarias para usar la nube correctamente.

### Tailwind Traders necesita controlar su entorno de nube de manera que cumpla con varios estándares del sector, pero no tiene muy claro por dónde empezar. Tienen diversos requisitos empresariales, y son conscientes de que estos requisitos están ligados a sus cargas de trabajo locales. También las cargas de trabajo que se ejecuten en la nube deben cumplir con estos requisitos.

### Se nos ha asignado la tarea de investigar qué hay disponible en Azure y de definir e implementar una estrategia de gobernanza para Tailwind Traders. Decidimos empezar con Cloud Adoption Framework.

## *¿Qué se incluye en Cloud Adoption Framework?*

### Cloud Adoption Framework se compone de diversas herramientas, documentación y procedimientos de eficacia probada. 

* Definir la estrategia.
* Crear un plan.
* Preparar la organización.
* Adoptar la nube.
* Controlar y administrar los entornos de nube.

![cloud adoption](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/2-framework-stages.png)

### La fase de control se centra en la gobernanza en la nube. Cloud Adoption Framework se puede consultar como referencia para obtener instrucciones recomendadas mientras traza su estrategia de gobernanza en la nube.

### A modo de ayuda para crear la estrategia de adopción, Cloud Adoption Framework desglosa cada fase en una serie de ejercicios y pasos.

## *Definición una estrategia*

### En esta fase abordaremos los motivos por los que estamos trasladándonos a la nube y qué queremos obtener con la migración a la nube.

* 1. Definir y documentar nuestras motivaciones: nos reuniremos con las partes interesadas y con la dirección para responder a la pregunta de por qué nos trasladamos a la nube.

* 2. Documentar los resultados empresariales: nos reuniremos con la dirección de los grupos de finanzas, marketing, ventas y recursos humanos como ayuda para documentar nuestros objetivos.

* 3. Dar argumentos empresariales: validaremos que el pasaje a la nube nos ofrece una rentabilidad de la inversión (ROI) adecuada según el esfuerzo.

* 4. Elegir el primer proyecto adecuado: elegiremos un proyecto que sea factible, pero que también muestre un avance hacia los objetivos de migración a la nube.


## *Creación un plan*

### En esta fase crearemos un plan que establece una correspondencia entre los objetivos que aspiramos alcanzar y acciones concretas. 

* 1. Bienes digitales: crearemos un inventario de las cargas de trabajo y activos digitales existentes que tenemos previsto migrar a la nube.	 
* 2. Alineación inicial de la organización: garantizaremos que se van a centrar en los esfuerzos de migración las personas adecuadas, tanto desde un punto de vista técnico como desde un punto de vista de la gobernanza en la nube.	
* 3. Plan de preparación de aptitudes: elaboraremos un plan que ayude a los usuarios a desarrollar las aptitudes que necesitan para usar la nube.	
* 4. Plan de adopción de la nube: elaboraremos un plan completo que encamine a los equipos de desarrollo, operaciones y empresarial hacia un objetivo compartido de adopción de la nube.	

## *Preparación de la organización*

### En esta fase crearemos una zona de aterrizaje, dicho de otro modo, un entorno en la nube donde empezar a hospedar nuestras cargas de trabajo.

* 1. Guía de instalación de Azure: Revise la guía de instalación de Azure para familiarizarse con las herramientas y los enfoques necesarios para crear una zona de aterrizaje.

* 2. Zona de aterrizaje de Azure: empezaremos a crear las suscripciones de Azure que van a asimilar cada una de las áreas principales de nuestro negocio. Una zona de aterrizaje engloba una infraestructura en la nube, así como capacidades de gobernanza, cuentas y seguridad.

* 3. Expansión de la zona de aterrizaje: optimizaremos la zona de aterrizaje para asegurarnos de que satisface las necesidades de operaciones, gobernanza y seguridad.

* 4. Procedimientos recomendados: comenzaremos con procedimientos recomendados de eficacia probada para garantizar que los esfuerzos de migración a la nube son escalables y fáciles de mantener.

## *Adopción de la nube*

### En esta fase empezaremos a migrar nuestras aplicaciones a la nube. A lo largo del proceso, probablemente encontremos formas de modernizar nuestras aplicaciones y crear soluciones innovadoras que usen servicios en la nube.

### **Migrar:** estos son los pasos de la parte de migración de esta fase.


* 1. Migrar la primera carga de trabajo: usaremos la guía de migración de Azure para implementar nuestro primer proyecto en la nube.	

* 2. Escenarios de migración: usaremos guías más detalladas para explorar escenarios de migración de mayor complejidad.	

* 3. Procedimientos recomendados: consultaremos los procedimientos recomendados de migración a la nube de Azure para confirmar que estamos siguiendo los procedimientos recomendados adecuados.	

* 4. Mejoras del proceso: identificaremos distintas maneras de escalar el proceso de migración y, al mismo tiempo, requerir menos esfuerzo.	

### **Innovar:** estos son los pasos de la parte de innovación de esta fase.

* 1. Innovar: estos son los pasos de la parte de innovación de esta fase.

* 2. Guía de innovación de Azure: usaremos esta guía para acelerar el desarrollo y crear un producto mínimo viable de nuestra idea.

* 3. Procedimientos recomendados: confirmaremos que nuestros avances casan con los procedimientos recomendados antes de continuar.

* 4. Bucles de comentarios: nos comunicaremos a menudo con nuestros clientes para confirmar que lo que estamos creando es lo que necesitan.

## *Control y administración de los entornos de nube*

### En esta fase empezaremos a trazar nuestras estrategias de administración y gobernanza en la nube. A medida que el patrimonio de la nube cambia con el tiempo, también lo hacen los procesos y las directivas de gobernanza de la nube.

### **Gobernanza:** estos son los pasos de la parte de gobernanza de esta fase.

* 1. Metodología: evaluaremos nuestra solución de estado final. Después, definiremos una metodología que nos lleve gradualmente de los pasos iniciales a la gobernanza en la nube completa.	

* 2. Banco de pruebas: usaremos la herramienta de banco de pruebas de gobernanza para valorar el estado actual en el que estamos y el estado futuro para establecer un panorama para aplicar el marco de trabajo.	

* 3. Base de gobernanza inicial: crearemos un producto mínimo viable que capture los primeros pasos de nuestro plan de gobernanza.	

* 4. Mejora de la base de gobernanza inicial: iremos agregando iterativamente controles de gobernanza que solucionen riesgos tangibles a medida que vayamos avanzando hacia la solución de estado final.	

### **Administración:** estos son los pasos de la parte de administración de esta fase.

* 1. Establecer una línea base de administración: definiremos nuestro compromiso mínimo con la administración de operaciones. Una línea base de administración es el conjunto mínimo de herramientas y procesos que se debe aplicar a todos los recursos de un entorno.

* 2. Definición de los compromisos empresariales: Documente las cargas de trabajo admitidas para establecer los compromisos operativos con la empresa y acordar las inversiones en administración de la nube para cada carga de trabajo.

* 3. Expandir la línea base de administración: pondremos en marcha procedimientos recomendados para iterar en la línea base de administración inicial.

* 4. Operaciones y principios de diseño avanzados: en el caso de aquellas cargas de trabajo que requieran un mayor nivel de compromiso empresarial, revisaremos la arquitectura más profundamente para satisfacer los compromisos de resistencia y confiabilidad.

## *Creación de una estrategia de gobernanza de suscripciones*

### En Planeación y debate sobre las implementaciones de Azure vimos que la estructura de la organización para los recursos de Azure tiene cuatro niveles: grupos de administración, suscripciones, grupos de recursos y recursos.

### Se debe identificar una estructura de la organización en la nube que cubra las necesidades empresariales. A menudo, este paso implica la conformación de un equipo centro de excelencia en la nube (también denominado equipo de habilitación de la nube o equipo de custodia de la nube. 

## *Facturación*

### Se puede crear un informe de facturación por suscripción. Si tenemos varios departamentos y necesitamos realizar un "contracargo" de costes en la nube, una posible solución es organizar las suscripciones por departamento o por proyecto.

## *Control de acceso*

### Una suscripción es un límite de implementación de los recursos de Azure. Cada suscripción está asociada a un inquilino de Azure Active Directory. Cada inquilino proporciona a los administradores la capacidad de configurar un acceso granular a través de roles definidos por medio del control de acceso basado en roles de Azure.

## *Límites de suscripción*

### Las suscripciones también tienen algunas limitaciones de recursos. Por ejemplo, el número máximo de circuitos Azure ExpressRoute de red por cada suscripción es de 10. Estos límites se deben tener en cuenta durante la fase de diseño. Si necesitamos superar estos límites, puede que tengamos que agregar más suscripciones. Si alcanzamos un límite máximo estricto, no hay flexibilidad para aumentarlo.


## *Control del acceso a los recursos en la nube por medio del control de acceso basado en roles de Azure*

### Cuando tenemos varios equipos de TI e ingeniería, ¿cómo podemos controlar el acceso que tienen a los recursos del entorno de nube? Una buena práctica de seguridad consiste en conceder a los usuarios únicamente los derechos que necesitan para realizar su trabajo, y solo a los recursos pertinentes.

### En vez de definir los requisitos de acceso detallados de cada individuo y, posteriormente, ir actualizándolos a medida que se vayan creando más recursos, Azure permite controlar el acceso a través del control de acceso basado en roles de Azure (RBAC de Azure).

## *¿Cómo se aplica el control de acceso basado en roles a los recursos?*

### El control de acceso basado en roles se aplica a un ámbito, que es un recurso o un conjunto de recursos en los que este acceso se permite.

![ambito](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/4-role-scope.png)

### Los ámbitos pueden ser lo siguiente:

* Un grupo de administración (una colección de varias suscripciones)
* Una sola suscripción
* Un grupo de recursos.
* Un solo recurso

### En el diagrama, los observadores, los usuarios que administran recursos, los administradores y los procesos automatizados denotan los tipos de usuarios o cuentas que se suelen asignar a cada uno de los distintos roles.

### Si se otorga acceso a un ámbito primario, esos permisos se heredan en todos los ámbitos secundarios. Por ejemplo:

* Cuando asignamos el rol Propietario a un usuario en el ámbito del grupo de administración, dicho usuario podrá administrar todo el contenido de todas las suscripciones dentro de ese grupo de administración.

* Cuando asignamos el rol Lector a un grupo en el ámbito de suscripción, los miembros de dicho grupo podrán ver todos los grupos de recursos y recursos dentro de esa suscripción.

* Cuando asignamos el rol Colaborador a una aplicación en el ámbito del grupo de recursos, dicha aplicación podrá administrar los recursos de cualquier tipo dentro de ese grupo de recursos específico, pero no los otros grupos de recursos dentro de esa suscripción.


## *¿Cuándo conviene usar RBAC de Azure?*

### Usaremos RBAC de Azure cuando necesitemos:

* Permitir que un usuario administre las VM en una suscripción y que otro usuario administre las redes virtuales.

* Permitir a un grupo de administradores de base de datos que administren bases de datos SQL de una suscripción

* Permitir que un usuario administre todos los recursos de un grupo de recursos, como las máquinas virtuales, los sitios web y las subredes

* Permitir que una aplicación acceda a todos los recursos de un grupo de recursos.

## *¿Cómo se aplica RBAC de Azure?*

### RBAC de Azure se aplica a cualquier acción que se inicie en un recurso de Azure que pasa por Azure Resource Manager. Resource Manager es un servicio de administración que proporciona una forma de organizar y proteger nuestros recursos en la nube.

### Normalmente, se accede a Resource Manager a través de Azure Portal, Azure Cloud Shell, Azure PowerShell y la CLI de Azure. RBAC de Azure no aplica permisos de acceso en el nivel de aplicación ni de datos. La seguridad de la aplicación debe controlarla la propia aplicación.

### RBAC emplea un modelo de permisos, es decir, cuando se nos asigna un rol, RBAC nos permite realizar determinadas acciones, como leer, escribir o eliminar. 

## *¿A quién se aplica RBAC de Azure?*

### RBAC de Azure se puede aplicar a una persona individual o a un grupo. También se puede aplicar a otros tipos de identidad especiales, como entidades de servicio e identidades administradas.
### Tailwind Traders tiene los siguientes equipos implicados en alguna parte de su entorno de TI general:

* Administradores de TI. Este equipo tiene la propiedad definitiva de los recursos tecnológicos, tanto locales como en la nube. El equipo requiere un control completo de todos los recursos.

* Copia de seguridad y recuperación ante desastres. Este equipo es responsable de administrar el estado de las copias de seguridad periódicas y de invocar cualquier recuperación de datos o del sistema.

* Coste y facturación. Los miembros de este equipo realizan un seguimiento e informan sobre los gastos relacionados con la tecnología. También administran los presupuestos internos de la organización.

* Operaciones de seguridad. Este equipo supervisa los incidentes de seguridad relacionados con la tecnología y responde a estos. El equipo requiere acceso continuo a los archivos de registro y a las alertas de seguridad.

## *¿Cómo se administran los permisos de RBAC de Azure?*

### Los permisos de acceso se administran en el panel Control de acceso (IAM) de Azure Portal. En este panel se muestra quién tiene acceso a qué ámbito y qué roles se aplican. 

### En la siguiente captura de pantalla se muestra un ejemplo del panel Control de acceso (IAM) de un grupo de recursos. En este ejemplo, Alain Charon tiene asignado el rol Operador de copias de seguridad en ese grupo de recursos.

![RBAC](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/4-role-based-access-control-blade.png)

## *Uso de bloqueos de recursos para evitar cambios inintencionados*

### Los bloqueos de recursos impiden que se eliminen o modifiquen recursos por error.

### Aun cuando haya directivas de control de acceso basado en roles de Azure (RBAC de Azure) en vigor, sigue existiendo el riesgo de que alguien con el nivel de acceso adecuado elimine recursos de nube críticos. Podríamos pensar en un bloqueo de recursos como un sistema de aviso que nos recuerda que un recurso no se debe eliminar o cambiar.

### Por ejemplo, en Tailwind Traders, un administrador de TI se encuentra realizando una limpieza rutinaria de recursos no utilizados en Azure y, por error, elimina unos recursos que parecen no estar usándose, pero en realidad son recursos fundamentales en una aplicación que se emplea para promociones estacionales. ¿Cómo impiden los bloqueos de recursos que se produzca este tipo de incidentes en el futuro?

## *¿Cómo se administran los bloqueos de recursos?*

### Los bloqueos de recursos se pueden administrar en Azure Portal, PowerShell, la CLI de Azure o con una plantilla de Azure Resource Manager.

### Para ver, agregar o eliminar bloqueos en Azure Portal, vaya a la sección Configuración del panel Configuración de cualquier recurso en Azure Portal.

![BLOQUEOS](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/7-portal-add-lock.png)

## *¿Qué niveles de bloqueo hay disponibles?*

### Podemos aplicar bloqueos a una suscripción, a un grupo de recursos o a un recurso individual. Puede establecer el bloqueo de nivel en CanNotDelete o ReadOnly.

* CanNotDelete significa que las personas autorizadas pueden seguir leyendo y modificando un recurso, pero no eliminarlo sin quitar primero el bloqueo.

* ReadOnly significa que las personas autorizadas pueden leer un recurso, pero no eliminarlo ni cambiarlo. Aplicar este bloqueo es como restringir a todos los usuarios autorizados a los permisos concedidos por el rol Lector en RBAC de Azure.

## *¿Cómo se elimina o cambia un recurso bloqueado?*
### Aunque los bloqueos impiden que se produzcan cambios por error, se pueden seguir realizando cambios realizando un proceso de dos pasos.

## Para modificar un recurso bloqueado, primero hay que quitar el bloqueo. Tras quitarlo, podemos aplicar cualquier acción que podamos realizar de acuerdo a nuestros permisos. Este paso adicional nos permite llevar a cabo la acción, e impide que cualquier administrador pueda hacer algo de manera accidental.

### Los bloqueos de recursos se aplican con independencia de los permisos RBAC.

## *Combinación de bloqueos de recursos con Azure Blueprints*

### ¿Qué ocurre si un administrador de la nube elimina un bloqueo de recurso por error? Si el bloqueo de recurso se quita, los recursos asociados correspondientes se podrán cambiar o eliminar.

### Para que el proceso de protección sea más riguroso, podemos combinar bloqueos de recursos con Azure Blueprints. Azure Blueprints nos permite definir el conjunto recursos estándar de Azure que la organización necesita. Así, por ejemplo, podemos definir un plano técnico que especifique que debe haber un bloqueo de recursos determinado.

## *Ejercicio: Uso de un bloqueo de recursos para impedir que una cuenta de almacenamiento se elimine por error*

### En este ejercicio, veremos cómo usar bloqueos de recursos para evitar que se eliminen recursos de Azure por error.

### Para ello, crearemos un grupo de recursos desde Azure Portal (pensemos en un grupo de recursos como un contenedor de recursos de Azure relacionados). Después, agregaremos un bloqueo a ese grupo de recursos y confirmaremos que el grupo no se puede eliminar.

### Por último, agregaremos una cuenta de almacenamiento a nuestro grupo de recursos y veremos cómo el bloqueo del grupo de recursos primario impide que esa cuenta de almacenamiento se elimine. Una cuenta de almacenamiento es un contenedor que agrupa un conjunto de servicios de almacenamiento de Azure.

## *Creación del grupo de recursos*

### Aquí crearemos un grupo de recursos denominado my-test-rg.

* 1. Abra Azure Portal e inicie sesión.
* 2. En la parte superior de la página, seleccione Grupos de recursos.
* 3. Seleccione + Nuevo. Aparece la página Crear un grupo de recursos.
* 4. En la pestaña Aspectos básicos, rellene los campos siguientes.

|Configuracion | Value |
|--------------|-------|
|Detalles del proyecto|         |	
|Suscripción|Su suscripción de Azure|
|Resource group	|my-test-rg|
|Detalles del recurso	|  |
|Region|(EE. UU.) Este de EE. UU.|

### También puede seleccionar una región más cercana a la suya.

* 5. Seleccione Revisar y crear y, luego, Crear.

## *Adición de un bloqueo al grupo de recursos*

### Agregue un bloqueo de recurso al grupo de recursos. Para ello:

* 1. En Azure Portal, seleccione el grupo de recursos, my-test-rg.

* 2. En Configuración, seleccione Bloqueos y, luego, seleccione Agregar.

![my-test-rg](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/7-portal-add-lock.png)

* 3. Rellene estos campos.

|Configuración|Value|
|-------------|-----|
|Nombre del bloqueo	|rg-delete-lock|
|Tipo de bloqueo	|Eliminar|

* 4. Seleccione Aceptar.

### Vemos que el bloqueo de recurso se aplica al grupo de recursos.

![bloqueo_recursos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/7-portal-rg-lock.png)

## *Confirmación de que el grupo de recursos está protegido frente a eliminaciones*

### Aquí intentaremos eliminar el grupo de recursos para confirmar que está protegido.

* 1. En la parte superior de la página, seleccione my-test-rg para ir a la página de información general del grupo de recursos.

![grupo_recursos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/7-portal-select-rg.png)

* 2. Seleccione Eliminar grupo de recursos.
![eliminar_grupo](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/7-portal-delete-rg.png)

* 3. En el símbolo del sistema, escriba my-test-rg y, luego, seleccione Aceptar. Aparecerá un mensaje que indica que el grupo de recursos está bloqueado y no se puede eliminar.

![eliminar_grupo](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/6-delete-locks-failed.png)

## *Protección de una cuenta de almacenamiento de eliminaciones por error*

### Ahora agregaremos una cuenta de almacenamiento a nuestro grupo de recursos y veremos cómo el bloqueo del grupo de recursos primario impide eliminar esa cuenta de almacenamiento. Para ello:

* 1. En Azure Portal, en la parte superior de la página, seleccione Inicio para volver a la página de inicio.

* 2. Seleccione Cuentas de almacenamiento. Luego, seleccione + Nuevo. Aparece la página Crear cuenta de almacenamiento.

* 3. En la pestaña Aspectos básicos, rellene los campos siguientes.

### Reemplace NNN por una serie de números. Los números ayudan a garantizar que el nombre de la cuenta de almacenamiento sea único.

|Configuración	|Value|
|---------------|-----|
|Detalles del proyecto	|   |
|Suscripción	|Su suscripción de Azure|
|Resource group	|my-test-rg|
|Detalles de instancia	| |
|Nombre de la cuenta de almacenamiento	|mysaNNN|
|Location	|(EE. UU.) Este de EE. UU.|
|Rendimiento	|Estándar|
|Tipo de cuenta	|StorageV2 (uso general v2)|
|Replicación	|Almacenamiento con redundancia local (LRS)|

### Como antes, en este caso también puede seleccionar una región más cercana a la suya.

* 4. Seleccione Revisar y crear y, luego, Crear. La implementación puede tardar un poco en completarse.

* 5. Haga clic en Go to resource (Ir al recurso).

* 6. En la parte superior de la página, seleccione Eliminar.

![eliminar](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/7-portal-delete-sa.png)

### Aparecerá un mensaje que indica que el recurso o su grupo primario está bloqueado y no se puede eliminar. En este ejemplo se muestra el mensaje de error relativo a una cuenta de almacenamiento denominada mysa1234.

![bloqueado](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/6-delete-failed.png)

### Aunque no hemos creado un bloqueo expresamente para esta cuenta de almacenamiento, el bloqueo que creamos para el grupo de recursos primario impide eliminar el recurso. En otras palabras, la cuenta de almacenamiento hereda el bloqueo del grupo de recursos primario.

## *Eliminación de un grupo de recursos y la cuenta de almacenamiento*

### Ya no necesitamos el grupo de recursos o la cuenta de almacenamiento, así que ahora los eliminaremos.

### Cuando un grupo de recursos se elimina, también se eliminan sus recursos secundarios, como la cuenta de almacenamiento que creamos anteriormente.

### Para eliminar el grupo de recursos, primero hay que quitar el bloqueo de recurso.

* 1. En Azure Portal, seleccione Inicio > Grupos de recursos > my-test-rg para ir al grupo de recursos.

* 2. En Configuración, seleccione Bloqueos.

* 3. Busque rg-delete-lock y seleccione Eliminar en esa misma fila.

* 4. Seleccione Información general y, después, Eliminar grupo de recursos.

* 5. En el símbolo del sistema, escriba my-test-rg y, luego, seleccione Aceptar. La operación de eliminación puede tardar un poco en completarse.

* 6. Cuando la operación finalice, seleccione Inicio > Grupos de recursos.

### Verá que el grupo de recursos my-test-rg ya no está en la cuenta y que la cuenta de almacenamiento también se ha eliminado.

## *Uso de etiquetas para organizar los recursos de Azure*

### A medida que el uso que hacemos de la nube va en aumento, es cada vez más importante mantenerse organizado. Una buena estrategia de organización nos ayudará a conocer cuál es nuestro uso de la nube, así como a administrar los costos.

### Por ejemplo, a medida que Tailwind Traders concibe nuevas formas de implementar sus aplicaciones en Azure, necesita una manera de marcar sus entornos de prueba para poder identificar y eliminar fácilmente recursos en estos entornos cuando ya no sean necesarios.

### Un método para organizar los recursos relacionados es colocarlos en sus propias suscripciones. También se pueden usar grupos de recursos para administrarlos. Las etiquetas de recursos son otra forma de organizar recursos. Las etiquetas proporcionan información extra, o metadatos, sobre los recursos. Estos metadatos son útiles para lo siguiente:

* Administración de recursos

### Las etiquetas permiten localizar recursos asociados a cargas de trabajo, entornos, unidades de negocio y propietarios específicos y actuar al respecto.

* Optimización y administración de costes

### Las etiquetas permiten agrupar recursos para que podamos informar sobre los costes, asignar centros de costes internos, mantener los presupuestos a raya y predecir costes estimados.

* Administración de operaciones

### Las etiquetas permiten agrupar recursos según la importancia que tiene su disponibilidad para nuestro negocio. Esta agrupación nos ayuda a formular acuerdos de nivel de servicio (SLA), que constituyen una garantía de rendimiento o de tiempo de actividad entre nosotros y nuestros usuarios.

* Seguridad

### Las etiquetas permiten clasificar los datos según su nivel de seguridad, por ejemplo, públicos o confidenciales.

* Gobernanza y cumplimiento normativo

### Las etiquetas permiten identificar los recursos que cumplen con los requisitos de gobernanza o cumplimiento normativo, como la norma ISO 27001.

### Las etiquetas también pueden formar parte de nuestros esfuerzos de aplicación de estándares. Así, podríamos exigir que todos los recursos se etiqueten con un nombre de departamento o propietario.

* Automatización y optimización de las cargas de trabajo

### Las etiquetas pueden servir para ver todos los recursos que participan en implementaciones complejas. Por ejemplo, podemos etiquetar un recurso con su nombre de aplicación o carga de trabajo asociado y usar un software como Azure DevOps para realizar tareas automatizadas en esos recursos.

## *¿Cómo se administran las etiquetas de recursos?*

### Podemos agregar, modificar o eliminar etiquetas de recursos a través de PowerShell, la CLI de Azure, plantillas de Azure Resource Manager, la API REST o Azure Portal.

### Las etiquetas también se pueden administrar mediante Azure Policy. Por ejemplo, podemos usar etiquetas en un grupo de recursos, pero esas etiquetas no se aplican automáticamente a los recursos de ese grupo de recursos. Se puede usar Azure Policy para garantizar que un recurso herede las mismas etiquetas que su grupo de recursos primario. Posteriormente en este módulo hablaremos más sobre Azure Policy.

### Azure Policy se puede usar también para aplicar reglas y convenciones de etiquetado.

## *Ejemplo de una estructura de etiquetado*

### Una etiqueta de recurso se compone de un nombre y un valor. Podemos asignar una o más etiquetas a cada recurso de Azure.

### Después de revisar los requisitos empresariales, Tailwind Traders decide usar las siguientes etiquetas.

| Nombre | Value  |
|---|---|
|AppName|Nombre de la aplicación de la que forma parte el recurso|
|CostCenter|Código interno del centro de costes|
|Propietario|Propietario|
|Entorno|	Nombre de entorno, como "Prod.", "Dev." o "Prueba".|
|Impacto	|Importancia del recurso para las operaciones empresariales, como "Crítico", "Gran impacto" o "Bajo impacto".|

### En este ejemplo se muestran estas etiquetas cuando se aplican a una máquina virtual durante el aprovisionamiento.
![etiquetas](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/8-vm-tags.png)

### El equipo de Tailwind Traders puede ejecutar consultas (por ejemplo, con PowerShell o la CLI de Azure) para ver todos los recursos que contienen estas etiquetas.

### Recordemos que no es necesario requerir que una etiqueta específica esté presente en todos los recursos. Por ejemplo, podemos decidir que solo los recursos críticos tengan la etiqueta Impact. 

## *Uso de Azure Policy para controlar y auditar recursos*

### Ahora que ya hemos identificado nuestros requisitos empresariales y de gobernanza, ¿cómo garantizamos que estos recursos van a mantener su cumplimiento? ¿Cómo podemos recibir un aviso cuando la configuración de un recurso cambie?

### Azure Policy es un servicio de Azure que permite crear, asignar y administrar directivas que controlan o auditan recursos. Dichas directivas aplican distintas reglas y efectos a las configuraciones de los recursos con el propósito de que estas configuraciones sigan cumpliendo con los estándares corporativos.

## *¿Cómo se definen directivas en Azure Policy?*

### Azure Policy permite definir tanto directivas individuales como grupos de directivas relacionadas (lo que se conoce como iniciativas). Azure Policy evalúa los recursos y resalta los que no cumplen las directivas que hemos creado. Azure Policy también puede impedir que se creen recursos no conformes.

### Azure Policy incluye numerosas directivas integradas y definiciones de iniciativas que puede usar, en categorías como Almacenamiento, Redes, Proceso, Centro de seguridad y Supervisión.

### Por ejemplo, supongamos que definimos una directiva que permite usar exclusivamente un determinado tamaño de referencia de almacén (SKU) de máquinas virtuales (VM) en el entorno. Cuando esta directiva se habilite, se aplicará cuando se creen más máquinas virtuales o se cambie el tamaño de las ya existentes. Azure Policy también evalúa todas las máquinas virtuales que hay actualmente en el entorno.

### En algunos casos, Azure Policy puede corregir automáticamente los recursos y configuraciones no conformes para garantizar la integridad del estado de los recursos. Por ejemplo, si todos los recursos de un determinado grupo de recursos deben etiquetarse con la etiqueta AppName y un valor de "SpecialOrders", Azure Policy puede volver a aplicar automáticamente esa etiqueta si se ha quitado.

### Azure Policy se integra con Azure DevOps aplicando directivas de integración continua y canalización de entrega que competen a las fases de implementación anterior y posterior de las aplicaciones.

## *Azure Policy en acción*
### La implementación de una directiva en Azure Policy conlleva estos tres pasos:

* 1. Crear una definición de directiva
* 2. Asignar la definición a los recursos
* 3. Revisar los resultados de evaluación

## *1. Crear una definición de directiva*

### Una definición de directiva expresa qué se debe evaluar y qué acción realizar. Por ejemplo, podemos impedir que se implementen máquinas virtuales en determinadas regiones de Azure. También podemos auditar nuestras cuentas de almacenamiento para comprobar que solo aceptan conexiones de redes permitidas.

### Cada definición de directiva tiene condiciones que regulan su aplicación. Además, esta definición tiene un efecto complementario que se produce cuando se cumplen las condiciones. 

* SKU de máquina virtual permitidas.
### Esta directiva permite especificar un conjunto de SKU de máquina virtual que la organización puede implementar.
* Ubicaciones permitidas
### Esta directiva permite restringir las ubicaciones que la organización puede especificar al implementar los recursos. Su efecto se usa para exigir los requisitos de cumplimiento de replicación geográfica.

* MFA debe estar habilitada en las cuentas con permisos de escritura en la suscripción

### Esta directiva requiere que la autenticación multifactor (MFA) esté habilitada en todas las cuentas de la suscripción que tengan permisos de escritura, para evitar una vulneración de seguridad en esas cuentas o en los recursos.

* CORS no debe permitir que todos los recursos accedan a las aplicaciones web

### El uso compartido de recursos entre orígenes (CORS) es una característica de HTTP que permite que una aplicación web que se ejecuta en un dominio acceda a recursos de otro dominio. Por motivos de seguridad, los exploradores web modernos restringen el scripting entre sitios de forma predeterminada. Esta directiva permite que solo los dominios necesarios interactúen con la aplicación web.

* Se deben instalar actualizaciones del sistema en las máquinas

### Esta directiva permite a Azure Security Center recomendar las actualizaciones del sistema de seguridad que faltan en los servidores.

## *2. Asignar la definición a los recursos*

### Para implementar nuestras definiciones de directiva, debemos asignar definiciones a los recursos. Una asignación de directiva es una definición de directiva que se aplica dentro de un ámbito específico. Este ámbito puede ser un grupo de administración (esto es, una colección de varias suscripciones), una sola suscripción o un grupo de recursos.

### Todos los recursos secundarios dentro de ese ámbito heredarán las asignaciones de directivas. Si una directiva se aplica a un grupo de recursos, se aplicará también a todos los recursos dentro de ese grupo. 

## *3. Revisar los resultados de evaluación*

### Cuando una condición se evalúa con los recursos existentes, cada recurso se marca como conforme o no conforme. Esto nos permitirá revisar los resultados de directiva que no sean conformes y tomar las medidas oportunas.
### La evaluación de la directiva se produce aproximadamente una vez cada hora. Si realizamos cambios en la definición de la directiva y creamos una asignación de directiva, dicha directiva se evaluará con los recursos en una hora.

## *¿Qué son las iniciativas Azure Policy?*

### Una iniciativa de Azure Policy es una forma de agrupar las directivas relacionadas en un mismo conjunto. La definición de iniciativa contiene todas las definiciones de directiva para facilitar el seguimiento del estado de cumplimiento de cara a un objetivo mayor.

### Por ejemplo, Azure Policy incluye una iniciativa denominada Habilitar la supervisión en Azure Security Center, cuyo objetivo es supervisar todas las recomendaciones de seguridad disponibles para todos los tipos de recursos de Azure en Azure Security Center.

### En esta iniciativa se incluyen las siguientes definiciones de directiva:

* Supervisión de la instancia de SQL Database sin cifrar en Security Center

### Esta directiva supervisa los servidores y bases de datos SQL sin cifrar.

* Supervisión de los puntos vulnerables del sistema operativo en Security Center

### Esta directiva supervisa los servidores que no cumplen la línea base de la vulnerabilidad del sistema operativo configurada.

* Supervisión de la falta de Endpoint Protection en Security Center

### Esta directiva supervisa los servidores que no tienen instalado un agente de Endpoint Protection.

### La iniciativa Habilitar la supervisión en Azure Security Center contiene más de 100 definiciones de directiva independientes, de hecho.

### Azure Policy también incluye iniciativas que admiten normas de cumplimiento como HIPAA e ISO 27001.

## *¿Cómo se define una iniciativa?*

### Podemos definir iniciativas usando Azure Portal o herramientas de línea de comandos. En Azure Portal, podemos buscar en la lista de iniciativas integradas ya proporcionadas por Azure. O bien podemos crear nuestra propia definición de directiva personalizada.

![Azure_Policity](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/3-define-initiatives.png)

## *¿Cómo se asigna una iniciativa?*

### Al igual que una asignación de directiva, una asignación de iniciativa es una definición de iniciativa que se asigna a un ámbito específico de un grupo de administración, una suscripción o un grupo de recursos.

### Aun cuando solo tengamos una directiva, una iniciativa nos permite aumentar el número de directivas a lo largo del tiempo.

## *Ejercicio: Uso de Azure Policy para restringir las implementaciones a una ubicación específica*

### En este ejercicio, crearemos una directiva en Azure Policy que restrinja la implementación de recursos de Azure a una ubicación específica. Para comprobar que la directiva funciona, intentaremos crear una cuenta de almacenamiento en una ubicación que la infrinja.

### Tailwind Traders quiere limitar la ubicación en la que se pueden implementar recursos a la región Este de EE. UU., Esto tiene dos motivos:

* Mejor seguimiento de los costes

### A fin de llevar un control de los costos, Tailwind Traders usa diferentes suscripciones para realizar un seguimiento de las implementaciones en cada una de sus ubicaciones regionales. La directiva garantizará que todos los recursos se implementan en la región Este de EE. UU.

* Cumplimiento de la seguridad y residencia de los datos

### Tailwind Traders debe adherirse a una regla de cumplimiento que rige dónde se pueden almacenar datos de clientes. En este caso, los datos de clientes se deben almacenar en la región Este de EE. UU.

### Recordemos que podemos asignar una directiva a un grupo de administración, a una sola suscripción o a un grupo de recursos. Aquí, asignaremos la directiva a un grupo de recursos, así no afectará a otros recursos de la suscripción a Azure.

## *Creación del grupo de recursos*

### Aquí crearemos un grupo de recursos denominado my-test-rg. Es el grupo de recursos al que aplicaremos la directiva de ubicación.

### A efectos de aprendizaje, usaremos el mismo nombre de grupo de recursos que usamos en el ejercicio anterior. Podemos usar el mismo nombre porque eliminamos ese grupo de recursos anterior.

* 1. Vaya a Azure Portal e inicie sesión.
* 2. Seleccione Crear un recurso.
* 3. Escriba grupo de recursos en el cuadro de búsqueda y presione Entrar.
* 4. Si se le lleva a un panel de resultados de la búsqueda, seleccione Grupo de recursos en los resultados.
* 5. Seleccione Crear. Luego, escriba los valores siguientes para cada opción.

|Configuración	|Valor|
|---------------|-----|
|Suscripción|(Su suscripción de Azure)|
|Suscripción > Grupo de recursos	|my-test-rg|
|Región	|(EE. UU.) Este de EE. UU.|

* 6. Seleccione Revisar y crear y, luego, Crear.

## *Exploración de directivas predefinidas*

### Antes de configurar nuestra directiva de ubicación, vamos a echar un vistazo a algunas directivas predefinidas. A modo de ejemplo, nos fijaremos en las directivas relacionadas con los servicios de Azure Compute.

* 1. En Azure Portal, en la parte superior de la página, seleccione Inicio para volver a la página de inicio.

* 2. En la parte superior de la página, escriba directiva en la barra de búsqueda y, luego, seleccione Directiva en la lista de resultados para acceder a Azure Policy.

* 3. En Creación, seleccione Definiciones.

* 4. En la lista desplegable Categoría, seleccione únicamente Proceso.

### Observe que la definición SKU de máquina virtual permitidas nos permite especificar un conjunto de SKU de máquina virtual que la organización puede implementar.
![SKU](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-policy-category-compute.png)

## *Configuración de la directiva de ubicación*

### Aquí puede configurar la directiva de ubicación permitida mediante Azure Policy. A continuación, asigne esa directiva al grupo de recursos. Para ello:

* 1. En el panel Directiva, en Creación, seleccione Asignaciones.
![DIRECTIVA](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-policy-assignments.png)

### Una asignación es una directiva que se asignó para que se lleve a cabo dentro de un ámbito específico. Por ejemplo, una definición puede estar asignada al ámbito de suscripción.

* 2. Seleccione Asignar directiva.

![ASIGNAR_DIRECTIVA](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-assign-policy.png)

* 3. En Ámbito, seleccione los puntos suspensivos.

### Establezca lo siguiente en el cuadro de diálogo que aparece:

### a. En el campo Suscripción, su suscripción a Azure.
### b. En el campo Grupo de recursos, my-test-rg.
### c. Elija Seleccionar.

* 4. En Definición de directiva, seleccione los puntos suspensivos.

### a. En la barra de búsqueda, escriba ubicación.
### b. Seleccione la definición Ubicaciones permitidas.
### c. Elija Seleccionar.
![directiva](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/9-available-definitions-pane.png)

### Esta definición de directiva especifica la ubicación en la que todos los recursos deben implementarse. Si se elige otra ubicación, se producirá un error en la implementación.

### 5. Seleccione Siguiente para ir a la pestaña Parámetros.

### 6. En la lista desplegable Ubicaciones permitidas, seleccione Este de EE. UU.

### 7. Seleccione Revisar y crear y, luego, Crear.

### Vemos que ahora la asignación de directiva Ubicaciones permitidas aparece en el panel Directiva | Asignaciones, y que esa directiva se aplica al grupo de recursos my-test-rg.

![my-test-rg](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-policy-assignment-result.png)

## *Comprobación de la directiva de ubicación*

### Aquí intentaremos agregar una cuenta de almacenamiento a nuestro grupo de recursos en una ubicación que infringe la directiva de ubicación.

### 1. En Azure Portal, en la parte superior de la página, seleccione Inicio para volver a la página de inicio.

### 2. Seleccione Crear un recurso.

### 3. Escriba cuenta de almacenamiento en el cuadro de búsqueda y presione Entrar.

### 4. Si se le lleva a un panel de resultados de la búsqueda, seleccione Cuenta de almacenamiento en los resultados.

### 5. Seleccione Crear. Luego, escriba los valores siguientes para cada opción.

#### Reemplace NNN por una serie de números. Los números ayudan a garantizar que el nombre de la cuenta de almacenamiento sea único.

|Configuración|Valor|
|-------------|-----|
|Suscripción	|(Su suscripción de Azure)|
|Suscripción > Grupo de recursos	|my-test-rg|
|Nombre de cuenta de almacenamiento|mysaNNN|	
|Ubicación	|(Asia Pacífico) Este de Japón|
|Rendimiento	|Estándar|
|Tipo de cuenta	|StorageV2 (uso general v2)|
|Replicación	|Almacenamiento con redundancia local (LRS)|
|Nivel de acceso (predeterminado)	|Acceso frecuente|

### Si antes seleccionó Este de Japón en la directiva de ubicación, seleccione una región diferente de la lista.

### 6. Seleccione Revisar y crear y, luego, Crear.

### Aparecerá un mensaje que indica que se ha producido un error en la implementación debido a una infracción de la directiva. También verá los detalles de la implementación.

### En este ejemplo se muestran los detalles de implementación de una cuenta de almacenamiento denominada mysa1234.

![mysa1234](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-create-sa-error-policy-violation.png)

## *Eliminación de la asignación de directiva*

### Ya no necesitamos la asignación de directivas, así que la quitaremos de la suscripción.

* 1. En Azure Portal, seleccione Inicio > Directiva.

* 2. En Creación, seleccione Asignaciones.

* 3. En la fila Ubicaciones permitidas, seleccione los puntos suspensivos y, luego, seleccione Eliminar asignación. Cuando se le solicite, seleccione Sí.
![eliminarasig](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-policy-delete-assignment.png)

### Verá que la asignación de directiva Ubicaciones permitidas ya no existe.

### Como paso opcional, puede probar a crear la cuenta de almacenamiento una segunda vez para comprobar que la directiva ya no surta efecto alguno.

## *Eliminar el grupo de recursos*

### Ya no necesitamos el grupo de recursos, así que lo quitaremos de la suscripción.

* 1. En Azure Portal, seleccione Inicio > Grupos de recursos > my-test-rg para ir al grupo de recursos.

* 2. Seleccione Información general y, después, Eliminar grupo de recursos.

* 3. En el símbolo del sistema, escriba my-test-rg y, luego, seleccione Aceptar.La operación de eliminación puede tardar un poco en completarse.

* 4. Cuando la operación finalice, seleccione Inicio > Grupos de recursos. Verá que el grupo de recursos my-test-rg ya no está en la cuenta

### ¡Excelente trabajo! Ha aplicado una directiva correctamente con Azure Policy para restringir la implementación de recursos de Azure en ubicaciones específicas. Ahora puede aplicar las directivas que necesite en el nivel de grupo de administración, suscripción o grupo de recursos.

## *Gobernanza de varias suscripciones con Azure Blueprints*

### Hasta ahora, hemos visto una serie de características de Azure que pueden servir para poner en marcha nuestras decisiones de gobernanza, supervisar el cumplimiento de los recursos en la nube, controlar el acceso y proteger los recursos críticos frente a posibles eliminaciones accidentales.

### ¿Qué ocurre cuando nuestro entorno de nube empieza a crecer por encima de una sola suscripción? ¿Cómo podemos escalar la configuración de estas características, sabiendo que deben aplicarse a los recursos de las nuevas suscripciones?

### En lugar de tener que configurar características como Azure Policy en cada nueva suscripción, con Azure Blueprints puede definir un conjunto repetible de herramientas de gobernanza y recursos de Azure estándar que la organización necesita. De este modo, los equipos de desarrollo pueden crear e implementar rápidamente nuevos entornos sabiendo que se crean de acuerdo con los estándares organizativos con un conjunto de componentes integrados que aceleran las fases de desarrollo e implementación.

### Azure Blueprints organiza la implementación de varias plantillas de recursos y de otros artefactos, como son los siguientes:

* Asignaciones de roles
* Asignaciones de directivas
* Plantillas de Azure Resource Manager
* Grupos de recursos

## *Azure Blueprints en acción*

### Cuando formamos un equipo de centro de excelencia en la nube o un equipo de administradores de nube, dicho equipo puede usar Azure Blueprints para escalar sus prácticas de gobernanza en toda la organización.

### Para implementar un proyecto en Azure Blueprints hay que realizar estos tres pasos:

* 1. Crear una instancia de Azure Blueprints
* 2. Asignar ese plano técnico
* 3. Llevar un seguimiento de las asignaciones del plano técnico

### Con Azure Blueprints, la relación entre la definición del plano técnico (lo que debe ser implementado) y su asignación (lo que se ha implementado) permanece. En otras palabras, Azure crea un registro que asocia un recurso con el plano técnico que lo define, y gracias a esta conexión podemos realizar el seguimiento y la auditoría de nuestras implementaciones.

### Los planos técnicos también tienen versiones. El control de versiones nos permite llevar un control de los cambios que se producen en el plano técnico y comentarlos.

## *¿Qué son los artefactos de plano técnico?*

### Cada componente de la definición de un plano técnico se denomina artefacto.

### Es posible que los artefactos no tengan parámetros adicionales (configuraciones). Un ejemplo es la directiva Implementar la detección de amenazas en servidores SQL Server, que no requiere ninguna configuración adicional.

### Los artefactos también pueden contener uno o más parámetros que se pueden configurar. En la siguiente captura de pantalla se muestra la directiva Ubicaciones permitidas, que incluye un parámetro que especifica las ubicaciones que se pueden usar.

![ubicaciones](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-allowed-locations.png)
### Puede especificar el valor de un parámetro al crear la definición del plano técnico o al asignar la definición del plano a un ámbito. De este modo, puede mantener un plano técnico estándar, pero con la flexibilidad suficiente para especificar los parámetros de configuración pertinentes en cada ámbito en el que se asigne la definición.

## *¿Cómo usarán Azure Blueprints en Tailwind Traders para cumplir con la norma ISO 27001?*

### ISO 27001 es una norma publicada por la Organización internacional de normalización, que rige la seguridad de los sistemas de tecnologías de la información (TI). Como parte de su proceso de calidad, Tailwind Traders quiere certificar que cumple con esta norma. Azure Blueprints cuenta con varias definiciones de plano técnico integradas relacionadas con ISO 27001.

### Como administradores de TI, decidimos investigar la definición de la norma ISO 27001 de plano técnico de servicios compartidos. El esquema del plan es el siguiente:

* 1. Definir un grupo de administración llamado PROD-MG
### Recordemos que un grupo de administración se encarga de administrar el acceso, las directivas y el cumplimiento en varias suscripciones de Azure. Cada nueva suscripción de Azure que se cree se agregará a este grupo de administración.

* 2. Crear una definición de plano técnico según la norma ISO 27001 de plano técnico de servicios compartidos. A continuación, publique el plano técnico.

* 3. Asignar el plano técnico al grupo de administración PROD-MG

### En la siguiente imagen se muestran los artefactos que se crean al ejecutar un plano técnico ISO 27001 a partir de una plantilla.
![crear plano](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/10-iso-27001-shared-blueprint.png)

### Como se aprecia en la imagen, la plantilla de plano técnico contiene asignaciones de directivas, plantillas de Resource Manager y grupos de recursos. El plano técnico implementa estos artefactos en las suscripciones existentes dentro del grupo de administración PROD-MG. También implementará estos artefactos en todas las suscripciones nuevas a medida que se vayan creando y agregando al grupo de administración.

## *Prueba de conocimientos*


### Considere el siguiente escenario: Luego, elija la mejor respuesta para cada pregunta y seleccione Comprobar las respuestas.

### Tailwind Traders ha creado entornos de desarrollo y pruebas para su sistema de comercio electrónico.

### En este diagrama se muestran los componentes básicos de proceso, base de datos y red que hay en cada entorno.
![entornos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/build-cloud-governance-strategy-azure/media/7-dev-test-environments.svg)
### Estos entornos permiten al equipo compilar y probar nuevas características de aplicaciones. Si ha realizado el módulo Planeación y administración de los costes de Azure, ya habrá visto este diseño.

### Aunque los equipos de desarrollo y pruebas informan a diferentes departamentos, ambos entornos pertenecen a la misma suscripción de Azure.

 ### El responsable de TI quiere implementar controles de gobernanza que ayuden a garantizar que solo los usuarios autorizados acceden a estos sistemas. Poner estos controles en marcha les servirá también para administrar y mantener a raya los costes operativos.

 ## *Comprobación de conocimientos*
### 1. ¿Qué debe hacer Tailwind Traders para permitir a algunos usuarios controlar las máquinas virtuales en cada entorno, pero impedirles al mismo tiempo modificar recursos de red y de otro tipo en el mismo grupo de recursos o en la misma suscripción de Azure?
### Crear una asignación de roles mediante el control de acceso basado en roles de Azure (RBAC de Azure) (RBAC de Azure permite crear roles que definen permisos de acceso. Así, podríamos crear un rol que limite el acceso solo a las máquinas virtuales, y un segundo rol que proporcione acceso a todo a los administradores.
)



### 2. ¿Qué debe hacer Tailwind Traders para asegurarse de que el equipo solo implementa tamaños de SKU de máquina virtual rentables?
### Crear una directiva en Azure Policy que especifique los tamaños de SKU permitidos(Cuando esta directiva se habilite, se aplicará cuando se creen más máquinas virtuales o se cambie el tamaño de las ya existentes. Azure Policy también evalúa todas las máquinas virtuales que hay actualmente en el entorno.
)


### 3. ¿Cuál es probablemente la mejor forma de que Tailwind Traders sepa a qué departamento de facturación pertenece cada recurso de Azure?
### Usar una etiqueta en cada recurso que incluya el departamento de facturación asociado (Las etiquetas proporcionan información extra, o metadatos, sobre los recursos. Así, el equipo podría crear una etiqueta llamada DeptFactur cuyo valor sería el nombre del departamento de facturación. Se puede usar Azure Policy para garantizar que se asignan las etiquetas adecuadas cuando se aprovisionen recursos.)

# **31.- Examine los estándares de privacidad, cumplimiento y protección de datos en Azure**

## *Explorar los requisitos y las condiciones de cumplimiento*

### A medida que Tailwind Traders empieza a ejecutar sus aplicaciones en la nube, quiere saber de qué manera cumple Azure con los marcos de cumplimiento normativo vigentes. La empresa pregunta lo siguiente:

* ¿Qué cumplimiento ofrece Azure cuando se trata de administrar datos personales?
* ¿Qué cumplimiento ofrecen cada uno de los servicios individuales de Azure?

### Los servicios en línea de Microsoft se basan en un conjunto común de controles normativos y de cumplimiento. Piense en un control como un estándar conocido con el que puede comparar su solución para garantizar la seguridad. Estos controles abordan las regulaciones actuales y se adaptan a medida que las regulaciones evolucionan.

## *¿Qué categorías de cumplimiento están disponibles en Azure?*

### Aunque hay muchas más, la imagen siguiente muestra algunas de las ofertas de cumplimiento más populares que están disponibles en Azure. Estas ofertas se agrupan en cuatro categorías: Global, gobierno de EE. UU., sectorial y regional.
![cvd](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/2-compliance-matrix.png)

### Para hacerse una idea de la variedad de ofertas de cumplimiento disponibles en Azure, echemos un vistazo más de cerca a algunas de ellas.

### Aunque no todas estas ofertas de cumplimiento serán pertinentes para usted o su equipo, demuestran que el compromiso de Microsoft con el cumplimiento es integral y continuo, así como probado y verificado de forma independiente.
## *Servicios de Información sobre Justicia Penal*

### Cualquier agencia local o de los EE. UU. que quiera tener acceso a la base de datos de los Servicios de Información sobre Justicia Penal (CJIS) del FBI debe cumplir la directiva de seguridad CJIS.
### Azure es el único gran proveedor de nube que se compromete contractualmente a cumplir la directiva de seguridad de los CJIS. Microsoft cumple los mismos requisitos que deben observar las fuerzas y entidades de seguridad pública.

## *Certificación STAR de Cloud Security Alliance*
### Azure, Intune y Microsoft Power BI han obtenido la certificación STAR de Cloud Security Alliance (CSA), la cual conlleva una rigurosa evaluación por parte de un tercero independiente del nivel de seguridad que ofrece un proveedor de servicios en la nube.

### La certificación STAR se basa en obtener la certificación ISO/CEI 27001 de la Organización internacional de normalización/Comisión electrotécnica internacional y cumplir los criterios especificados en la Cloud Controls Matrix (CCM, Matriz de controles para la nube). Esta certificación demuestra que un proveedor de servicios en la nube:

* Cumple los requisitos aplicables de la norma ISO/IEC 27001.
* Ha solucionado problemas críticos para la seguridad de la nube, tal y como se describe en la CCM.
* Ha sido evaluado según el Modelo de madurez y de capacidad de STAR para la administración de actividades en las áreas de control de la CCM.

## *Cláusulas del modelo de la Unión Europea*

### Microsoft ofrece a los clientes cláusulas contractuales estándar de la Unión Europea que proporcionan garantías contractuales con respecto a las transferencias de datos personales fuera de la UE.
### Microsoft es la primera compañía en recibir la aprobación conjunta del grupo de trabajo del artículo 29 de la UE que avala que las protecciones de seguridad contractuales que Azure ofrece a sus clientes empresariales en la nube cumplen los estándares actuales de la UE para la transferencia internacional de datos. El hecho de cumplir este estándar garantiza que los clientes de Azure puedan usar los servicios de Microsoft para mover datos libremente a través de la nube de Microsoft desde Europa al resto del mundo.

## *Ley de Portabilidad y Responsabilidad de Seguros de Salud*

### La Ley de Portabilidad y Responsabilidad de Seguros de Salud (HIPAA) es una ley federal de EE. UU. que regula la información sanitaria protegida (PHI) de los pacientes.

### Azure ofrece a los clientes un contrato de socio empresarial (BAA) para HIPAA, que estipula su adhesión a determinadas disposiciones de seguridad y privacidad de las leyes HIPAA e HITECH. Para ayudar a los clientes en sus esfuerzos de cumplimiento individual, Microsoft ofrece un contrato de socio empresarial (BAA) a los clientes de Azure como un anexo de contrato.

## *Organización internacional de normalización/Comisión electrotécnica internacional 27018*

### Microsoft es el primer proveedor de nube que ha adoptado las normas ISO/IEC 27018, que abarcan el procesamiento de información personal por parte de proveedores de servicios en la nube.

## *Estándar de seguridad en la nube multinivel de Singapur*

### Tras rigurosas evaluaciones llevadas a cabo por el cuerpo de certificación del Estándar de seguridad en la nube multinivel (MTCS), los servicios en la nube de Microsoft recibieron la certificación MTCS 584:2013 en todas las clasificaciones de tres servicios:

* Infraestructura como servicio (IaaS)
* Plataforma como servicio (PaaS)
* Software como servicio (SaaS)

### Microsoft es el primer proveedor de soluciones en la nube global que recibió esta certificación en las tres clasificaciones.

## *Controles de organización de servicios 1, 2 y 3*
### Los servicios en la nube cubiertos por Microsoft se auditan al menos anualmente en el marco del informe de controles de organización de servicios (SOC) por parte de auditores independientes de terceros.

### La auditoría de servicios en la nube de Microsoft abarca los controles de seguridad de los datos, la disponibilidad, la integridad del procesamiento y la confidencialidad, que son aplicables a los principios de confianza incluidos para cada servicio.

## *Marco de ciberseguridad del Instituto Nacional de Estándares y Tecnología*

### El Marco de ciberseguridad (CSF) del Instituto Nacional de Estándares y Tecnología (NIST) es un marco voluntario que consta de los estándares, las directrices y los procedimientos recomendados para administrar los riesgos relacionados con la ciberseguridad.


### Los servicios en la nube de Microsoft se han sometido a auditorías de terceros de nivel alto y moderado del Federal Risk and Authorization Management Program (FedRAMP) y están certificados según los estándares del FedRAMP.

### Además, a través de una evaluación validada realizada por Health Information Trust Alliance (HITRUST), una organización líder de desarrollo y acreditación de estándares de seguridad y privacidad, Office 365 está certificado para los objetivos especificados en el CSF NIST.

## *G-Cloud del gobierno del Reino Unido*

### El G-Cloud del gobierno del Reino Unido es una certificación de informática en la nube para los servicios que se usan en las entidades gubernamentales del Reino Unido. Azure ha recibido la acreditación oficial del gobierno del Reino Unido.

## *Acceso a la declaración de privacidad de Microsoft, los Términos de los Servicios en Línea y el anexo de protección de datos* 

### En esta parte, obtendrá información sobre la manera en que la Declaración de privacidad de Microsoft, los Términos de los Servicios en Línea y el anexo de protección de datos explican qué datos personales recopila Microsoft, cómo los usa y con qué fines.

### En el caso de Tailwind Traders, comprender el compromiso de Microsoft con la privacidad ayuda a garantizar que los datos de los clientes y las aplicaciones estén protegidos.

## *¿Qué hay en la declaración de privacidad de Microsoft?*
### En la declaración de privacidad de Microsoft se explica qué datos personales recopila Microsoft, cómo los usa y con qué fines.

### La declaración de privacidad abarca todos los servicios, sitios web, aplicaciones, software, servidores y dispositivos de Microsoft. En esta lista se incluyen los productos de servidor y de empresa en los dispositivos que usa en su hogar para el software que usan los alumnos en la escuela.

### La declaración de privacidad de Microsoft también proporciona información pertinente para productos específicos, como Windows y Xbox.
## *¿Qué hay en los Términos de los Servicios en Línea?*

### Los Términos de los Servicios en Línea (OST) son un contrato legal entre Microsoft y el cliente. Los OST detallan las obligaciones de ambas partes con respecto al procesamiento y la seguridad de los datos de los clientes y los datos personales. Los OST se aplican específicamente a los servicios en línea de Microsoft a los que se concede licencia a través de una suscripción, incluidos Azure, Dynamics 365, Office 365 y Mapas de Bing.

## *¿Qué hay en el anexo de protección de datos?*
### El anexo de protección de datos (DPA) define también los términos de seguridad y procesamiento de datos para los servicios en línea. Estos términos incluyen:

* Cumplimiento de las leyes.
* Revelación de los datos procesados.
* Seguridad de los datos, lo cual incluye directivas y prácticas de seguridad, cifrado de datos, acceso a datos, responsabilidades del cliente y cumplimiento de la auditoría.
* Transferencia de datos, retención y eliminación.
### Para acceder al DPA:

* 1. Vaya a la documentación y los términos de licencia.

* 2. En la barra de búsqueda, escriba DPA.

* 3. En los resultados de la búsqueda, busque el vínculo al DPA en su idioma preferido.
### De forma alternativa, en la barra de búsqueda que aparece, escriba su idioma preferido para filtrar los resultados. Este es un ejemplo que recupera la versión en inglés del DPA.

![dpa](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/3-dpa-english.png)
### La transparencia es importante en cuanto a la manera en que un proveedor de la nube comunica sus directivas de privacidad y cómo trata los datos. La declaración de privacidad de Microsoft, los OST y el DPA detallan el compromiso de Microsoft con la protección de los datos y la privacidad en la nube.

## *Explorar el Centro de confianza*

### Tailwind Traders debe mantenerse al día respecto de los estándares de seguridad más recientes para proteger sus datos. En la actualidad, el equipo de seguridad debe comprobar si Azure cumple con el requisito ISO 27001, un estándar de seguridad de la información de uso común. ¿Dónde puede la empresa acceder a esta información?

### El Centro de confianza presenta los principios de Microsoft para mantener la integridad de los datos en la nube y la manera en que Microsoft implementa y admite la seguridad, la privacidad, el cumplimiento y la transparencia en todos los servicios y productos de nube de Microsoft. Es una parte importante de la iniciativa de nube de confianza de Microsoft y proporciona soporte técnico y recursos para la comunidad de cumplimiento normativo y legal.
![capacitacion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/4-trust-center.png)

### El Centro de confianza proporciona:

* Información detallada sobre seguridad, privacidad, ofertas de cumplimiento, directivas, características y procedimientos en todos los productos en la nube de Microsoft.
* Recursos adicionales para cada tema.
* Vínculos a los blogs de seguridad, privacidad y cumplimiento, así como de los próximos eventos.

### El Centro de confianza es un excelente recurso para otras personas de la organización que podrían desempeñar un papel importante en la seguridad, la privacidad y el cumplimiento. Entre estas personas se incluyen los gestores empresariales, los responsables de evaluación de riesgos y privacidad, así como los equipos de cumplimiento legal.

## *Explorar el Centro de confianza*

### Como ejercicio opcional, echemos un vistazo breve a la entrada del Centro de confianza para ISO 27001.

### El acceso al Centro de confianza no requiere una suscripción de Azure ni una cuenta de Microsoft.

* 1. Vaya al Centro de confianza.

* 2. Busque la sección Recursos adicionales de la página. En Ofertas de cumplimiento, seleccione Más información.
![ofertas](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/4-trust-center-compliance.png)

### Se le dirigirá a Ofertas de cumplimiento de Microsoft.

### Las ofertas se agrupan en cuatro categorías: Global, gobierno de EE. UU., sectorial y regional.

* 3. En Global, seleccione ISO 27001.

![iso](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/4-iso-27001.png)
### La página de estándares de administración de la seguridad de la información de ISO 27001 es típica del tipo de información de cumplimiento que se proporciona.

* 4. Revise brevemente la documentación para ISO/CEI 27001.

### Se ve lo siguiente:
* Una introducción al estándar.
* Qué servicios en la nube están en el ámbito.
* Una introducción al ciclo de auditoría y vínculos a informes de auditoría.
* Respuestas a las preguntas más frecuentes.
* Recursos adicionales y notas del producto.
### Las áreas de documentación de otras ofertas de cumplimiento variarán, pero este es el formato típico que encontrará.

## *Acceso a la documentación de cumplimiento de Azure*

### Aquí obtendrá información sobre cómo acceder a documentación detallada sobre el cumplimiento y los estándares legales y normativos en Azure.

### El comercio electrónico es una parte importante de la estrategia de ventas de Tailwind Traders. Su tienda en línea permite a los clientes buscar y pedir productos fácilmente. Los clientes suelen pagar con tarjeta de crédito, por lo que Tailwind Traders tiene una responsabilidad de conformidad con el Estándar de Seguridad de Datos (DSS) del Sector de Tarjetas de Pago (PCI). Este estándar global, conocido como PCI DSS, pretende evitar fraudes a través de un mayor control de los datos de las tarjetas de crédito. El estándar se aplica a cualquier organización que almacene, procese o transmita datos de pago y de titulares de tarjetas.

## Se le ha encargado investigar si hospedar la aplicación de comercio electrónico de la empresa en Azure cumpliría con el PCI DSS. Empiece con la documentación de cumplimiento de Azure.

## *¿Qué es la documentación de cumplimiento de Azure?*

### La documentación de cumplimiento de Azure proporciona documentación detallada sobre el cumplimiento y los estándares legales y normativos en Azure.

### Aquí encontrará las ofertas de cumplimiento en estas categorías:
* Global
* Gobierno de EE. UU.
* Servicios financieros
* Sanidad
* Soporte físico y fabricación
* Regional
### También hay recursos de cumplimiento adicionales, como informes de auditoría, información de privacidad, implementaciones y asignaciones de cumplimiento, notas del producto e informes de analistas. También se incluyen directrices de privacidad y cumplimiento de países y regiones. Algunos recursos pueden requerir que inicie sesión en su servicio en la nube para acceder a ellos.

## *Examinar el cumplimiento de PCI DSS*

### El equipo legal de Tailwind Traders quiere obtener más información sobre cómo el PCI DSS está relacionado con la aplicación de comercio electrónico de la empresa en Azure.

### Como ejercicio opcional, aquí puede seguir.

* 1. Vaya a la documentación de cumplimiento de Azure.

* 2. En Servicios financieros, seleccione PCI DSS.

![fd](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/5-financial-services.png)
### Allí verá:

* Una introducción al estándar PCI DSS.
* Cómo se aplica el PCI DSS a Microsoft.
* Qué servicios en la nube están en el ámbito.
* Una introducción al ciclo de auditoría.
* Respuestas a las preguntas más frecuentes.
* Recursos adicionales y notas del producto.
## *Acceso a recursos de cumplimiento adicionales* 
### En la documentación de cumplimiento de Azure, puede acceder a recursos de cumplimiento adicionales.

### Por ejemplo, en la sección Informes de auditoría, encontrará un vínculo a los informes de auditoría para PCI DSS.
![pci](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/5-audit-reports.png)
### Desde allí, puede acceder a varios archivos diferentes, como los informes de atestación de cumplimiento y la matriz de responsabilidades compartidas del PCI DSS.

### En Proyectos de cumplimiento, proyectos de referencia, o definiciones de directivas, para estándares comunes que puede aplicar a su suscripción de Azure. El proyecto de PCI DSS implementa un conjunto básico de directivas que se asignan al cumplimiento del PCI DSS y ayudan a controlar las cargas de trabajo de Azure en este estándar.

![PCI-DSS v3](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/5-compliance-blueprints.png)

### A continuación, puede ver si los recursos de Azure de la arquitectura de la aplicación se han configurado correctamente para el cumplimiento del PCI DSS o los recursos que necesita corregir.
### Dado que los estándares evolucionan, el equipo de Tailwind Traders podría comprobar periódicamente el informe de auditoría para asegurarse de que Azure cuenta con los cambios recientes.

## *¿Qué es Azure Government?*

### Azure Government es una instancia independiente del servicio de Microsoft Azure. Aborda las necesidades de seguridad y cumplimiento de las agencias federales de EE. UU., los gobiernos locales y estatales, así como sus proveedores de soluciones. Azure Government ofrece aislamiento físico de las implementaciones que no son del gobierno de los Estados Unidos y proporciona personal estadounidense que ha pasado por un filtro.

![government](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/6-azure-government.png)
### Los servicios de Azure Government controlan datos que están sujetos a determinados requisitos y regulaciones gubernamentales:

* Federal Risk and Authorization Management Program (FedRAMP)
* Base industrial de defensa (DIB) del Instituto Nacional de Estándares y Tecnología (NIST) 800.171
* Normativas sobre el tráfico internacional de armas (ITAR)
* Servicio de Impuestos Internos (IRS) 1075
* Departamento de Defensa (DoD) L4
* Servicios de información de justicia penal (CJIS)
### Para proporcionar el máximo nivel de seguridad y cumplimiento, Azure Government usa redes y centros de datos físicamente aislados ubicados solo en los EE. UU. Los clientes de Azure Government, como el gobierno federal, estatal y local de los EE. UU. o sus asociados, están sujetos a una validación de idoneidad.

### Azure Government proporciona el cumplimiento más amplio y la aprobación del Departamento de Defensa de nivel 5. Azure Government está disponible en ocho zonas geográficas y ofrece la mayoría de las certificaciones de cumplimiento de cualquier proveedor de nube.

## *¿Qué es Azure China 21Vianet?*

### Azure China 21Vianet es operado por 21Vianet. Se trata de una instancia físicamente separada de servicios en la nube que se encuentra en China. Azure China 21Vianet es operado y administrado de forma independiente por Shanghai Blue Cloud Technology Co., Ltd. ("21Vianet"), una subsidiaria propiedad exclusiva de Beijing 21Vianet Broadband Data Center Co., Ltd.

### Según el Reglamento de telecomunicaciones de China, los proveedores de servicios en la nube, infraestructuras como servicio (IaaS) y plataformas como servicio (PaaS) deben tener permisos de telecomunicaciones de valor añadido. Solo las compañías registradas localmente con una inversión extranjera inferior al 50 % pueden optar a estos permisos. Para cumplir con este Reglamento, el servicio de Azure en China es operado por 21Vianet, en función de las tecnologías con licencia de Microsoft.

![voz](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/examine-privacy-compliance-data-protection-standards/media/7-azure-china-21vianet.png)

### Como el primer proveedor de servicios en la nube pública que se ofrece en China de acuerdo con las reglamentaciones gubernamentales, Azure China 21Vianet proporciona seguridad de primera clase, tal como se describe en el Centro de confianza, según lo requieran las regulaciones chinas para todos los sistemas y aplicaciones basados en su arquitectura.

## *Productos y servicios de Azure disponibles en China*

### Los servicios de Azure se basan en las mismas tecnologías de Azure, Office 365 y Power BI que componen el servicio en la nube global de Microsoft, con niveles de servicio comparables. Los contratos y acuerdos de Azure en China, cuando corresponde, se firman entre los clientes y 21Vianet.

### Azure incluye los componentes principales de IaaS, PaaS y software como servicio (SaaS). Estos componentes incluyen la red, el almacenamiento, la administración de datos, la administración de identidades y muchos otros servicios.

### Azure China 21Vianet admite la mayoría de los servicios que Azure global tiene, como la replicación de datos geosincrónica y el escalado automático. Incluso si ya usa los servicios globales de Azure, para trabajar en China, es posible que tenga que volver a hospedar o refactorizar algunas o todas las aplicaciones o servicios.

## *Prueba de conocimientos*

### Considere el siguiente escenario: Luego, elija la mejor respuesta para cada pregunta y seleccione Comprobar las respuestas.

### En Tailwind Traders, los departamentos de TI y legales quieren comprender mejor cómo Microsoft trata los datos personales. También quieren comprender mejor cómo los servicios de Azure pueden ayudarles a cumplir sus objetivos de cumplimiento.

### Sus necesidades van más allá de Azure. Por ejemplo, las aplicaciones de sus tiendas minoristas usan Cortana para ayudar a los empleados a encontrar rápidamente los artículos.
## *Comprobación de conocimientos*

### 1. ¿Dónde puede acceder el equipo a los detalles sobre los datos personales que Microsoft procesa y la manera en que la empresa los procesa, también para Cortana?
### Declaración de privacidad de Microsoft (La declaración de privacidad de Microsoft proporciona información pertinente para servicios específicos, incluido Cortana.)



### 2. ¿Dónde puede acceder el equipo legal a la información sobre cómo la nube de Microsoft les ayuda a proteger los datos confidenciales y a cumplir con las leyes y regulaciones vigentes?
### Centro de confianza (El Centro de confianza es un excelente recurso para las personas de la organización que podrían desempeñar un papel importante en la seguridad, la privacidad y el cumplimiento.)


### 3. ¿Dónde puede encontrar el departamento de TI los proyectos de referencia que se pueden aplicar directamente a las suscripciones de Azure?
### Documentación del cumplimiento de Azure (La documentación de cumplimiento proporciona proyectos de referencia, o definiciones de directivas, para estándares comunes que puede aplicar a su suscripción de Azure.)

# **32.- Planeación y administración de los costos de Azure**

## *Comparación de costos mediante la calculadora de costo total de propiedad*

### Antes de que Tailwind Traders lleve a cabo los pasos siguientes para migrar a la nube, quiere comprender mejor lo que gasta actualmente en su centro de datos.

### Tener un conocimiento firme de dónde está hoy la empresa le dará una idea más clara de lo que significa la migración a la nube en términos de costos.

### En esta unidad, verá cómo la calculadora de costo total de propiedad (TCO) puede ayudar a comparar el costo de la ejecución en el centro de datos en lugar de en Azure.

## *¿Qué es la calculadora de TCO?*

### La calculadora de TCO le ayuda a calcular los costos que se ahorra al hacer funcionar la solución en Azure con el tiempo, en lugar de hacerlo en el centro de datos local.

### El término costo total de propiedad se usa normalmente en finanzas. Puede ser difícil ver todos los costos ocultos relacionados con el funcionamiento de una capacidad tecnológica en el entorno local. Las licencias de software y el hardware son costos adicionales.

### El término costo total de propiedad se usa normalmente en finanzas. Puede ser difícil ver todos los costos ocultos relacionados con el funcionamiento de una capacidad tecnológica en el entorno local. Las licencias de software y el hardware son costos adicionales.

### En la imagen siguiente se muestra un ejemplo.

![detalles](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/2-tco-report-bar-graphs.png)
### No se necesita una suscripción a Azure para trabajar con la calculadora de TCO.

## *¿Cómo funciona la calculadora de TCO?*

### El trabajo con la calculadora de TCO involucra tres pasos:
* Definir las cargas de trabajo
* Ajustar los supuestos
* Consulte el informe.

![ajustar](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/2-total-cost-ownership-steps.png)
## *Paso 1: Definir las cargas de trabajo*

### En primer lugar, escriba las especificaciones de la infraestructura local en la calculadora de TCO, en función de estas cuatro categorías:

* Servidores

### Esta categoría incluye los sistemas operativos, los métodos de virtualización, los núcleos de CPU y la memoria (RAM).

* Bases de datos

### Esta categoría incluye los tipos de base de datos, el hardware de servidores y el servicio de Azure que quiere usar, incluidos los inicios de sesión de usuario simultáneos máximos esperados.

* Storage

### Esta categoría incluye el tipo y la capacidad de almacenamiento, incluida toda copia de seguridad o almacenamiento de archivo.

* Redes

### Esta categoría incluye la cantidad de ancho de banda de red que se usa actualmente en el entorno local.

## *Paso 2: Ajustar supuestos*

### A continuación, especifique si las licencias locales actuales están inscritas para Software Assurance, lo cual puede ayudarle a ahorrar dinero al reutilizar esas licencias en Azure. También se especifica si es necesario replicar el almacenamiento en otra región de Azure para obtener una mayor redundancia.

### A continuación, puede ver las proyecciones de costos operativos clave en diferentes áreas, que varían entre equipos y organizaciones. Estos costos están certificados por Nucleus Research, una empresa independiente de investigación. Por ejemplo, entre estos costos se incluyen:

* Precio de electricidad por kilovatios/hora (KWh).
* Tarifa por hora para la administración de TI.
* Costo de mantenimiento de la red como un porcentaje de los costos de software y hardware de red.
### Para mejorar la precisión de los resultados de la calculadora de TCO, debe ajustar los valores para que coincidan con los costos de la infraestructura local actual.

## *Paso 3: Ver el informe*

### Elija un período de tiempo entre uno y cinco años. La calculadora de TCO genera un informe que se basa en la información especificada. Este es un ejemplo:

![costo](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/2-tco-report-piecharts.png)

### Para cada categoría (proceso, centro de datos, redes, almacenamiento y personal de TI), también puede ver una comparación en paralelo del desglose de costos de funcionamiento de esas cargas de trabajo locales frente a su funcionamiento en Azure. Este es un ejemplo:
![costo estimado](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/2-tco-report-detailed-cost.png)

### Puede descargar, compartir o guardar este informe para revisarlo más adelante.

## *Ejercicio: comparación de los costos de carga de trabajo de ejemplo mediante la calculadora de TCO*

### En este ejercicio, use la calculadora de costo total de propiedad (TCO) para comparar el costo de ejecutar una carga de trabajo de ejemplo en el centro de datos en lugar de en Azure.

### A Tailwind Traders le interesa mover algunas de las cargas de trabajo locales a la nube. Pero primero su director financiero quiere saber más sobre cómo pasar de una estructura de costos relativamente fija a una estructura de costos mensual en curso.

### A usted le han encargado la tarea de investigar si existe algún ahorro potencial de costos en el traslado del centro de datos europeo a la nube durante los próximos tres años. Debe tener en cuenta todos los costos potencialmente ocultos que participan en el funcionamiento local y en la nube.

### En lugar de recopilar manualmente todo lo que piense que podría estar incluido, use la calculadora de TCO como punto de partida. Ajuste las proyecciones de costos proporcionadas para que coincidan con el entorno local de Tailwind Traders.

### Recuerde que no se necesita una suscripción a Azure para trabajar con la calculadora de TCO.

### Supongamos que:
* Tailwind Traders ejecuta dos conjuntos, o bancos, de 50 máquinas virtuales (VM) en cada banco.

* El primer banco de máquinas virtuales ejecuta Windows Server en la virtualización de Hyper-V.

* El segundo banco de máquinas virtuales ejecuta Linux en la virtualización de VMware.

* También hay una red de área de almacenamiento (SAN) con 60 terabytes (TB) de almacenamiento en disco.

* Debe usar un ancho de banda de red de salida estimado de 15 TB cada mes.

* También hay varias bases de datos implicadas, pero por ahora omitirá esos detalles.

### Recuerde que la calculadora de TCO involucra tres pasos:

![pasos](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/2-total-cost-ownership-steps.png)

## *Definir las cargas de trabajo*
### Escriba las especificaciones de la infraestructura local en la calculadora de TCO.
* 1. Vaya a Calculadora de TCO.

* 2. En Definir las cargas de trabajo, seleccione Agregar carga de trabajo del servidor para crear una fila para el banco de VM de Windows Server.

* 3. En Servidores, establezca el valor para cada una de estas opciones:

|Configuración	|Valor|
|--------------|------|
|Nombre|Servidores: VM Windows|
|Carga de trabajo|Servidor de Windows/Linux|
|Entorno	|Máquinas virtuales|
|Sistema operativo|Windows|	
|Máquinas virtuales	|50|
|Virtualización	|Hyper-V|
|Núcleos	|8|
|RAM (GB)	|16|
|Optimizar por	|CPU|
|Windows Server 2008/2008 R2	|Desactivado|

* 4. Seleccione Agregar carga de trabajo del servidor para crear una segunda fila para el banco de VM Linux. Luego, especifique la configuración de estos parámetros:

|Configuración	| Valor|
|---------------|------|
|Nombre|Servidores: VM Linux|
|Carga de trabajo|Servidor de Windows/Linux|
|Entorno|Máquinas virtuales|
|Sistema operativo|Linux|
|	Máquinas virtuales	|50|
|Virtualización	|VMware|
|Núcleos|8|
|RAM (GB)	|16|
|Optimizar por	|CPU|

 * 5. En Almacenamiento, seleccione Agregar almacenamiento. Luego, especifique la configuración de estos parámetros:

|Configuración	| Valor|
|---------------|------|
|Nombre|Almacenamiento en servidor|
|Tipo de almacenamiento|Tipo de almacenamiento|
|Tipo de disco|HDD|
|Capacity	|60 TB|
|	Copia de seguridad		|120 TB|
|Archivar		|0 TB|

* 6. En Redes, establezca Ancho de banda de salida en 15 TB.

* 7. Seleccione Next (Siguiente).

## *Ajustar supuestos* 

### Aquí, especifique la moneda. Para mayor brevedad, deje los campos restantes con sus valores predeterminados.

### En la práctica, ajustaría cualquier proyección de costos y realizaría ajustes para que coincidan con el entorno local actual.

* 1. En la parte superior de la página, seleccione la moneda. En este ejemplo se usa Dólar estadounidense (USD).

* 2. Seleccione Next (Siguiente).

## *Visualización del informe*

### Dedique un momento a revisar el informe generado.

### Recuerde que se le ha encargado investigar el ahorro de costos para el centro de datos europeo en los próximos tres años.

### Para realizar estos ajustes:

* 1. Establezca Período de tiempo en 3 años.
* 2. Establezca Región en Norte de Europa.

### Desplácese hasta el resumen en la parte inferior. Verá una comparación de la ejecución de las cargas de trabajo en el centro de datos en lugar de en Azure. Los precios que ve se pueden diferir, pero este es un ejemplo del ahorro de costos que podría esperar.

![costo](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/3-tco-calculator-summary.png)


### Seleccione Descargar para descargar o imprimir una copia del informe en formato PDF.

## *Comprar servicios de Azure*

### Tras reunirse con su director financiero y algunos de los responsables del equipo, Obtendrá información sobre algunos supuestos que ha pasado por alto. Ha podido actualizar rápidamente el gasto total estimado a través de la calculadora de costo total de propiedad (TCO).

### Durante la reunión, surgieron algunas preguntas nuevas a medida que la discusión apuntaba a la migración a la nube:

* ¿Qué tipos de suscripciones de Azure están disponibles?
* ¿Cómo compramos servicios de Azure?
* ¿Afecta el tráfico de red o la ubicación al costo?
* ¿Qué otros factores afectan al costo final?
* ¿Cómo podemos obtener una estimación más detallada del costo de ejecutar en Azure?

### Es importante saber cómo se generan los costos en Azure para entender cómo las decisiones de diseño de soluciones y compras pueden afectar al costo final. Usted acepta investigar estas preguntas, así que vamos a revisar cada una de ellas con mayor detalle.

## *¿Qué tipos de suscripciones de Azure puedo usar?*

### Probablemente sepa que una suscripción de Azure le proporciona acceso a los recursos de Azure, como máquinas virtuales (VM), almacenamiento y bases de datos. Los tipos de recursos que use afectan a su factura mensual.

### Azure ofrece opciones de suscripción gratuitas y de pago para satisfacer sus necesidades y requisitos. Son las siguientes:
* Evaluación gratuita
### Una suscripción de evaluación gratuita proporciona 12 meses de servicios gratuitos populares, un crédito para explorar cualquier servicio de Azure durante 30 días y más de 25 servicios que siempre son gratis. Los servicios de Azure se deshabilitan cuando la evaluación termina o cuando el crédito expira para los productos de pago, a menos que actualice a una suscripción de pago.

* Pago por uso

### Una suscripción de pago por uso le permite pagar por lo que usa al conectar una tarjeta de crédito o débito a su cuenta. Las organizaciones pueden solicitar descuentos por volumen y facturación de pago por adelantado.

* Ofertas para miembros

### La pertenencia existente a determinados productos y servicios de Microsoft puede proporcionarle créditos para su cuenta de Azure y tarifas reducidas en los servicios de Azure. Por ejemplo, las ofertas para miembros están disponibles para los suscriptores de Visual Studio, los miembros de Microsoft Partner Network, los miembros de Microsoft for Startups y los miembros de Microsoft Imagine.

## *¿Cómo compro servicios de Azure?*

### Hay tres formas principales de comprar servicios en Azure. Son las siguientes:

* A través de un Contrato Enterprise

### Los clientes más grandes, conocidos como clientes empresariales, pueden firmar una Contrato Enterprise con Microsoft. Este contrato los compromete a gastar una cantidad predeterminada en los servicios de Azure durante un período de tres años. Normalmente, el precio de los servicios se paga anualmente. Como cliente con Contrato Enterprise, recibirá los mejor precios personalizados en función de los tipos y las cantidades de servicios que planee usar.


* Directamente desde la web

### Aquí se compran los servicios de Azure directamente desde el sitio web de Azure Portal y se pagan precios estándar. Se factura mensualmente, como un pago de tarjeta de crédito o a través de una factura. Este método de compra se conoce como Web Direct.

* A través de un Proveedor de soluciones en la nube

### Un Proveedor de soluciones en la nube (CSP) es un partner de Microsoft que le ayuda a crear soluciones a partir de Azure. El CSP le factura por el uso de Azure a un precio determinado. También responde a las preguntas de soporte técnico y las remite a Microsoft según sea necesario.

### Puede mostrar o aprovisionar recursos de Azure desde Azure Portal o desde la línea de comandos. Azure Portal organiza los productos y servicios por categoría. Puede seleccionar los servicios que se ajusten a sus necesidades. La cuenta se factura según el modelo de "pago por uso" de Azure.

![recurso](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/4-azure-portal-create-resource.png)

### Al final de cada mes, se le facturará por lo que ha usado. En cualquier momento, puede consultar la página de facturación y administración de costos de Azure Portal para obtener un resumen del uso actual y revisar las facturas de ciclos de meses anteriores.

## *¿Qué factores afectan al costo?*

### La forma en que usa sus recursos, el tipo de suscripción y los precios de los proveedores de terceros son factores comunes. Examinemos rápidamente cada uno.

## *Tipo de recurso*


### Varios factores influyen en el costo de los recursos de Azure. Dependen del tipo de recurso o de cómo se personalice.

### Por ejemplo, con una cuenta de almacenamiento, se especifica un tipo (por ejemplo, almacenamiento de blobs en bloques o Table Storage), un nivel de rendimiento (estándar o premium) y un nivel de acceso (frecuente, esporádico o de archivo). Estas selecciones presentan costos diferentes.

## *Medidores de uso*

### Al aprovisionar un recurso, Azure crea medidores para realizar el seguimiento del uso de dicho recurso. Azure usa estos medidores para generar un registro de uso que posteriormente se usa para ayudar a calcular la factura.

### Piense en los medidores de uso de forma similar a la forma en que usa electricidad o agua en su hogar. Puede que pague un precio base cada mes por el servicio de electricidad o de agua, pero su factura final se basa en la cantidad total que consuma.

### Echemos un vistazo a una sola VM como ejemplo. Los siguientes tipos de medidores son pertinentes para el seguimiento de su uso:

* Tiempo total de CPU.
* Tiempo empleado en una dirección IP pública.
* Tráfico de red entrante (entrada) y saliente (salida) de la máquina virtual.
* Tamaño del disco y cantidad de operaciones de lectura y escritura del disco.
### Cada medidor realiza un seguimiento de un tipo específico de uso. Por ejemplo, un medidor podría realizar un seguimiento del uso de ancho de banda (tráfico de red entrante o saliente en bits por segundo), el número de operaciones o su tamaño (capacidad de almacenamiento en bytes).

### El uso del que un medidor realiza el seguimiento se correlaciona con una cantidad de unidades facturables. Estas unidades se cobran en su cuenta por cada período de facturación. La tarifa por cada unidad facturable depende del tipo de recurso que use.

## *Uso de recursos*

### En Azure, siempre se le cobrará en función de lo que use. Por ejemplo, echemos un vistazo a la forma en que esta facturación se aplica para desasignar una VM.

### En Azure, puede eliminar o desasignar una máquina virtual. La eliminación de una VM significa que ya no la necesitará. La VM se quita de la suscripción y luego se prepara para otro cliente.

### La desasignación de una VM significa que esta ya no está en ejecución. Pero los discos duros y datos asociados todavía se conservan en Azure. La VM no está asignada a una CPU ni a una red del centro de datos de Azure, por lo que no genera los costos asociados con el tiempo de proceso ni la dirección IP de la VM. Dado que los discos y los datos siguen almacenados y el recurso está presente en la suscripción de Azure, se le seguirá facturando por el almacenamiento en disco.

### Desasignar una máquina virtual cuando no tiene previsto usarla durante algún tiempo es simplemente una manera de minimizar los costos. Por ejemplo, podría desasignar las VM que usa con fines de pruebas durante los fines de semana cuando el equipo de pruebas no las está usando. Aprenderá más sobre estas manera de minimizar costos más adelante en este módulo.

## *Tipos de suscripción de Azure*

### Algunos tipos de suscripciones de Azure también incluyen provisiones de uso que afectan a los costos.

### Por ejemplo, una suscripción de evaluación gratuita de Azure proporciona acceso a una serie de productos de Azure gratis durante 12 meses. También incluye un crédito para gastar en los primeros 30 días de la suscripción. Además, obtiene acceso a más de 25 productos que siempre son gratis (según la disponibilidad de recursos y regiones).

## *Azure Marketplace*


### También puede comprar a otros proveedores soluciones y servicios basados en Azure a través de Azure Marketplace. Entre los ejemplos se incluyen conectores o dispositivos de firewall de red administrada para servicios de copia de seguridad de terceros. El proveedor establece las estructuras de facturación.

## *¿Afecta el tráfico de red o la ubicación al costo?*

### Al aprovisionar un recurso en Azure, debe definir la ubicación (conocida como la región de Azure) en la que se implementará. Veamos por qué esta decisión puede tener consecuencias de costos.

## *Location*
### La infraestructura de Azure se distribuye globalmente, lo cual permite implementar los servicios de forma centralizada o aprovisionar los servicios más cercanos al lugar donde los clientes los usan.

### Distintas regiones pueden tener distintos precios asociados. Dado que las regiones geográficas pueden afectar al flujo del tráfico de red, el tráfico de red es también una influencia en el costo que se debe tener en cuenta.

### Por ejemplo, supongamos que Tailwind Traders decide aprovisionar sus recursos de Azure en las regiones de Azure que ofrecen los precios más bajos. Esta decisión ahorraría dinero a la empresa. Pero si necesitan transferir datos entre esas regiones, o si sus usuarios se encuentran en distintas partes del mundo, cualquier ahorro potencial podría ser absorbido por los costos de uso de red adicionales de la transferencia de datos entre esos recursos.

## *Zonas para la facturación del tráfico de red*

### Las zonas de facturación son un factor a la hora de determinar el costo de algunos servicios de Azure.

### El ancho de banda hace referencia a los datos que entran y salen de los centros de datos de Azure. Algunas transferencias de datos entrantes (datos que se dirigen a los centros de datos de Azure) son gratis. En cuanto a las transferencias de datos salientes (datos que salen de los centros de datos de Azure), el precio de la transferencia de datos se basa en las zonas.

![zonas](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/4-billing-zones.png)

### Una zona es una agrupación geográfica de regiones de Azure para fines de facturación. Las siguientes zonas incluyen algunas de las regiones que se muestran aquí:

* Zona 1: Centro de Australia, Oeste de EE. UU., Este de EE. UU., Oeste de Canadá, Oeste de Europa, Centro de Francia y otras

* Zona 2: Este de Australia, Japón Occidental, Centro de la India, Sur de Corea del Sur y otras
* Zona 3: Sur de Brasil, Norte de Sudáfrica, Oeste de Sudáfrica, Centro de Emiratos Árabes Unidos, Norte de Emiratos Árabes Unidos
* Zona 1 de Alemania: Centro de Alemania y Nordeste de Alemania
## *¿Cómo puedo calcular el costo total?*
### La Calculadora de precios muestra los productos de Azure por categorías. Agregue estas categorías a su estimación y configúrelas según sus requisitos específicos. Luego recibirá un precio estimado consolidado, con un desglose detallado de los costos asociados a cada recurso que ha agregado a la solución. Puede exportar o compartir esa estimación o guardarla para más adelante. Puede cargar una estimación guardada y modificarla para que coincida con los requisitos actualizados.
![calcular](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/4-pricing-calculator.png)

### Las opciones que se pueden configurar en la Calculadora de precios varían entre productos, pero pueden incluir:
* Región
### Una región es la ubicación geográfica en la que se puede aprovisionar un servicio. Sudeste Asiático, Centro de Canadá, Oeste de EE. UU. y Norte de Europa son algunos ejemplos.

* Nivel
### Los niveles, como el nivel Gratis o el nivel Básico, tienen distintos niveles de disponibilidad o rendimiento y diferentes costos asociados.

* Opciones de facturación
### Las opciones de facturación resaltan las diferentes formas de pagar por un servicio. Las opciones pueden variar según el tipo de cliente y el tipo de suscripción, y pueden incluir opciones para ahorrar costos.

* Opciones de soporte técnico
### Estas opciones permiten seleccionar opciones de precios de soporte adicionales para determinados servicios.

* Programas y ofertas
### Es posible que el tipo de cliente o suscripción le permita elegir entre programas de licencia específicos u otras ofertas.


* Precios de Desarrollo/pruebas de Azure
### Esta opción muestra los precios disponibles para las cargas de trabajo de desarrollo y prueba. Los precios de Desarrollo/pruebas se aplican cuando se ejecutan recursos en una suscripción de Azure basada en una oferta de Desarrollo/pruebas.

### Tenga en cuenta que la Calculadora de precios proporciona estimaciones y no cotizaciones de precios reales. Los precios reales pueden variar en función de la fecha de compra, la moneda de pago que use y el tipo de cliente de Azure en el que se encuentre.

## **Ejercicio: Cálculo del costo de la carga de trabajo con la calculadora de precios**

### En este ejercicio, usará la calculadora de precios para calcular el costo de ejecutar una aplicación web básica en Azure.
### Teniendo en cuenta los factores de costo más importantes asociados a la ejecución en Azure, Tailwind Traders quiere tomar una carga de trabajo típica y calcular cuánto costará ejecutarla en Azure cada mes.

### El administrador de TI de Tailwind Traders debe decidir si se va a reemplazar algún hardware local de antigüedad o si se va a migrar la aplicación a Azure. La empresa necesita saber cuál sería el costo mensual en curso de la solución en Azure.

## *Definición de los requisitos*

### En su centro de datos, el equipo tiene una aplicación web ASP.NET que se ejecuta en Windows. La aplicación web proporciona información sobre el inventario de productos y los precios. Hay dos máquinas virtuales que se conectan a través de un equilibrador de carga central. La aplicación web se conecta a una base de datos de SQL Server que contiene información de inventario y de precios.

### El equipo decide:

* Usar instancias de Azure Virtual Machines, de forma similar a las máquinas virtuales que se usan en el centro de datos.
* Usar Azure Application Gateway para el equilibrio de carga.
* Usar Azure SQL Database para almacenar información de inventario y de precios.

### Configuracion básica
![conf](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/5-estimate-costs-architecture.png)

* Los empleados de Tailwind Traders usan la aplicación en sus tiendas minoristas. No es accesible para los clientes.
* Esta aplicación no requiere una gran cantidad de potencia informática.
* La máquinas virtuales y la base de datos se ejecutan de forma constante (730 horas por mes).
* La red procesa aproximadamente 1 TB de datos al mes.
* No es necesario configurar la base de datos para cargas de trabajo de alto rendimiento y no se requieren más de 32 GB de almacenamiento.

## *Explorar la calculadora de precios*

* 1. Vaya a la calculadora de precios.

* 2. Observe las pestañas siguientes:
![pesta](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/5-pricing-calculator-tabs.png)

### **Productos**
### Aquí es donde se eligen los servicios de Azure que desea incluir en su estimación. Probablemente pasará la mayor parte del tiempo aquí.
### **Escenarios de ejemplo**
### Aquí encontrará varias arquitecturas de referencia, o soluciones comunes basadas en la nube, que puede usar como punto de partida.
### **Estimaciones guardadas**
### Aquí encontrará las estimaciones que guardó anteriormente.
### **P+F**
### Aquí encontrará respuestas a las preguntas más frecuentes sobre la calculadora de precios.

## *Calcular la solución*

### Asegúrese de que la calculadora esté limpia, es decir, que no se muestre nada en la cotización. Puede restablecer la estimación seleccionando el icono de la papelera junto a cada elemento.

## *Agregar servicios a la estimación*

* 1. En la pestaña Productos, seleccione el servicio de cada una de estas categorías:

|Category	|Servicio|
|---------|--------|
|Compute	|Máquinas virtuales|
|Bases de datos	|Azure SQL Database|
|Redes	|Application Gateway|

* 2. Desplácese hasta la parte inferior de la página. Verá que cada servicio aparece con su configuración predeterminada.
![estimacion](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/5-pricing-calculator-estimate.png)

## *Configurar los servicios para que coincidan con los requisitos*

* 1. En Virtual Machines, establezca estos valores:

|Configuracion	|Value|
|---------|--------|
|Region|Oeste de EE. UU.|
|Sistema operativo	|Windows|
|Tipo	|(Solo sistema operativo)|
|Nivel	|Estándar|
|Instancia	|D2 v3|
|Máquinas virtuales	|2 x 730 horas|

* 2. En Azure SQL Database, establezca estos valores:
|Configuración|Value|
|------------|------|
|Region	|Oeste de EE. UU.|
|Tipo	|Base de datos única|
|Capa de almacenamiento de copia de seguridad	|RA-GRS|
|Modelo de compra	|vCore|
|Nivel de servicio	|Uso general|
|Nivel de proceso	|aprovisionado|
|Generation	|Gen 5|
|Instancia|8 núcleo virtual|

### Deje las opciones restantes en sus valores actuales.

* 3. En Application Gateway, establezca estos valores:

|Configuración	|Value|
|Region	|Oeste de EE. UU.|
|Nivel	|Firewall de aplicaciones web|
|Tamaño	|Mediano|
|Horas de puerta de enlace|	2 x 730 horas|
|Datos procesados	|1 TB|
|Transferencia de datos de salida	|5 GB|

### Deje las opciones restantes en sus valores actuales.

## *Revisar, compartir y guardar la estimación*

### En la parte inferior de la página, verá el costo total estimado de ejecutar la solución. Si lo desea, puede cambiar el tipo de moneda.

![estimado](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/5-pricing-calculator-estimated-cost.png)

### En este punto, tiene algunas opciones:

* Seleccione Exportar para guardar la estimación como documento de Excel.

* Seleccione Guardar o Guardar como para guardar la estimación en la pestaña Estimaciones guardadas para más adelante.

* Seleccione Compartir para generar una dirección URL de modo que pueda compartir la estimación con su equipo.


### Ahora tiene una estimación de costos que puede compartir con su equipo. Puede realizar ajustes a medida que detecta cualquier cambio en sus requisitos.

## *Administrar y minimizar el costo total en Azure*

### Como distribuidor de productos para la remodelación del hogar, el refrán "Mide dos veces antes de cortar" se ajusta al equipo en Tailwind Traders.

### Estos son algunos procedimientos recomendados que pueden ayudarle a minimizar los costos.

## *Comprender los costos estimados antes de implementar*

### Para ayudarle a planear su solución en Azure, tenga en cuenta detenidamente los productos, servicios y recursos que necesita. Lea la documentación correspondiente para comprender cómo se mide y factura cada una de las opciones.

### Calcule los costos previstos mediante la Calculadora de precios y la calculadora de costo total de propiedad (TCO). Agregue solo los productos, servicios y recursos que necesita para la solución.

## *Usar Azure Advisor para supervisar la utilización*

### Azure Advisor identifica los recursos no utilizados o infrautilizados, y recomienda recursos no utilizados que se pueden quitar. Esta información le ayudará a configurar los recursos para que coincidan con la carga de trabajo real.

### En la imagen siguiente se muestran algunas recomendaciones de ejemplo de Azure Advisor:
![recomendaciones](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/6-azure-advisor-expanded.png#lightbox)

### Las recomendaciones se ordenan por impacto: alto, medio o bajo. 

## *Usar límites de gasto para restringir los gastos*

### Si tiene una evaluación gratuita o una suscripción de Azure basada en crédito, puede usar los límites de gasto para evitar la saturación accidental.

### Por ejemplo, al gastar todo el crédito incluido en su cuenta gratuita de Azure, los recursos de Azure que implementó se quitan de la producción, y las máquinas virtuales (VM) de Azure se detienen y se desasignan. Los datos de las cuentas de almacenamiento están disponibles como de solo lectura. En este momento, puede actualizar su suscripción de evaluación gratuita a una suscripción de pago por uso.

### Si tiene una suscripción basada en crédito y alcanza el límite de gasto configurado, Azure suspende su suscripción hasta que comience un nuevo período de facturación.

### Un concepto relacionado es el de cuotas o límites en el número de recursos similares que se pueden aprovisionar dentro de la suscripción. Por ejemplo, puede asignar hasta 25 000 VM por región. Estos límites principalmente ayudan a Microsoft a planear la capacidad del centro de datos.

## *Usar Reservas de Azure para pagar por adelantado*

### Reservas de Azure ofrecen precios con descuento en determinados servicios de Azure. Reservas de Azure puede ahorrar hasta un 72 % en comparación con los precios de pago por uso. Para recibir un descuento, reserve los servicios y recursos abonándolos por adelantado.

### En el ejemplo siguiente se muestra el ahorro estimado en las VM. En este ejemplo, se ahorra aproximadamente el 72 % con el compromiso de un período de tres años.
![producto](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/6-azure-reservations.png)


## *Elegir regiones y ubicaciones de bajo costo*
### El costo de los productos, servicios y recursos de Azure puede variar entre ubicaciones y regiones. Si es posible, debe usarlos en aquellas ubicaciones y regiones donde el costo es menor.

### Pero recuerde que algunos recursos se miden y se facturan según la cantidad de ancho de banda de red saliente (salida) que usan. Debe aprovisionar los recursos conectados que se midan por ancho de banda en la misma región de Azure para reducir el tráfico de salida entre ellos.

## *Investigación de las ofertas de ahorro de costos disponibles*

### Manténgase al día de las últimas ofertas de clientes y suscripciones de Azure, y cambie a las que le proporcionen el mayor ahorro de costos.

## *Usar Azure Cost Management + Billing para controlar gastos*

### Azure Cost Management + Billing es un servicio gratuito que le ayuda a comprender su factura de Azure, administrar su cuenta y sus suscripciones, supervisar y controlar los gastos de Azure, y optimizar el uso de recursos.
### En la siguiente imagen se muestra el uso actual desglosado por servicio:
![reporte](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/6-cost-management-expanded.png#lightbox)

### Las características de Azure Cost Management + Billing incluyen:

* Reporting

### Use datos históricos para generar informes y predecir el uso y los gastos futuros.

* Enriquecimiento de datos

### Mejore la responsabilidad mediante la categorización de los recursos con etiquetas que se correspondan con las unidades organizativas y empresariales del mundo real.

* Presupuestos

### Cree y administre presupuestos de costos y uso mediante la supervisión de tendencias de demanda de recursos, tasas de consumo y patrones de costos.

* Alertas

### Obtenga alertas basadas en los presupuestos de costos y uso.

* Recomendaciones

### Reciba recomendaciones para eliminar recursos inactivos y para optimizar los recursos de Azure que aprovisiona.

## *Aplicar etiquetas para identificar a los propietarios de costos*

### Las etiquetas ayudan a administrar los costos asociados a los distintos grupos de productos y recursos de Azure. Puede aplicar etiquetas a grupos de recursos de Azure para organizar los datos de facturación.

### Por ejemplo, si ejecuta varias VM para distintos equipos, puede usar etiquetas para clasificar los costos por departamento, como Recursos Humanos, Marketing o Finanzas, o por entorno, como de prueba o producción.

### Las etiquetas facilitan la identificación de los grupos que generan los mayores costos de Azure, lo cual puede ayudarle a ajustar el gasto en consecuencia.

### En la siguiente imagen se muestra el uso de un año desglosado por etiquetas en la página de Azure Cost Management + Billing:
![cost](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/6-cost-management-tags.png)

## *Cambiar el tamaño de las máquinas virtuales infrautilizadas*

### Una recomendación común que encontrará de Azure Cost Management + Billing y Azure Advisor es cambiar el tamaño o apagar las VM que están infrautilizadas o inactivas.

### Por ejemplo, supongamos que tiene una VM cuyo tamaño es Standard_D4_v4, un tipo de VM de uso general con cuatro vCPU y 16 GB de memoria. Tal vez descubra que esta VM está inactiva el 90 % del tiempo.

### Los costos de las máquinas virtuales son lineales y dobles por cada tamaño mayor en la misma serie. Por lo tanto, en este caso, si reduce el tamaño de la VM de Standard_D4_v4 a Standard_D2_v4, que es el siguiente tamaño más bajo, reducirá el costo de proceso en un 50 %.

![mv](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/6-vm-resize.png)

## *Desasignar máquinas virtuales durante las horas de inactividad*

### Recuerde que desasignar una máquina virtual significa que ya no se ejecuta la máquina virtual, sino que se conservan los discos duros y los datos asociados en Azure.
### Si tiene cargas de trabajo de VM que solo se usan durante determinados períodos, pero las ejecuta cada hora de cada día, está malgastando dinero. Estas máquinas virtuales son magníficas candidatas para apagarse cuando no se usan y para volver a iniciarlas cuando las necesita, lo que ahorra costos de proceso mientras la máquina virtual está desasignada.

### Este enfoque es una excelente estrategia para entornos de desarrollo y pruebas, donde las VM solo son necesarias durante el horario comercial. Azure proporciona incluso una manera de iniciar y detener automáticamente las máquinas virtuales según una programación.

## *Eliminar recursos no utilizados*

### Es posible que esta recomendación parezca obvia, pero, si no usa un recurso, debería apagarlo. No es poco frecuente encontrar sistemas de prueba de concepto, o que no son de producción, que después de completar un proyecto ya no son necesarios.

### Revise el entorno con frecuencia y trabaje para identificar estos sistemas. Apagar estos sistemas puede tener un beneficio doble, al permitirle ahorrar en costos de infraestructura y suponer posibles ahorros en licencias y operaciones.

## *Migración de servicios IaaS a PaaS*

### Al trasladar las cargas de trabajo a la nube, una evolución natural es comenzar con los servicios de infraestructura como servicio (IaaS) porque se asignan de manera más directa a los conceptos y las operaciones con las que ya está familiarizado.

### Con el tiempo, una manera de reducir costos es trasladar gradualmente las cargas de trabajo de IaaS para ejecutarlas en servicios de plataforma como servicio (PaaS). Aunque puede pensar en IaaS como acceso directo a la infraestructura de proceso, PaaS proporciona entornos de desarrollo e implementación listos para usar y que se administran automáticamente.

### Por ejemplo, supongamos que ejecuta SQL Server en una VM que se ejecuta en Azure. Esta configuración le exige administrar el sistema operativo subyacente, configurar una licencia de SQL Server, administrar las actualizaciones de software y seguridad, etc. También deberá pagar por la máquina virtual tanto si la base de datos está procesando consultas como si no. Una manera de ahorrar costos es migrar la base de datos de SQL Server en una VM a Azure SQL Database. Azure SQL Database se basa en SQL Server.

### No solo la ejecución de servicios de PaaS como Azure SQL Database suele ser menos costosa, pero dado que se administran automáticamente, no es necesario preocuparse por las actualizaciones de software, las revisiones de seguridad ni optimizar el almacenamiento físico para operaciones de lectura y escritura.

## *Ahorro en costos de licencia*
### Las licencias son otro aspecto que puede afectar considerablemente al gasto en la nube. Veamos algunas maneras de reducir los costos de licencia.

## **Elección de sistemas operativos rentables**

### Muchos servicios de Azure ofrecen una opción de ejecución en Windows o Linux. En algunos casos, el costo depende de su elección. Cuando se tiene elección y la aplicación no depende del sistema operativo subyacente, es útil comparar los precios para ver si se puede ahorrar dinero.

## *Uso de la Ventaja híbrida de Azure para reasignar licencias de software en Azure*

### Si ha adquirido licencias para Windows Server o SQL Server, y las licencias están cubiertas por Software Assurance, es posible que pueda reasignar esas licencias a VM de Azure.
### Algunos de los detalles varían entre Windows Server y SQL Server. Proporcionaremos recursos al final de este módulo donde podrá obtener más información.

## *Prueba de conocimientos*

### Antes de migrar su sistema de comercio electrónico existente desde el centro de datos hasta los entornos de producción en Azure, el equipo de Tailwind Traders desea configurar primero los entornos para desarrollo y pruebas.
![diagrama](https://docs.microsoft.com/es-mx/learn/azure-fundamentals/plan-manage-azure-costs/media/7-dev-test-environments.svg)

## *Comprobación de conocimientos*

### 1. ¿Cuál es el mejor primer paso que debe tomar el equipo para comparar el costo de ejecutar estos entornos en Azure en lugar de en su centro de datos?
### Ejecute la calculadora de costo total de propiedad. ( Ejecutar la calculadora de costo total de propiedad es un excelente primer paso, ya que puede proporcionar una comparación precisa de las cargas de trabajo en ejecución en el centro de datos en lugar de en Azure, con la certificación de una empresa de investigación independiente.)



### 2. ¿Cuál es la mejor manera de asegurarse de que el equipo de desarrollo no aprovisione demasiadas máquinas virtuales al mismo tiempo?
### Aplique los límites de gasto a la suscripción de Azure del equipo de desarrollo.(Si supera el límite de gasto, se desasignarán los recursos activos. Después, puede decidir si aumentará el límite o aprovisionará menos recursos.)

### 3. ¿Cuál es la forma más eficaz para que el equipo de pruebas ahorre costos en máquinas virtuales los fines de semana, cuando los evaluadores no están trabajando?
### Desasigne las máquinas virtuales cuando no están en uso.(Cuando se desasignan las máquinas virtuales, los discos duros y los datos asociados todavía se conservan en Azure. Pero no paga por el consumo de la CPU o la red, lo que puede ayudar a ahorrar costos.)

### 4. Los pagos de los recursos de los entornos de desarrollo y pruebas los hacen los distintos departamentos. ¿Cuál es la mejor manera de categorizar los costos por departamento?
### Aplique una etiqueta a cada máquina virtual que identifique el departamento de facturación adecuado.( Puede aplicar etiquetas a grupos de recursos de Azure para organizar los datos de facturación.)

